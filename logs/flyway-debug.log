2019-02-22 12:09:00,049 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-22 12:09:14,835 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-22 12:09:14,840 INFO  [main] org.flywaydb.core.internal.license.VersionPrinter - Flyway Community Edition 5.2.4 by Boxfuse
2019-02-22 12:09:14,924 INFO  [main] org.flywaydb.core.internal.database.DatabaseFactory - Database: jdbc:postgresql://localhost:55406/template1 (PostgreSQL 10.6)
2019-02-22 12:09:14,924 DEBUG [main] org.flywaydb.core.internal.database.DatabaseFactory - Driver  : PostgreSQL JDBC Driver 42.2.5
2019-02-22 12:09:14,930 DEBUG [main] org.flywaydb.core.Flyway - DDL Transactions Supported: true
2019-02-22 12:09:14,935 DEBUG [main] org.flywaydb.core.Flyway - Schema: public
2019-02-22 12:09:14,939 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2019-02-22 12:09:14,939 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader jdk.internal.loader.ClassLoaders$AppClassLoader@6ed3ef1 ...
2019-02-22 12:09:14,939 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning URL: file:/C:/Users/Valiantsin_Danilau/IdeaProjects/Task1/target/classes/db/migration
2019-02-22 12:09:14,939 DEBUG [main] org.flywaydb.core.internal.util.FeatureDetector - JBoss VFS v2 available: false
2019-02-22 12:09:14,941 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: C:\Users\Valiantsin_Danilau\IdeaProjects\Task1\target\classes\
2019-02-22 12:09:14,941 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning for resources in path: C:\Users\Valiantsin_Danilau\IdeaProjects\Task1\target\classes\db\migration (db/migration)
2019-02-22 12:09:14,942 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: db/migration/V1_1__init_data.sql
2019-02-22 12:09:14,942 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: db/migration/V1__init_schema.sql
2019-02-22 12:09:14,942 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2019-02-22 12:09:14,945 DEBUG [main] org.flywaydb.core.internal.callback.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
2019-02-22 12:09:14,950 DEBUG [main] org.flywaydb.core.internal.util.FeatureDetector - Spring Jdbc available: true
2019-02-22 12:09:14,964 DEBUG [main] org.flywaydb.core.internal.command.DbValidate - Validating migrations ...
2019-02-22 12:09:14,969 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing V1_1__init_data.sql ...
2019-02-22 12:09:14,972 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 1: INSERT INTO "user" (login, password)
VALUES ('user1', 'user1')
2019-02-22 12:09:14,973 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 3: INSERT INTO "user" (login, password)
VALUES ('user2', 'user2')
2019-02-22 12:09:14,973 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 5: INSERT INTO "user" (login, password)
VALUES ('user3', 'user3')
2019-02-22 12:09:14,974 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 7: INSERT INTO "user" (login, password)
VALUES ('user4', 'user4')
2019-02-22 12:09:14,974 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 10: INSERT INTO "country" (name)
VALUES ('testCountry')
2019-02-22 12:09:14,974 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 13: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test1', 4, 'test1', 1, 1, 'security')
2019-02-22 12:09:14,975 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 15: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test2', 4, 'test2', 1, 1, 'security')
2019-02-22 12:09:14,975 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 17: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test3', 4, 'test3', 1, 1, 'security')
2019-02-22 12:09:14,975 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 19: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test4', 4, 'test4', 1, 1, 'security')
2019-02-22 12:09:14,976 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 22: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test1.jpg', '12-12-2012', 12, 'description1', 505, 'guided', 1, 1)
2019-02-22 12:09:14,976 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 24: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test2.jpg', '12-12-2012', 12, 'description2', 505, 'guided', 2, 1)
2019-02-22 12:09:14,977 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 26: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test3.jpg', '12-12-2012', 12, 'description3', 505, 'guided', 3, 1)
2019-02-22 12:09:14,977 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 28: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test4.jpg', '12-12-2012', 12, 'description4', 505, 'guided', 4, 1)
2019-02-22 12:09:14,979 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing V1__init_schema.sql ...
2019-02-22 12:09:14,980 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 1: CREATE TYPE TOUR_TYPE AS ENUM
  (
    'bus', 'sightseeing', 'shore_excursion',
    'adventure', 'sporting', 'cruise',
    'escorted', 'guided', 'rail', 'extreme'
    )
2019-02-22 12:09:14,980 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 8: CREATE TYPE HOTEL_FEATURE AS ENUM
  (
    'cleanliness', 'security', 'wi-fi', 'breakfast', 'parking', 'air_conditioning',
    'food_delivery', 'pool', 'conference_hall', 'safe'
    )
2019-02-22 12:09:14,981 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 16: CREATE TABLE IF NOT EXISTS "user"
(
  id       SERIAL,
  login    VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255)        NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 12:09:14,982 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 24: CREATE TABLE IF NOT EXISTS "hotel"
(
  id        SERIAL,
  name      VARCHAR(255)   NOT NULL,
  stars     SMALLINT       NOT NULL,
  website   VARCHAR(255)   NOT NULL,
  latitude  DECIMAL(8, 6)  NOT NULL,
  longitude DECIMAL(8, 6)  NOT NULL,
  feature   HOTEL_FEATURE NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 12:09:14,982 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 36: CREATE TABLE IF NOT EXISTS "country"
(
  id   SERIAL,
  name VARCHAR(255),
  PRIMARY KEY (id)
)
2019-02-22 12:09:14,983 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 43: CREATE TABLE IF NOT EXISTS "tour"
(
  id          SERIAL,
  photo       VARCHAR(255),
  date        DATE           NOT NULL,
  duration    INT            NOT NULL,
  description TEXT           NOT NULL,
  cost        DECIMAL(19, 3) NOT NULL,
  tour_type   TOUR_TYPE      NOT NULL,
  hotel_id    INT            NOT NULL,
  country_id  INT            NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (hotel_id) REFERENCES "hotel" (id),
  FOREIGN KEY (country_id) REFERENCES "country" (id)
)
2019-02-22 12:09:14,983 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 59: CREATE TABLE IF NOT EXISTS "usertour"
(
  user_id INT UNIQUE NOT NULL,
  tour_id INT UNIQUE NOT NULL,
  PRIMARY KEY (user_id, tour_id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 12:09:14,984 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 68: CREATE TABLE IF NOT EXISTS "review"
(
  id      SERIAL,
  date    DATE NOT NULL,
  text    TEXT NOT NULL,
  user_id INT  NOT NULL,
  tour_id INT  NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 12:09:14,985 DEBUG [main] org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1_1__init_data.sql (filename: V1_1__init_data.sql)
2019-02-22 12:09:14,985 DEBUG [main] org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__init_schema.sql (filename: V1__init_schema.sql)
2019-02-22 12:09:14,991 INFO  [main] org.flywaydb.core.internal.command.DbValidate - Successfully validated 2 migrations (execution time 00:00.025s)
2019-02-22 12:09:14,993 DEBUG [main] org.flywaydb.core.internal.command.DbSchemas - Schema "public" already exists. Skipping schema creation.
2019-02-22 12:09:15,003 INFO  [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Creating Schema History table: "public"."flyway_schema_history"
2019-02-22 12:09:15,004 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing createMetaDataTable.sql ...
2019-02-22 12:09:15,006 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 17: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2019-02-22 12:09:15,006 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 29: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2019-02-22 12:09:15,006 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 31: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2019-02-22 12:09:15,007 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2019-02-22 12:09:15,022 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:09:15,023 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2019-02-22 12:09:15,028 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:09:15,028 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2019-02-22 12:09:15,031 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:09:15,032 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Created Schema History table: "public"."flyway_schema_history"
2019-02-22 12:09:15,039 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Current version of schema "public": << Empty Schema >>
2019-02-22 12:09:15,040 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version 1 - init schema
2019-02-22 12:09:15,042 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TYPE TOUR_TYPE AS ENUM
  (
    'bus', 'sightseeing', 'shore_excursion',
    'adventure', 'sporting', 'cruise',
    'escorted', 'guided', 'rail', 'extreme'
    )
2019-02-22 12:09:15,045 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:09:15,045 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TYPE HOTEL_FEATURE AS ENUM
  (
    'cleanliness', 'security', 'wi-fi', 'breakfast', 'parking', 'air_conditioning',
    'food_delivery', 'pool', 'conference_hall', 'safe'
    )
2019-02-22 12:09:15,046 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:09:15,046 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "user"
(
  id       SERIAL,
  login    VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255)        NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 12:09:15,059 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:09:15,059 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "hotel"
(
  id        SERIAL,
  name      VARCHAR(255)   NOT NULL,
  stars     SMALLINT       NOT NULL,
  website   VARCHAR(255)   NOT NULL,
  latitude  DECIMAL(8, 6)  NOT NULL,
  longitude DECIMAL(8, 6)  NOT NULL,
  feature   HOTEL_FEATURE NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 12:09:15,068 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:09:15,068 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "country"
(
  id   SERIAL,
  name VARCHAR(255),
  PRIMARY KEY (id)
)
2019-02-22 12:09:15,074 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:09:15,074 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "tour"
(
  id          SERIAL,
  photo       VARCHAR(255),
  date        DATE           NOT NULL,
  duration    INT            NOT NULL,
  description TEXT           NOT NULL,
  cost        DECIMAL(19, 3) NOT NULL,
  tour_type   TOUR_TYPE      NOT NULL,
  hotel_id    INT            NOT NULL,
  country_id  INT            NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (hotel_id) REFERENCES "hotel" (id),
  FOREIGN KEY (country_id) REFERENCES "country" (id)
)
2019-02-22 12:09:15,086 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:09:15,086 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "usertour"
(
  user_id INT UNIQUE NOT NULL,
  tour_id INT UNIQUE NOT NULL,
  PRIMARY KEY (user_id, tour_id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 12:09:15,097 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:09:15,097 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "review"
(
  id      SERIAL,
  date    DATE NOT NULL,
  text    TEXT NOT NULL,
  user_id INT  NOT NULL,
  tour_id INT  NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 12:09:15,107 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:09:15,107 DEBUG [main] org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version 1 - init schema
2019-02-22 12:09:15,112 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
2019-02-22 12:09:15,117 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version 1.1 - init data
2019-02-22 12:09:15,118 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user1', 'user1')
2019-02-22 12:09:15,120 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:09:15,120 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user2', 'user2')
2019-02-22 12:09:15,121 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:09:15,121 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user3', 'user3')
2019-02-22 12:09:15,121 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:09:15,121 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user4', 'user4')
2019-02-22 12:09:15,121 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:09:15,121 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "country" (name)
VALUES ('testCountry')
2019-02-22 12:09:15,123 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:09:15,123 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test1', 4, 'test1', 1, 1, 'security')
2019-02-22 12:09:15,125 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:09:15,125 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test2', 4, 'test2', 1, 1, 'security')
2019-02-22 12:09:15,125 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:09:15,125 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test3', 4, 'test3', 1, 1, 'security')
2019-02-22 12:09:15,125 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:09:15,125 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test4', 4, 'test4', 1, 1, 'security')
2019-02-22 12:09:15,126 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:09:15,126 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test1.jpg', '12-12-2012', 12, 'description1', 505, 'guided', 1, 1)
2019-02-22 12:09:15,128 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:09:15,128 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test2.jpg', '12-12-2012', 12, 'description2', 505, 'guided', 2, 1)
2019-02-22 12:09:15,128 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:09:15,128 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test3.jpg', '12-12-2012', 12, 'description3', 505, 'guided', 3, 1)
2019-02-22 12:09:15,128 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:09:15,129 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test4.jpg', '12-12-2012', 12, 'description4', 505, 'guided', 4, 1)
2019-02-22 12:09:15,129 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:09:15,129 DEBUG [main] org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version 1.1 - init data
2019-02-22 12:09:15,131 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
2019-02-22 12:09:15,133 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Successfully applied 2 migrations to schema "public" (execution time 00:00.131s)
2019-02-22 12:09:15,135 DEBUG [main] org.flywaydb.core.Flyway - Memory usage: 13 of 256M
2019-02-22 12:09:16,425 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-22 12:09:16,968 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-22 12:37:30,838 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-22 12:37:47,240 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-22 12:37:47,245 INFO  [main] org.flywaydb.core.internal.license.VersionPrinter - Flyway Community Edition 5.2.4 by Boxfuse
2019-02-22 12:37:47,329 INFO  [main] org.flywaydb.core.internal.database.DatabaseFactory - Database: jdbc:postgresql://localhost:55856/template1 (PostgreSQL 10.6)
2019-02-22 12:37:47,329 DEBUG [main] org.flywaydb.core.internal.database.DatabaseFactory - Driver  : PostgreSQL JDBC Driver 42.2.5
2019-02-22 12:37:47,336 DEBUG [main] org.flywaydb.core.Flyway - DDL Transactions Supported: true
2019-02-22 12:37:47,340 DEBUG [main] org.flywaydb.core.Flyway - Schema: public
2019-02-22 12:37:47,344 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2019-02-22 12:37:47,344 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader jdk.internal.loader.ClassLoaders$AppClassLoader@6ed3ef1 ...
2019-02-22 12:37:47,345 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning URL: file:/C:/Users/Valiantsin_Danilau/IdeaProjects/Task1/target/classes/db/migration
2019-02-22 12:37:47,345 DEBUG [main] org.flywaydb.core.internal.util.FeatureDetector - JBoss VFS v2 available: false
2019-02-22 12:37:47,347 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: C:\Users\Valiantsin_Danilau\IdeaProjects\Task1\target\classes\
2019-02-22 12:37:47,347 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning for resources in path: C:\Users\Valiantsin_Danilau\IdeaProjects\Task1\target\classes\db\migration (db/migration)
2019-02-22 12:37:47,348 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: db/migration/V1_1__init_data.sql
2019-02-22 12:37:47,348 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: db/migration/V1__init_schema.sql
2019-02-22 12:37:47,348 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2019-02-22 12:37:47,351 DEBUG [main] org.flywaydb.core.internal.callback.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
2019-02-22 12:37:47,356 DEBUG [main] org.flywaydb.core.internal.util.FeatureDetector - Spring Jdbc available: true
2019-02-22 12:37:47,370 DEBUG [main] org.flywaydb.core.internal.command.DbValidate - Validating migrations ...
2019-02-22 12:37:47,374 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing V1_1__init_data.sql ...
2019-02-22 12:37:47,378 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 1: INSERT INTO "user" (login, password)
VALUES ('user1', 'user1')
2019-02-22 12:37:47,378 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 3: INSERT INTO "user" (login, password)
VALUES ('user2', 'user2')
2019-02-22 12:37:47,378 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 5: INSERT INTO "user" (login, password)
VALUES ('user3', 'user3')
2019-02-22 12:37:47,378 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 7: INSERT INTO "user" (login, password)
VALUES ('user4', 'user4')
2019-02-22 12:37:47,379 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 10: INSERT INTO "country" (name)
VALUES ('testCountry')
2019-02-22 12:37:47,379 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 13: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test1', 4, 'test1', 1, 1, 'security')
2019-02-22 12:37:47,379 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 15: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test2', 4, 'test2', 1, 1, 'security')
2019-02-22 12:37:47,380 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 17: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test3', 4, 'test3', 1, 1, 'security')
2019-02-22 12:37:47,380 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 19: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test4', 4, 'test4', 1, 1, 'security')
2019-02-22 12:37:47,381 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 22: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test1.jpg', '12-12-2012', 12, 'description1', 505, 'guided', 1, 1)
2019-02-22 12:37:47,381 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 24: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test2.jpg', '12-12-2012', 12, 'description2', 505, 'guided', 2, 1)
2019-02-22 12:37:47,382 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 26: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test3.jpg', '12-12-2012', 12, 'description3', 505, 'guided', 3, 1)
2019-02-22 12:37:47,382 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 28: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test4.jpg', '12-12-2012', 12, 'description4', 505, 'guided', 4, 1)
2019-02-22 12:37:47,382 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 31: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('11-12-2012', 'Some words1', 1,1)
2019-02-22 12:37:47,383 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 32: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-12-2012', 'Some words2', 1,1)
2019-02-22 12:37:47,383 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 33: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('13-12-2012', 'Some words3', 1,1)
2019-02-22 12:37:47,383 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 34: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('14-12-2012', 'Some words4', 1,1)
2019-02-22 12:37:47,385 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing V1__init_schema.sql ...
2019-02-22 12:37:47,386 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 1: CREATE TYPE TOUR_TYPE AS ENUM
  (
    'bus', 'sightseeing', 'shore_excursion',
    'adventure', 'sporting', 'cruise',
    'escorted', 'guided', 'rail', 'extreme'
    )
2019-02-22 12:37:47,387 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 8: CREATE TYPE HOTEL_FEATURE AS ENUM
  (
    'cleanliness', 'security', 'wi-fi', 'breakfast', 'parking', 'air_conditioning',
    'food_delivery', 'pool', 'conference_hall', 'safe'
    )
2019-02-22 12:37:47,387 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 16: CREATE TABLE IF NOT EXISTS "user"
(
  id       SERIAL,
  login    VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255)        NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 12:37:47,388 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 24: CREATE TABLE IF NOT EXISTS "hotel"
(
  id        SERIAL,
  name      VARCHAR(255)   NOT NULL,
  stars     SMALLINT       NOT NULL,
  website   VARCHAR(255)   NOT NULL,
  latitude  DECIMAL(8, 6)  NOT NULL,
  longitude DECIMAL(8, 6)  NOT NULL,
  feature   HOTEL_FEATURE NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 12:37:47,388 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 36: CREATE TABLE IF NOT EXISTS "country"
(
  id   SERIAL,
  name VARCHAR(255),
  PRIMARY KEY (id)
)
2019-02-22 12:37:47,390 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 43: CREATE TABLE IF NOT EXISTS "tour"
(
  id          SERIAL,
  photo       VARCHAR(255),
  date        DATE           NOT NULL,
  duration    INT            NOT NULL,
  description TEXT           NOT NULL,
  cost        DECIMAL(19, 3) NOT NULL,
  tour_type   TOUR_TYPE      NOT NULL,
  hotel_id    INT            NOT NULL,
  country_id  INT            NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (hotel_id) REFERENCES "hotel" (id),
  FOREIGN KEY (country_id) REFERENCES "country" (id)
)
2019-02-22 12:37:47,390 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 59: CREATE TABLE IF NOT EXISTS "usertour"
(
  user_id INT UNIQUE NOT NULL,
  tour_id INT UNIQUE NOT NULL,
  PRIMARY KEY (user_id, tour_id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 12:37:47,391 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 68: CREATE TABLE IF NOT EXISTS "review"
(
  id      SERIAL,
  date    DATE NOT NULL,
  text    TEXT NOT NULL,
  user_id INT  NOT NULL,
  tour_id INT  NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 12:37:47,392 DEBUG [main] org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1_1__init_data.sql (filename: V1_1__init_data.sql)
2019-02-22 12:37:47,392 DEBUG [main] org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__init_schema.sql (filename: V1__init_schema.sql)
2019-02-22 12:37:47,398 INFO  [main] org.flywaydb.core.internal.command.DbValidate - Successfully validated 2 migrations (execution time 00:00.027s)
2019-02-22 12:37:47,400 DEBUG [main] org.flywaydb.core.internal.command.DbSchemas - Schema "public" already exists. Skipping schema creation.
2019-02-22 12:37:47,410 INFO  [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Creating Schema History table: "public"."flyway_schema_history"
2019-02-22 12:37:47,411 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing createMetaDataTable.sql ...
2019-02-22 12:37:47,414 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 17: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2019-02-22 12:37:47,414 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 29: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2019-02-22 12:37:47,414 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 31: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2019-02-22 12:37:47,414 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2019-02-22 12:37:47,429 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:37:47,430 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2019-02-22 12:37:47,434 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:37:47,435 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2019-02-22 12:37:47,437 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:37:47,437 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Created Schema History table: "public"."flyway_schema_history"
2019-02-22 12:37:47,444 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Current version of schema "public": << Empty Schema >>
2019-02-22 12:37:47,445 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version 1 - init schema
2019-02-22 12:37:47,446 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TYPE TOUR_TYPE AS ENUM
  (
    'bus', 'sightseeing', 'shore_excursion',
    'adventure', 'sporting', 'cruise',
    'escorted', 'guided', 'rail', 'extreme'
    )
2019-02-22 12:37:47,450 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:37:47,450 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TYPE HOTEL_FEATURE AS ENUM
  (
    'cleanliness', 'security', 'wi-fi', 'breakfast', 'parking', 'air_conditioning',
    'food_delivery', 'pool', 'conference_hall', 'safe'
    )
2019-02-22 12:37:47,450 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:37:47,450 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "user"
(
  id       SERIAL,
  login    VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255)        NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 12:37:47,463 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:37:47,464 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "hotel"
(
  id        SERIAL,
  name      VARCHAR(255)   NOT NULL,
  stars     SMALLINT       NOT NULL,
  website   VARCHAR(255)   NOT NULL,
  latitude  DECIMAL(8, 6)  NOT NULL,
  longitude DECIMAL(8, 6)  NOT NULL,
  feature   HOTEL_FEATURE NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 12:37:47,473 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:37:47,473 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "country"
(
  id   SERIAL,
  name VARCHAR(255),
  PRIMARY KEY (id)
)
2019-02-22 12:37:47,479 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:37:47,479 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "tour"
(
  id          SERIAL,
  photo       VARCHAR(255),
  date        DATE           NOT NULL,
  duration    INT            NOT NULL,
  description TEXT           NOT NULL,
  cost        DECIMAL(19, 3) NOT NULL,
  tour_type   TOUR_TYPE      NOT NULL,
  hotel_id    INT            NOT NULL,
  country_id  INT            NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (hotel_id) REFERENCES "hotel" (id),
  FOREIGN KEY (country_id) REFERENCES "country" (id)
)
2019-02-22 12:37:47,491 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:37:47,491 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "usertour"
(
  user_id INT UNIQUE NOT NULL,
  tour_id INT UNIQUE NOT NULL,
  PRIMARY KEY (user_id, tour_id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 12:37:47,502 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:37:47,502 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "review"
(
  id      SERIAL,
  date    DATE NOT NULL,
  text    TEXT NOT NULL,
  user_id INT  NOT NULL,
  tour_id INT  NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 12:37:47,512 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:37:47,512 DEBUG [main] org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version 1 - init schema
2019-02-22 12:37:47,517 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
2019-02-22 12:37:47,522 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version 1.1 - init data
2019-02-22 12:37:47,523 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user1', 'user1')
2019-02-22 12:37:47,525 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:37:47,526 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user2', 'user2')
2019-02-22 12:37:47,526 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:37:47,526 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user3', 'user3')
2019-02-22 12:37:47,527 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:37:47,527 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user4', 'user4')
2019-02-22 12:37:47,527 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:37:47,527 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "country" (name)
VALUES ('testCountry')
2019-02-22 12:37:47,529 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:37:47,529 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test1', 4, 'test1', 1, 1, 'security')
2019-02-22 12:37:47,530 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:37:47,530 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test2', 4, 'test2', 1, 1, 'security')
2019-02-22 12:37:47,531 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:37:47,531 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test3', 4, 'test3', 1, 1, 'security')
2019-02-22 12:37:47,531 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:37:47,531 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test4', 4, 'test4', 1, 1, 'security')
2019-02-22 12:37:47,531 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:37:47,531 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test1.jpg', '12-12-2012', 12, 'description1', 505, 'guided', 1, 1)
2019-02-22 12:37:47,533 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:37:47,533 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test2.jpg', '12-12-2012', 12, 'description2', 505, 'guided', 2, 1)
2019-02-22 12:37:47,534 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:37:47,534 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test3.jpg', '12-12-2012', 12, 'description3', 505, 'guided', 3, 1)
2019-02-22 12:37:47,534 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:37:47,534 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test4.jpg', '12-12-2012', 12, 'description4', 505, 'guided', 4, 1)
2019-02-22 12:37:47,535 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:37:47,535 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('11-12-2012', 'Some words1', 1,1)
2019-02-22 12:37:47,537 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:37:47,537 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-12-2012', 'Some words2', 1,1)
2019-02-22 12:37:47,537 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:37:47,537 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('13-12-2012', 'Some words3', 1,1)
2019-02-22 12:37:47,543 DEBUG [main] org.flywaydb.core.internal.jdbc.TransactionTemplate - Rolling back transaction...
2019-02-22 12:37:47,543 DEBUG [main] org.flywaydb.core.internal.jdbc.TransactionTemplate - Transaction rolled back
2019-02-22 12:37:47,543 ERROR [main] org.flywaydb.core.internal.command.DbMigrate - Migration of schema "public" to version 1.1 - init data failed! Changes successfully rolled back.
2019-02-22 12:37:47,545 DEBUG [main] org.flywaydb.core.Flyway - Memory usage: 13 of 256M
2019-02-22 12:39:02,441 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-22 12:39:16,240 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-22 12:39:16,246 INFO  [main] org.flywaydb.core.internal.license.VersionPrinter - Flyway Community Edition 5.2.4 by Boxfuse
2019-02-22 12:39:16,350 INFO  [main] org.flywaydb.core.internal.database.DatabaseFactory - Database: jdbc:postgresql://localhost:55877/template1 (PostgreSQL 10.6)
2019-02-22 12:39:16,350 DEBUG [main] org.flywaydb.core.internal.database.DatabaseFactory - Driver  : PostgreSQL JDBC Driver 42.2.5
2019-02-22 12:39:16,356 DEBUG [main] org.flywaydb.core.Flyway - DDL Transactions Supported: true
2019-02-22 12:39:16,361 DEBUG [main] org.flywaydb.core.Flyway - Schema: public
2019-02-22 12:39:16,365 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2019-02-22 12:39:16,365 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader jdk.internal.loader.ClassLoaders$AppClassLoader@6ed3ef1 ...
2019-02-22 12:39:16,366 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning URL: file:/C:/Users/Valiantsin_Danilau/IdeaProjects/Task1/target/classes/db/migration
2019-02-22 12:39:16,366 DEBUG [main] org.flywaydb.core.internal.util.FeatureDetector - JBoss VFS v2 available: false
2019-02-22 12:39:16,368 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: C:\Users\Valiantsin_Danilau\IdeaProjects\Task1\target\classes\
2019-02-22 12:39:16,368 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning for resources in path: C:\Users\Valiantsin_Danilau\IdeaProjects\Task1\target\classes\db\migration (db/migration)
2019-02-22 12:39:16,368 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: db/migration/V1_1__init_data.sql
2019-02-22 12:39:16,369 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: db/migration/V1__init_schema.sql
2019-02-22 12:39:16,369 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2019-02-22 12:39:16,372 DEBUG [main] org.flywaydb.core.internal.callback.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
2019-02-22 12:39:16,378 DEBUG [main] org.flywaydb.core.internal.util.FeatureDetector - Spring Jdbc available: true
2019-02-22 12:39:16,392 DEBUG [main] org.flywaydb.core.internal.command.DbValidate - Validating migrations ...
2019-02-22 12:39:16,397 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing V1_1__init_data.sql ...
2019-02-22 12:39:16,400 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 1: INSERT INTO "user" (login, password)
VALUES ('user1', 'user1')
2019-02-22 12:39:16,400 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 3: INSERT INTO "user" (login, password)
VALUES ('user2', 'user2')
2019-02-22 12:39:16,401 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 5: INSERT INTO "user" (login, password)
VALUES ('user3', 'user3')
2019-02-22 12:39:16,401 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 7: INSERT INTO "user" (login, password)
VALUES ('user4', 'user4')
2019-02-22 12:39:16,401 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 10: INSERT INTO "country" (name)
VALUES ('testCountry')
2019-02-22 12:39:16,402 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 13: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test1', 4, 'test1', 1, 1, 'security')
2019-02-22 12:39:16,402 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 15: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test2', 4, 'test2', 1, 1, 'security')
2019-02-22 12:39:16,402 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 17: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test3', 4, 'test3', 1, 1, 'security')
2019-02-22 12:39:16,403 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 19: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test4', 4, 'test4', 1, 1, 'security')
2019-02-22 12:39:16,403 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 22: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test1.jpg', '12-12-2012', 12, 'description1', 505, 'guided', 1, 1)
2019-02-22 12:39:16,404 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 24: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test2.jpg', '12-12-2012', 12, 'description2', 505, 'guided', 2, 1)
2019-02-22 12:39:16,404 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 26: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test3.jpg', '12-12-2012', 12, 'description3', 505, 'guided', 3, 1)
2019-02-22 12:39:16,404 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 28: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test4.jpg', '12-12-2012', 12, 'description4', 505, 'guided', 4, 1)
2019-02-22 12:39:16,405 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 31: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-10-2012', 'Some words1', 1,1)
2019-02-22 12:39:16,405 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 32: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-11-2012', 'Some words2', 1,1)
2019-02-22 12:39:16,405 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 33: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-13-2012', 'Some words3', 1,1)
2019-02-22 12:39:16,405 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 34: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-14-2012', 'Some words4', 1,1)
2019-02-22 12:39:16,407 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing V1__init_schema.sql ...
2019-02-22 12:39:16,409 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 1: CREATE TYPE TOUR_TYPE AS ENUM
  (
    'bus', 'sightseeing', 'shore_excursion',
    'adventure', 'sporting', 'cruise',
    'escorted', 'guided', 'rail', 'extreme'
    )
2019-02-22 12:39:16,409 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 8: CREATE TYPE HOTEL_FEATURE AS ENUM
  (
    'cleanliness', 'security', 'wi-fi', 'breakfast', 'parking', 'air_conditioning',
    'food_delivery', 'pool', 'conference_hall', 'safe'
    )
2019-02-22 12:39:16,409 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 16: CREATE TABLE IF NOT EXISTS "user"
(
  id       SERIAL,
  login    VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255)        NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 12:39:16,410 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 24: CREATE TABLE IF NOT EXISTS "hotel"
(
  id        SERIAL,
  name      VARCHAR(255)   NOT NULL,
  stars     SMALLINT       NOT NULL,
  website   VARCHAR(255)   NOT NULL,
  latitude  DECIMAL(8, 6)  NOT NULL,
  longitude DECIMAL(8, 6)  NOT NULL,
  feature   HOTEL_FEATURE NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 12:39:16,411 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 36: CREATE TABLE IF NOT EXISTS "country"
(
  id   SERIAL,
  name VARCHAR(255),
  PRIMARY KEY (id)
)
2019-02-22 12:39:16,412 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 43: CREATE TABLE IF NOT EXISTS "tour"
(
  id          SERIAL,
  photo       VARCHAR(255),
  date        DATE           NOT NULL,
  duration    INT            NOT NULL,
  description TEXT           NOT NULL,
  cost        DECIMAL(19, 3) NOT NULL,
  tour_type   TOUR_TYPE      NOT NULL,
  hotel_id    INT            NOT NULL,
  country_id  INT            NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (hotel_id) REFERENCES "hotel" (id),
  FOREIGN KEY (country_id) REFERENCES "country" (id)
)
2019-02-22 12:39:16,412 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 59: CREATE TABLE IF NOT EXISTS "usertour"
(
  user_id INT UNIQUE NOT NULL,
  tour_id INT UNIQUE NOT NULL,
  PRIMARY KEY (user_id, tour_id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 12:39:16,413 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 68: CREATE TABLE IF NOT EXISTS "review"
(
  id      SERIAL,
  date    DATE NOT NULL,
  text    TEXT NOT NULL,
  user_id INT  NOT NULL,
  tour_id INT  NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 12:39:16,414 DEBUG [main] org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1_1__init_data.sql (filename: V1_1__init_data.sql)
2019-02-22 12:39:16,414 DEBUG [main] org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__init_schema.sql (filename: V1__init_schema.sql)
2019-02-22 12:39:16,421 INFO  [main] org.flywaydb.core.internal.command.DbValidate - Successfully validated 2 migrations (execution time 00:00.027s)
2019-02-22 12:39:16,423 DEBUG [main] org.flywaydb.core.internal.command.DbSchemas - Schema "public" already exists. Skipping schema creation.
2019-02-22 12:39:16,433 INFO  [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Creating Schema History table: "public"."flyway_schema_history"
2019-02-22 12:39:16,435 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing createMetaDataTable.sql ...
2019-02-22 12:39:16,437 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 17: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2019-02-22 12:39:16,437 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 29: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2019-02-22 12:39:16,437 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 31: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2019-02-22 12:39:16,438 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2019-02-22 12:39:16,452 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:39:16,453 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2019-02-22 12:39:16,458 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:39:16,458 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2019-02-22 12:39:16,461 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:39:16,461 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Created Schema History table: "public"."flyway_schema_history"
2019-02-22 12:39:16,468 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Current version of schema "public": << Empty Schema >>
2019-02-22 12:39:16,468 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version 1 - init schema
2019-02-22 12:39:16,470 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TYPE TOUR_TYPE AS ENUM
  (
    'bus', 'sightseeing', 'shore_excursion',
    'adventure', 'sporting', 'cruise',
    'escorted', 'guided', 'rail', 'extreme'
    )
2019-02-22 12:39:16,473 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:39:16,474 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TYPE HOTEL_FEATURE AS ENUM
  (
    'cleanliness', 'security', 'wi-fi', 'breakfast', 'parking', 'air_conditioning',
    'food_delivery', 'pool', 'conference_hall', 'safe'
    )
2019-02-22 12:39:16,474 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:39:16,474 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "user"
(
  id       SERIAL,
  login    VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255)        NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 12:39:16,487 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:39:16,488 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "hotel"
(
  id        SERIAL,
  name      VARCHAR(255)   NOT NULL,
  stars     SMALLINT       NOT NULL,
  website   VARCHAR(255)   NOT NULL,
  latitude  DECIMAL(8, 6)  NOT NULL,
  longitude DECIMAL(8, 6)  NOT NULL,
  feature   HOTEL_FEATURE NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 12:39:16,496 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:39:16,497 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "country"
(
  id   SERIAL,
  name VARCHAR(255),
  PRIMARY KEY (id)
)
2019-02-22 12:39:16,502 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:39:16,502 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "tour"
(
  id          SERIAL,
  photo       VARCHAR(255),
  date        DATE           NOT NULL,
  duration    INT            NOT NULL,
  description TEXT           NOT NULL,
  cost        DECIMAL(19, 3) NOT NULL,
  tour_type   TOUR_TYPE      NOT NULL,
  hotel_id    INT            NOT NULL,
  country_id  INT            NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (hotel_id) REFERENCES "hotel" (id),
  FOREIGN KEY (country_id) REFERENCES "country" (id)
)
2019-02-22 12:39:16,514 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:39:16,515 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "usertour"
(
  user_id INT UNIQUE NOT NULL,
  tour_id INT UNIQUE NOT NULL,
  PRIMARY KEY (user_id, tour_id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 12:39:16,526 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:39:16,526 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "review"
(
  id      SERIAL,
  date    DATE NOT NULL,
  text    TEXT NOT NULL,
  user_id INT  NOT NULL,
  tour_id INT  NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 12:39:16,536 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:39:16,536 DEBUG [main] org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version 1 - init schema
2019-02-22 12:39:16,540 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
2019-02-22 12:39:16,546 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version 1.1 - init data
2019-02-22 12:39:16,548 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user1', 'user1')
2019-02-22 12:39:16,550 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:39:16,550 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user2', 'user2')
2019-02-22 12:39:16,550 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:39:16,550 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user3', 'user3')
2019-02-22 12:39:16,551 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:39:16,551 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user4', 'user4')
2019-02-22 12:39:16,551 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:39:16,552 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "country" (name)
VALUES ('testCountry')
2019-02-22 12:39:16,553 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:39:16,553 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test1', 4, 'test1', 1, 1, 'security')
2019-02-22 12:39:16,555 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:39:16,555 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test2', 4, 'test2', 1, 1, 'security')
2019-02-22 12:39:16,556 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:39:16,556 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test3', 4, 'test3', 1, 1, 'security')
2019-02-22 12:39:16,556 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:39:16,556 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test4', 4, 'test4', 1, 1, 'security')
2019-02-22 12:39:16,556 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:39:16,556 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test1.jpg', '12-12-2012', 12, 'description1', 505, 'guided', 1, 1)
2019-02-22 12:39:16,558 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:39:16,558 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test2.jpg', '12-12-2012', 12, 'description2', 505, 'guided', 2, 1)
2019-02-22 12:39:16,559 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:39:16,559 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test3.jpg', '12-12-2012', 12, 'description3', 505, 'guided', 3, 1)
2019-02-22 12:39:16,559 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:39:16,559 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test4.jpg', '12-12-2012', 12, 'description4', 505, 'guided', 4, 1)
2019-02-22 12:39:16,560 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:39:16,560 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-10-2012', 'Some words1', 1,1)
2019-02-22 12:39:16,562 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:39:16,562 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-11-2012', 'Some words2', 1,1)
2019-02-22 12:39:16,562 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:39:16,562 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-13-2012', 'Some words3', 1,1)
2019-02-22 12:39:16,563 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:39:16,563 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-14-2012', 'Some words4', 1,1)
2019-02-22 12:39:16,563 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:39:16,563 DEBUG [main] org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version 1.1 - init data
2019-02-22 12:39:16,565 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
2019-02-22 12:39:16,568 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Successfully applied 2 migrations to schema "public" (execution time 00:00.135s)
2019-02-22 12:39:16,570 DEBUG [main] org.flywaydb.core.Flyway - Memory usage: 12 of 256M
2019-02-22 12:41:03,222 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-22 12:41:21,018 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-22 12:41:21,024 INFO  [main] org.flywaydb.core.internal.license.VersionPrinter - Flyway Community Edition 5.2.4 by Boxfuse
2019-02-22 12:41:21,118 INFO  [main] org.flywaydb.core.internal.database.DatabaseFactory - Database: jdbc:postgresql://localhost:55913/template1 (PostgreSQL 10.6)
2019-02-22 12:41:21,118 DEBUG [main] org.flywaydb.core.internal.database.DatabaseFactory - Driver  : PostgreSQL JDBC Driver 42.2.5
2019-02-22 12:41:21,125 DEBUG [main] org.flywaydb.core.Flyway - DDL Transactions Supported: true
2019-02-22 12:41:21,130 DEBUG [main] org.flywaydb.core.Flyway - Schema: public
2019-02-22 12:41:21,134 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2019-02-22 12:41:21,134 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader jdk.internal.loader.ClassLoaders$AppClassLoader@6ed3ef1 ...
2019-02-22 12:41:21,134 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning URL: file:/C:/Users/Valiantsin_Danilau/IdeaProjects/Task1/target/classes/db/migration
2019-02-22 12:41:21,135 DEBUG [main] org.flywaydb.core.internal.util.FeatureDetector - JBoss VFS v2 available: false
2019-02-22 12:41:21,136 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: C:\Users\Valiantsin_Danilau\IdeaProjects\Task1\target\classes\
2019-02-22 12:41:21,137 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning for resources in path: C:\Users\Valiantsin_Danilau\IdeaProjects\Task1\target\classes\db\migration (db/migration)
2019-02-22 12:41:21,137 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: db/migration/V1_1__init_data.sql
2019-02-22 12:41:21,137 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: db/migration/V1__init_schema.sql
2019-02-22 12:41:21,137 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2019-02-22 12:41:21,141 DEBUG [main] org.flywaydb.core.internal.callback.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
2019-02-22 12:41:21,146 DEBUG [main] org.flywaydb.core.internal.util.FeatureDetector - Spring Jdbc available: true
2019-02-22 12:41:21,161 DEBUG [main] org.flywaydb.core.internal.command.DbValidate - Validating migrations ...
2019-02-22 12:41:21,166 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing V1_1__init_data.sql ...
2019-02-22 12:41:21,169 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 1: INSERT INTO "user" (login, password)
VALUES ('user1', 'user1')
2019-02-22 12:41:21,169 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 3: INSERT INTO "user" (login, password)
VALUES ('user2', 'user2')
2019-02-22 12:41:21,169 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 5: INSERT INTO "user" (login, password)
VALUES ('user3', 'user3')
2019-02-22 12:41:21,170 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 7: INSERT INTO "user" (login, password)
VALUES ('user4', 'user4')
2019-02-22 12:41:21,170 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 10: INSERT INTO "country" (name)
VALUES ('testCountry')
2019-02-22 12:41:21,170 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 13: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test1', 4, 'test1', 1, 1, 'security')
2019-02-22 12:41:21,171 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 15: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test2', 4, 'test2', 1, 1, 'security')
2019-02-22 12:41:21,171 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 17: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test3', 4, 'test3', 1, 1, 'security')
2019-02-22 12:41:21,171 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 19: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test4', 4, 'test4', 1, 1, 'security')
2019-02-22 12:41:21,172 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 22: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test1.jpg', '12-12-2012', 12, 'description1', 505, 'guided', 1, 1)
2019-02-22 12:41:21,172 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 24: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test2.jpg', '12-12-2012', 12, 'description2', 505, 'guided', 2, 1)
2019-02-22 12:41:21,173 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 26: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test3.jpg', '12-12-2012', 12, 'description3', 505, 'guided', 3, 1)
2019-02-22 12:41:21,173 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 28: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test4.jpg', '12-12-2012', 12, 'description4', 505, 'guided', 4, 1)
2019-02-22 12:41:21,173 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 31: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-10-2012', 'Some words1', 1,1)
2019-02-22 12:41:21,174 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 32: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-11-2012', 'Some words2', 1,1)
2019-02-22 12:41:21,174 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 33: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-13-2012', 'Some words3', 1,1)
2019-02-22 12:41:21,174 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 34: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-14-2012', 'Some words4', 1,1)
2019-02-22 12:41:21,176 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing V1__init_schema.sql ...
2019-02-22 12:41:21,177 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 1: CREATE TYPE TOUR_TYPE AS ENUM
  (
    'bus', 'sightseeing', 'shore_excursion',
    'adventure', 'sporting', 'cruise',
    'escorted', 'guided', 'rail', 'extreme'
    )
2019-02-22 12:41:21,178 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 8: CREATE TYPE HOTEL_FEATURE AS ENUM
  (
    'cleanliness', 'security', 'wi-fi', 'breakfast', 'parking', 'air_conditioning',
    'food_delivery', 'pool', 'conference_hall', 'safe'
    )
2019-02-22 12:41:21,178 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 16: CREATE TABLE IF NOT EXISTS "user"
(
  id       SERIAL,
  login    VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255)        NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 12:41:21,179 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 24: CREATE TABLE IF NOT EXISTS "hotel"
(
  id        SERIAL,
  name      VARCHAR(255)   NOT NULL,
  stars     SMALLINT       NOT NULL,
  website   VARCHAR(255)   NOT NULL,
  latitude  DECIMAL(8, 6)  NOT NULL,
  longitude DECIMAL(8, 6)  NOT NULL,
  feature   HOTEL_FEATURE NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 12:41:21,180 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 36: CREATE TABLE IF NOT EXISTS "country"
(
  id   SERIAL,
  name VARCHAR(255),
  PRIMARY KEY (id)
)
2019-02-22 12:41:21,180 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 43: CREATE TABLE IF NOT EXISTS "tour"
(
  id          SERIAL,
  photo       VARCHAR(255),
  date        DATE           NOT NULL,
  duration    INT            NOT NULL,
  description TEXT           NOT NULL,
  cost        DECIMAL(19, 3) NOT NULL,
  tour_type   TOUR_TYPE      NOT NULL,
  hotel_id    INT            NOT NULL,
  country_id  INT            NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (hotel_id) REFERENCES "hotel" (id),
  FOREIGN KEY (country_id) REFERENCES "country" (id)
)
2019-02-22 12:41:21,181 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 59: CREATE TABLE IF NOT EXISTS "usertour"
(
  user_id INT UNIQUE NOT NULL,
  tour_id INT UNIQUE NOT NULL,
  PRIMARY KEY (user_id, tour_id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 12:41:21,182 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 68: CREATE TABLE IF NOT EXISTS "review"
(
  id      SERIAL,
  date    DATE NOT NULL,
  text    TEXT NOT NULL,
  user_id INT  NOT NULL,
  tour_id INT  NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 12:41:21,183 DEBUG [main] org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1_1__init_data.sql (filename: V1_1__init_data.sql)
2019-02-22 12:41:21,183 DEBUG [main] org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__init_schema.sql (filename: V1__init_schema.sql)
2019-02-22 12:41:21,189 INFO  [main] org.flywaydb.core.internal.command.DbValidate - Successfully validated 2 migrations (execution time 00:00.027s)
2019-02-22 12:41:21,191 DEBUG [main] org.flywaydb.core.internal.command.DbSchemas - Schema "public" already exists. Skipping schema creation.
2019-02-22 12:41:21,202 INFO  [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Creating Schema History table: "public"."flyway_schema_history"
2019-02-22 12:41:21,204 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing createMetaDataTable.sql ...
2019-02-22 12:41:21,206 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 17: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2019-02-22 12:41:21,206 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 29: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2019-02-22 12:41:21,207 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 31: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2019-02-22 12:41:21,207 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2019-02-22 12:41:21,221 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:41:21,222 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2019-02-22 12:41:21,227 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:41:21,227 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2019-02-22 12:41:21,230 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:41:21,230 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Created Schema History table: "public"."flyway_schema_history"
2019-02-22 12:41:21,237 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Current version of schema "public": << Empty Schema >>
2019-02-22 12:41:21,238 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version 1 - init schema
2019-02-22 12:41:21,239 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TYPE TOUR_TYPE AS ENUM
  (
    'bus', 'sightseeing', 'shore_excursion',
    'adventure', 'sporting', 'cruise',
    'escorted', 'guided', 'rail', 'extreme'
    )
2019-02-22 12:41:21,242 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:41:21,243 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TYPE HOTEL_FEATURE AS ENUM
  (
    'cleanliness', 'security', 'wi-fi', 'breakfast', 'parking', 'air_conditioning',
    'food_delivery', 'pool', 'conference_hall', 'safe'
    )
2019-02-22 12:41:21,243 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:41:21,243 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "user"
(
  id       SERIAL,
  login    VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255)        NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 12:41:21,256 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:41:21,256 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "hotel"
(
  id        SERIAL,
  name      VARCHAR(255)   NOT NULL,
  stars     SMALLINT       NOT NULL,
  website   VARCHAR(255)   NOT NULL,
  latitude  DECIMAL(8, 6)  NOT NULL,
  longitude DECIMAL(8, 6)  NOT NULL,
  feature   HOTEL_FEATURE NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 12:41:21,265 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:41:21,266 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "country"
(
  id   SERIAL,
  name VARCHAR(255),
  PRIMARY KEY (id)
)
2019-02-22 12:41:21,271 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:41:21,271 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "tour"
(
  id          SERIAL,
  photo       VARCHAR(255),
  date        DATE           NOT NULL,
  duration    INT            NOT NULL,
  description TEXT           NOT NULL,
  cost        DECIMAL(19, 3) NOT NULL,
  tour_type   TOUR_TYPE      NOT NULL,
  hotel_id    INT            NOT NULL,
  country_id  INT            NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (hotel_id) REFERENCES "hotel" (id),
  FOREIGN KEY (country_id) REFERENCES "country" (id)
)
2019-02-22 12:41:21,284 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:41:21,284 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "usertour"
(
  user_id INT UNIQUE NOT NULL,
  tour_id INT UNIQUE NOT NULL,
  PRIMARY KEY (user_id, tour_id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 12:41:21,299 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:41:21,300 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "review"
(
  id      SERIAL,
  date    DATE NOT NULL,
  text    TEXT NOT NULL,
  user_id INT  NOT NULL,
  tour_id INT  NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 12:41:21,310 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:41:21,310 DEBUG [main] org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version 1 - init schema
2019-02-22 12:41:21,314 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
2019-02-22 12:41:21,320 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version 1.1 - init data
2019-02-22 12:41:21,321 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user1', 'user1')
2019-02-22 12:41:21,323 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:41:21,323 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user2', 'user2')
2019-02-22 12:41:21,324 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:41:21,324 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user3', 'user3')
2019-02-22 12:41:21,324 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:41:21,324 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user4', 'user4')
2019-02-22 12:41:21,324 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:41:21,324 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "country" (name)
VALUES ('testCountry')
2019-02-22 12:41:21,326 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:41:21,326 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test1', 4, 'test1', 1, 1, 'security')
2019-02-22 12:41:21,328 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:41:21,328 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test2', 4, 'test2', 1, 1, 'security')
2019-02-22 12:41:21,328 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:41:21,328 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test3', 4, 'test3', 1, 1, 'security')
2019-02-22 12:41:21,329 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:41:21,329 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test4', 4, 'test4', 1, 1, 'security')
2019-02-22 12:41:21,329 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:41:21,329 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test1.jpg', '12-12-2012', 12, 'description1', 505, 'guided', 1, 1)
2019-02-22 12:41:21,331 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:41:21,331 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test2.jpg', '12-12-2012', 12, 'description2', 505, 'guided', 2, 1)
2019-02-22 12:41:21,332 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:41:21,332 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test3.jpg', '12-12-2012', 12, 'description3', 505, 'guided', 3, 1)
2019-02-22 12:41:21,332 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:41:21,332 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test4.jpg', '12-12-2012', 12, 'description4', 505, 'guided', 4, 1)
2019-02-22 12:41:21,333 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:41:21,333 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-10-2012', 'Some words1', 1,1)
2019-02-22 12:41:21,335 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:41:21,335 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-11-2012', 'Some words2', 1,1)
2019-02-22 12:41:21,335 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:41:21,335 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-13-2012', 'Some words3', 1,1)
2019-02-22 12:41:21,335 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:41:21,335 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-14-2012', 'Some words4', 1,1)
2019-02-22 12:41:21,336 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:41:21,336 DEBUG [main] org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version 1.1 - init data
2019-02-22 12:41:21,338 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
2019-02-22 12:41:21,340 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Successfully applied 2 migrations to schema "public" (execution time 00:00.139s)
2019-02-22 12:41:21,342 DEBUG [main] org.flywaydb.core.Flyway - Memory usage: 13 of 256M
2019-02-22 12:43:23,910 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-22 12:43:40,533 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-22 12:43:40,539 INFO  [main] org.flywaydb.core.internal.license.VersionPrinter - Flyway Community Edition 5.2.4 by Boxfuse
2019-02-22 12:43:40,624 INFO  [main] org.flywaydb.core.internal.database.DatabaseFactory - Database: jdbc:postgresql://localhost:55947/template1 (PostgreSQL 10.6)
2019-02-22 12:43:40,624 DEBUG [main] org.flywaydb.core.internal.database.DatabaseFactory - Driver  : PostgreSQL JDBC Driver 42.2.5
2019-02-22 12:43:40,630 DEBUG [main] org.flywaydb.core.Flyway - DDL Transactions Supported: true
2019-02-22 12:43:40,635 DEBUG [main] org.flywaydb.core.Flyway - Schema: public
2019-02-22 12:43:40,639 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2019-02-22 12:43:40,640 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader jdk.internal.loader.ClassLoaders$AppClassLoader@6ed3ef1 ...
2019-02-22 12:43:40,640 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning URL: file:/C:/Users/Valiantsin_Danilau/IdeaProjects/Task1/target/classes/db/migration
2019-02-22 12:43:40,640 DEBUG [main] org.flywaydb.core.internal.util.FeatureDetector - JBoss VFS v2 available: false
2019-02-22 12:43:40,642 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: C:\Users\Valiantsin_Danilau\IdeaProjects\Task1\target\classes\
2019-02-22 12:43:40,642 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning for resources in path: C:\Users\Valiantsin_Danilau\IdeaProjects\Task1\target\classes\db\migration (db/migration)
2019-02-22 12:43:40,643 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: db/migration/V1_1__init_data.sql
2019-02-22 12:43:40,643 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: db/migration/V1__init_schema.sql
2019-02-22 12:43:40,643 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2019-02-22 12:43:40,646 DEBUG [main] org.flywaydb.core.internal.callback.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
2019-02-22 12:43:40,652 DEBUG [main] org.flywaydb.core.internal.util.FeatureDetector - Spring Jdbc available: true
2019-02-22 12:43:40,666 DEBUG [main] org.flywaydb.core.internal.command.DbValidate - Validating migrations ...
2019-02-22 12:43:40,671 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing V1_1__init_data.sql ...
2019-02-22 12:43:40,674 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 1: INSERT INTO "user" (login, password)
VALUES ('user1', 'user1')
2019-02-22 12:43:40,675 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 3: INSERT INTO "user" (login, password)
VALUES ('user2', 'user2')
2019-02-22 12:43:40,675 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 5: INSERT INTO "user" (login, password)
VALUES ('user3', 'user3')
2019-02-22 12:43:40,675 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 7: INSERT INTO "user" (login, password)
VALUES ('user4', 'user4')
2019-02-22 12:43:40,676 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 10: INSERT INTO "country" (name)
VALUES ('testCountry')
2019-02-22 12:43:40,676 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 13: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test1', 4, 'test1', 1, 1, 'security')
2019-02-22 12:43:40,677 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 15: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test2', 4, 'test2', 1, 1, 'security')
2019-02-22 12:43:40,677 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 17: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test3', 4, 'test3', 1, 1, 'security')
2019-02-22 12:43:40,677 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 19: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test4', 4, 'test4', 1, 1, 'security')
2019-02-22 12:43:40,678 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 22: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test1.jpg', '12-12-2012', 12, 'description1', 505, 'guided', 1, 1)
2019-02-22 12:43:40,678 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 24: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test2.jpg', '12-12-2012', 12, 'description2', 505, 'guided', 2, 1)
2019-02-22 12:43:40,679 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 26: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test3.jpg', '12-12-2012', 12, 'description3', 505, 'guided', 3, 1)
2019-02-22 12:43:40,679 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 28: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test4.jpg', '12-12-2012', 12, 'description4', 505, 'guided', 4, 1)
2019-02-22 12:43:40,679 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 31: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-10-2012', 'Some words1', 1,1)
2019-02-22 12:43:40,680 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 32: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-11-2012', 'Some words2', 1,1)
2019-02-22 12:43:40,680 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 33: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-13-2012', 'Some words3', 1,1)
2019-02-22 12:43:40,680 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 34: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-14-2012', 'Some words4', 1,1)
2019-02-22 12:43:40,682 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing V1__init_schema.sql ...
2019-02-22 12:43:40,683 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 1: CREATE TYPE TOUR_TYPE AS ENUM
  (
    'bus', 'sightseeing', 'shore_excursion',
    'adventure', 'sporting', 'cruise',
    'escorted', 'guided', 'rail', 'extreme'
    )
2019-02-22 12:43:40,684 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 8: CREATE TYPE HOTEL_FEATURE AS ENUM
  (
    'cleanliness', 'security', 'wi-fi', 'breakfast', 'parking', 'air_conditioning',
    'food_delivery', 'pool', 'conference_hall', 'safe'
    )
2019-02-22 12:43:40,684 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 16: CREATE TABLE IF NOT EXISTS "user"
(
  id       SERIAL,
  login    VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255)        NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 12:43:40,685 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 24: CREATE TABLE IF NOT EXISTS "hotel"
(
  id        SERIAL,
  name      VARCHAR(255)   NOT NULL,
  stars     SMALLINT       NOT NULL,
  website   VARCHAR(255)   NOT NULL,
  latitude  DECIMAL(8, 6)  NOT NULL,
  longitude DECIMAL(8, 6)  NOT NULL,
  feature   HOTEL_FEATURE NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 12:43:40,685 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 36: CREATE TABLE IF NOT EXISTS "country"
(
  id   SERIAL,
  name VARCHAR(255),
  PRIMARY KEY (id)
)
2019-02-22 12:43:40,687 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 43: CREATE TABLE IF NOT EXISTS "tour"
(
  id          SERIAL,
  photo       VARCHAR(255),
  date        DATE           NOT NULL,
  duration    INT            NOT NULL,
  description TEXT           NOT NULL,
  cost        DECIMAL(19, 3) NOT NULL,
  tour_type   TOUR_TYPE      NOT NULL,
  hotel_id    INT            NOT NULL,
  country_id  INT            NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (hotel_id) REFERENCES "hotel" (id),
  FOREIGN KEY (country_id) REFERENCES "country" (id)
)
2019-02-22 12:43:40,687 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 59: CREATE TABLE IF NOT EXISTS "usertour"
(
  user_id INT UNIQUE NOT NULL,
  tour_id INT UNIQUE NOT NULL,
  PRIMARY KEY (user_id, tour_id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 12:43:40,688 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 68: CREATE TABLE IF NOT EXISTS "review"
(
  id      SERIAL,
  date    DATE NOT NULL,
  text    TEXT NOT NULL,
  user_id INT  NOT NULL,
  tour_id INT  NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 12:43:40,689 DEBUG [main] org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1_1__init_data.sql (filename: V1_1__init_data.sql)
2019-02-22 12:43:40,689 DEBUG [main] org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__init_schema.sql (filename: V1__init_schema.sql)
2019-02-22 12:43:40,695 INFO  [main] org.flywaydb.core.internal.command.DbValidate - Successfully validated 2 migrations (execution time 00:00.028s)
2019-02-22 12:43:40,697 DEBUG [main] org.flywaydb.core.internal.command.DbSchemas - Schema "public" already exists. Skipping schema creation.
2019-02-22 12:43:40,708 INFO  [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Creating Schema History table: "public"."flyway_schema_history"
2019-02-22 12:43:40,710 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing createMetaDataTable.sql ...
2019-02-22 12:43:40,711 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 17: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2019-02-22 12:43:40,712 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 29: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2019-02-22 12:43:40,712 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 31: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2019-02-22 12:43:40,712 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2019-02-22 12:43:40,727 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:43:40,727 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2019-02-22 12:43:40,732 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:43:40,732 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2019-02-22 12:43:40,735 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:43:40,735 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Created Schema History table: "public"."flyway_schema_history"
2019-02-22 12:43:40,742 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Current version of schema "public": << Empty Schema >>
2019-02-22 12:43:40,743 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version 1 - init schema
2019-02-22 12:43:40,745 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TYPE TOUR_TYPE AS ENUM
  (
    'bus', 'sightseeing', 'shore_excursion',
    'adventure', 'sporting', 'cruise',
    'escorted', 'guided', 'rail', 'extreme'
    )
2019-02-22 12:43:40,748 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:43:40,749 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TYPE HOTEL_FEATURE AS ENUM
  (
    'cleanliness', 'security', 'wi-fi', 'breakfast', 'parking', 'air_conditioning',
    'food_delivery', 'pool', 'conference_hall', 'safe'
    )
2019-02-22 12:43:40,749 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:43:40,749 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "user"
(
  id       SERIAL,
  login    VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255)        NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 12:43:40,763 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:43:40,763 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "hotel"
(
  id        SERIAL,
  name      VARCHAR(255)   NOT NULL,
  stars     SMALLINT       NOT NULL,
  website   VARCHAR(255)   NOT NULL,
  latitude  DECIMAL(8, 6)  NOT NULL,
  longitude DECIMAL(8, 6)  NOT NULL,
  feature   HOTEL_FEATURE NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 12:43:40,773 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:43:40,773 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "country"
(
  id   SERIAL,
  name VARCHAR(255),
  PRIMARY KEY (id)
)
2019-02-22 12:43:40,779 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:43:40,779 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "tour"
(
  id          SERIAL,
  photo       VARCHAR(255),
  date        DATE           NOT NULL,
  duration    INT            NOT NULL,
  description TEXT           NOT NULL,
  cost        DECIMAL(19, 3) NOT NULL,
  tour_type   TOUR_TYPE      NOT NULL,
  hotel_id    INT            NOT NULL,
  country_id  INT            NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (hotel_id) REFERENCES "hotel" (id),
  FOREIGN KEY (country_id) REFERENCES "country" (id)
)
2019-02-22 12:43:40,792 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:43:40,792 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "usertour"
(
  user_id INT UNIQUE NOT NULL,
  tour_id INT UNIQUE NOT NULL,
  PRIMARY KEY (user_id, tour_id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 12:43:40,802 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:43:40,802 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "review"
(
  id      SERIAL,
  date    DATE NOT NULL,
  text    TEXT NOT NULL,
  user_id INT  NOT NULL,
  tour_id INT  NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 12:43:40,813 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:43:40,813 DEBUG [main] org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version 1 - init schema
2019-02-22 12:43:40,817 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
2019-02-22 12:43:40,823 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version 1.1 - init data
2019-02-22 12:43:40,824 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user1', 'user1')
2019-02-22 12:43:40,826 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:43:40,826 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user2', 'user2')
2019-02-22 12:43:40,827 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:43:40,827 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user3', 'user3')
2019-02-22 12:43:40,827 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:43:40,827 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user4', 'user4')
2019-02-22 12:43:40,828 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:43:40,828 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "country" (name)
VALUES ('testCountry')
2019-02-22 12:43:40,829 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:43:40,829 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test1', 4, 'test1', 1, 1, 'security')
2019-02-22 12:43:40,831 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:43:40,831 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test2', 4, 'test2', 1, 1, 'security')
2019-02-22 12:43:40,831 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:43:40,832 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test3', 4, 'test3', 1, 1, 'security')
2019-02-22 12:43:40,832 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:43:40,832 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test4', 4, 'test4', 1, 1, 'security')
2019-02-22 12:43:40,832 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:43:40,832 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test1.jpg', '12-12-2012', 12, 'description1', 505, 'guided', 1, 1)
2019-02-22 12:43:40,834 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:43:40,834 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test2.jpg', '12-12-2012', 12, 'description2', 505, 'guided', 2, 1)
2019-02-22 12:43:40,835 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:43:40,835 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test3.jpg', '12-12-2012', 12, 'description3', 505, 'guided', 3, 1)
2019-02-22 12:43:40,835 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:43:40,835 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test4.jpg', '12-12-2012', 12, 'description4', 505, 'guided', 4, 1)
2019-02-22 12:43:40,836 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:43:40,836 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-10-2012', 'Some words1', 1,1)
2019-02-22 12:43:40,838 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:43:40,838 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-11-2012', 'Some words2', 1,1)
2019-02-22 12:43:40,838 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:43:40,838 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-13-2012', 'Some words3', 1,1)
2019-02-22 12:43:40,839 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:43:40,839 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-14-2012', 'Some words4', 1,1)
2019-02-22 12:43:40,839 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:43:40,839 DEBUG [main] org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version 1.1 - init data
2019-02-22 12:43:40,842 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
2019-02-22 12:43:40,844 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Successfully applied 2 migrations to schema "public" (execution time 00:00.137s)
2019-02-22 12:43:40,846 DEBUG [main] org.flywaydb.core.Flyway - Memory usage: 13 of 256M
2019-02-22 12:48:10,058 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-22 12:48:26,662 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-22 12:48:26,668 INFO  [main] org.flywaydb.core.internal.license.VersionPrinter - Flyway Community Edition 5.2.4 by Boxfuse
2019-02-22 12:48:26,749 INFO  [main] org.flywaydb.core.internal.database.DatabaseFactory - Database: jdbc:postgresql://localhost:56021/template1 (PostgreSQL 10.6)
2019-02-22 12:48:26,749 DEBUG [main] org.flywaydb.core.internal.database.DatabaseFactory - Driver  : PostgreSQL JDBC Driver 42.2.5
2019-02-22 12:48:26,756 DEBUG [main] org.flywaydb.core.Flyway - DDL Transactions Supported: true
2019-02-22 12:48:26,760 DEBUG [main] org.flywaydb.core.Flyway - Schema: public
2019-02-22 12:48:26,764 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2019-02-22 12:48:26,764 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader jdk.internal.loader.ClassLoaders$AppClassLoader@6ed3ef1 ...
2019-02-22 12:48:26,765 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning URL: file:/C:/Users/Valiantsin_Danilau/IdeaProjects/Task1/target/classes/db/migration
2019-02-22 12:48:26,765 DEBUG [main] org.flywaydb.core.internal.util.FeatureDetector - JBoss VFS v2 available: false
2019-02-22 12:48:26,767 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: C:\Users\Valiantsin_Danilau\IdeaProjects\Task1\target\classes\
2019-02-22 12:48:26,767 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning for resources in path: C:\Users\Valiantsin_Danilau\IdeaProjects\Task1\target\classes\db\migration (db/migration)
2019-02-22 12:48:26,768 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: db/migration/V1_1__init_data.sql
2019-02-22 12:48:26,768 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: db/migration/V1__init_schema.sql
2019-02-22 12:48:26,768 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2019-02-22 12:48:26,771 DEBUG [main] org.flywaydb.core.internal.callback.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
2019-02-22 12:48:26,777 DEBUG [main] org.flywaydb.core.internal.util.FeatureDetector - Spring Jdbc available: true
2019-02-22 12:48:26,791 DEBUG [main] org.flywaydb.core.internal.command.DbValidate - Validating migrations ...
2019-02-22 12:48:26,796 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing V1_1__init_data.sql ...
2019-02-22 12:48:26,799 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 1: INSERT INTO "user" (login, password)
VALUES ('user1', 'user1')
2019-02-22 12:48:26,800 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 3: INSERT INTO "user" (login, password)
VALUES ('user2', 'user2')
2019-02-22 12:48:26,800 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 5: INSERT INTO "user" (login, password)
VALUES ('user3', 'user3')
2019-02-22 12:48:26,800 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 7: INSERT INTO "user" (login, password)
VALUES ('user4', 'user4')
2019-02-22 12:48:26,800 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 10: INSERT INTO "country" (name)
VALUES ('testCountry')
2019-02-22 12:48:26,801 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 13: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test1', 4, 'test1', 1, 1, 'security')
2019-02-22 12:48:26,801 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 15: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test2', 4, 'test2', 1, 1, 'security')
2019-02-22 12:48:26,802 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 17: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test3', 4, 'test3', 1, 1, 'security')
2019-02-22 12:48:26,802 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 19: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test4', 4, 'test4', 1, 1, 'security')
2019-02-22 12:48:26,803 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 22: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test1.jpg', '12-12-2012', 12, 'description1', 505, 'guided', 1, 1)
2019-02-22 12:48:26,803 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 24: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test2.jpg', '12-12-2012', 12, 'description2', 505, 'guided', 2, 1)
2019-02-22 12:48:26,804 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 26: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test3.jpg', '12-12-2012', 12, 'description3', 505, 'guided', 3, 1)
2019-02-22 12:48:26,804 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 28: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test4.jpg', '12-12-2012', 12, 'description4', 505, 'guided', 4, 1)
2019-02-22 12:48:26,804 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 31: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-10-2012', 'Some words1', 1,1)
2019-02-22 12:48:26,804 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 32: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-11-2012', 'Some words2', 1,1)
2019-02-22 12:48:26,805 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 33: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-13-2012', 'Some words3', 1,1)
2019-02-22 12:48:26,805 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 34: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-14-2012', 'Some words4', 1,1)
2019-02-22 12:48:26,807 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing V1__init_schema.sql ...
2019-02-22 12:48:26,808 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 1: CREATE TYPE TOUR_TYPE AS ENUM
  (
    'bus', 'sightseeing', 'shore_excursion',
    'adventure', 'sporting', 'cruise',
    'escorted', 'guided', 'rail', 'extreme'
    )
2019-02-22 12:48:26,808 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 8: CREATE TYPE HOTEL_FEATURE AS ENUM
  (
    'cleanliness', 'security', 'wi-fi', 'breakfast', 'parking', 'air_conditioning',
    'food_delivery', 'pool', 'conference_hall', 'safe'
    )
2019-02-22 12:48:26,809 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 16: CREATE TABLE IF NOT EXISTS "user"
(
  id       SERIAL,
  login    VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255)        NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 12:48:26,810 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 24: CREATE TABLE IF NOT EXISTS "hotel"
(
  id        SERIAL,
  name      VARCHAR(255)   NOT NULL,
  stars     SMALLINT       NOT NULL,
  website   VARCHAR(255)   NOT NULL,
  latitude  DECIMAL(8, 6)  NOT NULL,
  longitude DECIMAL(8, 6)  NOT NULL,
  feature   HOTEL_FEATURE NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 12:48:26,810 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 36: CREATE TABLE IF NOT EXISTS "country"
(
  id   SERIAL,
  name VARCHAR(255),
  PRIMARY KEY (id)
)
2019-02-22 12:48:26,811 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 43: CREATE TABLE IF NOT EXISTS "tour"
(
  id          SERIAL,
  photo       VARCHAR(255),
  date        DATE           NOT NULL,
  duration    INT            NOT NULL,
  description TEXT           NOT NULL,
  cost        DECIMAL(19, 3) NOT NULL,
  tour_type   TOUR_TYPE      NOT NULL,
  hotel_id    INT            NOT NULL,
  country_id  INT            NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (hotel_id) REFERENCES "hotel" (id),
  FOREIGN KEY (country_id) REFERENCES "country" (id)
)
2019-02-22 12:48:26,812 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 59: CREATE TABLE IF NOT EXISTS "usertour"
(
  user_id INT UNIQUE NOT NULL,
  tour_id INT UNIQUE NOT NULL,
  PRIMARY KEY (user_id, tour_id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 12:48:26,812 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 68: CREATE TABLE IF NOT EXISTS "review"
(
  id      SERIAL,
  date    DATE NOT NULL,
  text    TEXT NOT NULL,
  user_id INT  NOT NULL,
  tour_id INT  NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 12:48:26,814 DEBUG [main] org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1_1__init_data.sql (filename: V1_1__init_data.sql)
2019-02-22 12:48:26,814 DEBUG [main] org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__init_schema.sql (filename: V1__init_schema.sql)
2019-02-22 12:48:26,819 INFO  [main] org.flywaydb.core.internal.command.DbValidate - Successfully validated 2 migrations (execution time 00:00.027s)
2019-02-22 12:48:26,821 DEBUG [main] org.flywaydb.core.internal.command.DbSchemas - Schema "public" already exists. Skipping schema creation.
2019-02-22 12:48:26,831 INFO  [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Creating Schema History table: "public"."flyway_schema_history"
2019-02-22 12:48:26,833 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing createMetaDataTable.sql ...
2019-02-22 12:48:26,835 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 17: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2019-02-22 12:48:26,835 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 29: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2019-02-22 12:48:26,835 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 31: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2019-02-22 12:48:26,835 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2019-02-22 12:48:26,850 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:48:26,850 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2019-02-22 12:48:26,855 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:48:26,855 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2019-02-22 12:48:26,858 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:48:26,858 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Created Schema History table: "public"."flyway_schema_history"
2019-02-22 12:48:26,865 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Current version of schema "public": << Empty Schema >>
2019-02-22 12:48:26,866 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version 1 - init schema
2019-02-22 12:48:26,867 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TYPE TOUR_TYPE AS ENUM
  (
    'bus', 'sightseeing', 'shore_excursion',
    'adventure', 'sporting', 'cruise',
    'escorted', 'guided', 'rail', 'extreme'
    )
2019-02-22 12:48:26,870 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:48:26,871 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TYPE HOTEL_FEATURE AS ENUM
  (
    'cleanliness', 'security', 'wi-fi', 'breakfast', 'parking', 'air_conditioning',
    'food_delivery', 'pool', 'conference_hall', 'safe'
    )
2019-02-22 12:48:26,871 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:48:26,871 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "user"
(
  id       SERIAL,
  login    VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255)        NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 12:48:26,884 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:48:26,884 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "hotel"
(
  id        SERIAL,
  name      VARCHAR(255)   NOT NULL,
  stars     SMALLINT       NOT NULL,
  website   VARCHAR(255)   NOT NULL,
  latitude  DECIMAL(8, 6)  NOT NULL,
  longitude DECIMAL(8, 6)  NOT NULL,
  feature   HOTEL_FEATURE NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 12:48:26,893 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:48:26,893 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "country"
(
  id   SERIAL,
  name VARCHAR(255),
  PRIMARY KEY (id)
)
2019-02-22 12:48:26,899 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:48:26,899 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "tour"
(
  id          SERIAL,
  photo       VARCHAR(255),
  date        DATE           NOT NULL,
  duration    INT            NOT NULL,
  description TEXT           NOT NULL,
  cost        DECIMAL(19, 3) NOT NULL,
  tour_type   TOUR_TYPE      NOT NULL,
  hotel_id    INT            NOT NULL,
  country_id  INT            NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (hotel_id) REFERENCES "hotel" (id),
  FOREIGN KEY (country_id) REFERENCES "country" (id)
)
2019-02-22 12:48:26,911 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:48:26,911 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "usertour"
(
  user_id INT UNIQUE NOT NULL,
  tour_id INT UNIQUE NOT NULL,
  PRIMARY KEY (user_id, tour_id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 12:48:26,922 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:48:26,922 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "review"
(
  id      SERIAL,
  date    DATE NOT NULL,
  text    TEXT NOT NULL,
  user_id INT  NOT NULL,
  tour_id INT  NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 12:48:26,931 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:48:26,932 DEBUG [main] org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version 1 - init schema
2019-02-22 12:48:26,936 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
2019-02-22 12:48:26,942 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version 1.1 - init data
2019-02-22 12:48:26,943 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user1', 'user1')
2019-02-22 12:48:26,945 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:48:26,945 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user2', 'user2')
2019-02-22 12:48:26,946 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:48:26,946 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user3', 'user3')
2019-02-22 12:48:26,946 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:48:26,946 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user4', 'user4')
2019-02-22 12:48:26,946 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:48:26,947 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "country" (name)
VALUES ('testCountry')
2019-02-22 12:48:26,948 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:48:26,948 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test1', 4, 'test1', 1, 1, 'security')
2019-02-22 12:48:26,950 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:48:26,950 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test2', 4, 'test2', 1, 1, 'security')
2019-02-22 12:48:26,950 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:48:26,951 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test3', 4, 'test3', 1, 1, 'security')
2019-02-22 12:48:26,951 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:48:26,951 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test4', 4, 'test4', 1, 1, 'security')
2019-02-22 12:48:26,951 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:48:26,951 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test1.jpg', '12-12-2012', 12, 'description1', 505, 'guided', 1, 1)
2019-02-22 12:48:26,953 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:48:26,953 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test2.jpg', '12-12-2012', 12, 'description2', 505, 'guided', 2, 1)
2019-02-22 12:48:26,954 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:48:26,954 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test3.jpg', '12-12-2012', 12, 'description3', 505, 'guided', 3, 1)
2019-02-22 12:48:26,954 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:48:26,954 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test4.jpg', '12-12-2012', 12, 'description4', 505, 'guided', 4, 1)
2019-02-22 12:48:26,955 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:48:26,955 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-10-2012', 'Some words1', 1,1)
2019-02-22 12:48:26,957 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:48:26,957 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-11-2012', 'Some words2', 1,1)
2019-02-22 12:48:26,957 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:48:26,957 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-13-2012', 'Some words3', 1,1)
2019-02-22 12:48:26,958 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:48:26,958 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-14-2012', 'Some words4', 1,1)
2019-02-22 12:48:26,958 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:48:26,958 DEBUG [main] org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version 1.1 - init data
2019-02-22 12:48:26,960 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
2019-02-22 12:48:26,963 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Successfully applied 2 migrations to schema "public" (execution time 00:00.132s)
2019-02-22 12:48:26,964 DEBUG [main] org.flywaydb.core.Flyway - Memory usage: 12 of 256M
2019-02-22 12:48:56,645 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-22 12:49:13,791 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-22 12:49:13,796 INFO  [main] org.flywaydb.core.internal.license.VersionPrinter - Flyway Community Edition 5.2.4 by Boxfuse
2019-02-22 12:49:13,894 INFO  [main] org.flywaydb.core.internal.database.DatabaseFactory - Database: jdbc:postgresql://localhost:56039/template1 (PostgreSQL 10.6)
2019-02-22 12:49:13,894 DEBUG [main] org.flywaydb.core.internal.database.DatabaseFactory - Driver  : PostgreSQL JDBC Driver 42.2.5
2019-02-22 12:49:13,900 DEBUG [main] org.flywaydb.core.Flyway - DDL Transactions Supported: true
2019-02-22 12:49:13,905 DEBUG [main] org.flywaydb.core.Flyway - Schema: public
2019-02-22 12:49:13,909 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2019-02-22 12:49:13,909 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader jdk.internal.loader.ClassLoaders$AppClassLoader@6ed3ef1 ...
2019-02-22 12:49:13,910 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning URL: file:/C:/Users/Valiantsin_Danilau/IdeaProjects/Task1/target/classes/db/migration
2019-02-22 12:49:13,910 DEBUG [main] org.flywaydb.core.internal.util.FeatureDetector - JBoss VFS v2 available: false
2019-02-22 12:49:13,912 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: C:\Users\Valiantsin_Danilau\IdeaProjects\Task1\target\classes\
2019-02-22 12:49:13,912 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning for resources in path: C:\Users\Valiantsin_Danilau\IdeaProjects\Task1\target\classes\db\migration (db/migration)
2019-02-22 12:49:13,912 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: db/migration/V1_1__init_data.sql
2019-02-22 12:49:13,912 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: db/migration/V1__init_schema.sql
2019-02-22 12:49:13,913 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2019-02-22 12:49:13,916 DEBUG [main] org.flywaydb.core.internal.callback.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
2019-02-22 12:49:13,921 DEBUG [main] org.flywaydb.core.internal.util.FeatureDetector - Spring Jdbc available: true
2019-02-22 12:49:13,936 DEBUG [main] org.flywaydb.core.internal.command.DbValidate - Validating migrations ...
2019-02-22 12:49:13,941 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing V1_1__init_data.sql ...
2019-02-22 12:49:13,944 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 1: INSERT INTO "user" (login, password)
VALUES ('user1', 'user1')
2019-02-22 12:49:13,944 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 3: INSERT INTO "user" (login, password)
VALUES ('user2', 'user2')
2019-02-22 12:49:13,944 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 5: INSERT INTO "user" (login, password)
VALUES ('user3', 'user3')
2019-02-22 12:49:13,945 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 7: INSERT INTO "user" (login, password)
VALUES ('user4', 'user4')
2019-02-22 12:49:13,945 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 10: INSERT INTO "country" (name)
VALUES ('testCountry')
2019-02-22 12:49:13,945 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 13: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test1', 4, 'test1', 1, 1, 'security')
2019-02-22 12:49:13,946 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 15: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test2', 4, 'test2', 1, 1, 'security')
2019-02-22 12:49:13,946 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 17: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test3', 4, 'test3', 1, 1, 'security')
2019-02-22 12:49:13,947 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 19: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test4', 4, 'test4', 1, 1, 'security')
2019-02-22 12:49:13,947 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 22: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test1.jpg', '12-12-2012', 12, 'description1', 505, 'guided', 1, 1)
2019-02-22 12:49:13,947 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 24: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test2.jpg', '12-12-2012', 12, 'description2', 505, 'guided', 2, 1)
2019-02-22 12:49:13,948 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 26: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test3.jpg', '12-12-2012', 12, 'description3', 505, 'guided', 3, 1)
2019-02-22 12:49:13,948 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 28: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test4.jpg', '12-12-2012', 12, 'description4', 505, 'guided', 4, 1)
2019-02-22 12:49:13,949 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 31: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-10-2012', 'Some words1', 1,1)
2019-02-22 12:49:13,949 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 32: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-11-2012', 'Some words2', 1,1)
2019-02-22 12:49:13,949 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 33: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-13-2012', 'Some words3', 1,1)
2019-02-22 12:49:13,949 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 34: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-14-2012', 'Some words4', 1,1)
2019-02-22 12:49:13,951 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing V1__init_schema.sql ...
2019-02-22 12:49:13,952 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 1: CREATE TYPE TOUR_TYPE AS ENUM
  (
    'bus', 'sightseeing', 'shore_excursion',
    'adventure', 'sporting', 'cruise',
    'escorted', 'guided', 'rail', 'extreme'
    )
2019-02-22 12:49:13,953 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 8: CREATE TYPE HOTEL_FEATURE AS ENUM
  (
    'cleanliness', 'security', 'wi-fi', 'breakfast', 'parking', 'air_conditioning',
    'food_delivery', 'pool', 'conference_hall', 'safe'
    )
2019-02-22 12:49:13,953 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 16: CREATE TABLE IF NOT EXISTS "user"
(
  id       SERIAL,
  login    VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255)        NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 12:49:13,954 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 24: CREATE TABLE IF NOT EXISTS "hotel"
(
  id        SERIAL,
  name      VARCHAR(255)   NOT NULL,
  stars     SMALLINT       NOT NULL,
  website   VARCHAR(255)   NOT NULL,
  latitude  DECIMAL(8, 6)  NOT NULL,
  longitude DECIMAL(8, 6)  NOT NULL,
  feature   HOTEL_FEATURE NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 12:49:13,955 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 36: CREATE TABLE IF NOT EXISTS "country"
(
  id   SERIAL,
  name VARCHAR(255),
  PRIMARY KEY (id)
)
2019-02-22 12:49:13,956 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 43: CREATE TABLE IF NOT EXISTS "tour"
(
  id          SERIAL,
  photo       VARCHAR(255),
  date        DATE           NOT NULL,
  duration    INT            NOT NULL,
  description TEXT           NOT NULL,
  cost        DECIMAL(19, 3) NOT NULL,
  tour_type   TOUR_TYPE      NOT NULL,
  hotel_id    INT            NOT NULL,
  country_id  INT            NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (hotel_id) REFERENCES "hotel" (id),
  FOREIGN KEY (country_id) REFERENCES "country" (id)
)
2019-02-22 12:49:13,956 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 59: CREATE TABLE IF NOT EXISTS "usertour"
(
  user_id INT UNIQUE NOT NULL,
  tour_id INT UNIQUE NOT NULL,
  PRIMARY KEY (user_id, tour_id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 12:49:13,957 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 68: CREATE TABLE IF NOT EXISTS "review"
(
  id      SERIAL,
  date    DATE NOT NULL,
  text    TEXT NOT NULL,
  user_id INT  NOT NULL,
  tour_id INT  NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 12:49:13,958 DEBUG [main] org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1_1__init_data.sql (filename: V1_1__init_data.sql)
2019-02-22 12:49:13,958 DEBUG [main] org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__init_schema.sql (filename: V1__init_schema.sql)
2019-02-22 12:49:13,963 INFO  [main] org.flywaydb.core.internal.command.DbValidate - Successfully validated 2 migrations (execution time 00:00.026s)
2019-02-22 12:49:13,965 DEBUG [main] org.flywaydb.core.internal.command.DbSchemas - Schema "public" already exists. Skipping schema creation.
2019-02-22 12:49:13,975 INFO  [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Creating Schema History table: "public"."flyway_schema_history"
2019-02-22 12:49:13,977 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing createMetaDataTable.sql ...
2019-02-22 12:49:13,979 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 17: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2019-02-22 12:49:13,979 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 29: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2019-02-22 12:49:13,979 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 31: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2019-02-22 12:49:13,979 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2019-02-22 12:49:13,994 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:49:13,994 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2019-02-22 12:49:13,999 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:49:13,999 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2019-02-22 12:49:14,002 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:49:14,002 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Created Schema History table: "public"."flyway_schema_history"
2019-02-22 12:49:14,009 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Current version of schema "public": << Empty Schema >>
2019-02-22 12:49:14,010 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version 1 - init schema
2019-02-22 12:49:14,012 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TYPE TOUR_TYPE AS ENUM
  (
    'bus', 'sightseeing', 'shore_excursion',
    'adventure', 'sporting', 'cruise',
    'escorted', 'guided', 'rail', 'extreme'
    )
2019-02-22 12:49:14,014 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:49:14,015 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TYPE HOTEL_FEATURE AS ENUM
  (
    'cleanliness', 'security', 'wi-fi', 'breakfast', 'parking', 'air_conditioning',
    'food_delivery', 'pool', 'conference_hall', 'safe'
    )
2019-02-22 12:49:14,015 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:49:14,015 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "user"
(
  id       SERIAL,
  login    VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255)        NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 12:49:14,028 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:49:14,028 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "hotel"
(
  id        SERIAL,
  name      VARCHAR(255)   NOT NULL,
  stars     SMALLINT       NOT NULL,
  website   VARCHAR(255)   NOT NULL,
  latitude  DECIMAL(8, 6)  NOT NULL,
  longitude DECIMAL(8, 6)  NOT NULL,
  feature   HOTEL_FEATURE NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 12:49:14,037 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:49:14,038 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "country"
(
  id   SERIAL,
  name VARCHAR(255),
  PRIMARY KEY (id)
)
2019-02-22 12:49:14,044 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:49:14,044 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "tour"
(
  id          SERIAL,
  photo       VARCHAR(255),
  date        DATE           NOT NULL,
  duration    INT            NOT NULL,
  description TEXT           NOT NULL,
  cost        DECIMAL(19, 3) NOT NULL,
  tour_type   TOUR_TYPE      NOT NULL,
  hotel_id    INT            NOT NULL,
  country_id  INT            NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (hotel_id) REFERENCES "hotel" (id),
  FOREIGN KEY (country_id) REFERENCES "country" (id)
)
2019-02-22 12:49:14,057 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:49:14,057 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "usertour"
(
  user_id INT UNIQUE NOT NULL,
  tour_id INT UNIQUE NOT NULL,
  PRIMARY KEY (user_id, tour_id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 12:49:14,068 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:49:14,068 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "review"
(
  id      SERIAL,
  date    DATE NOT NULL,
  text    TEXT NOT NULL,
  user_id INT  NOT NULL,
  tour_id INT  NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 12:49:14,077 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:49:14,078 DEBUG [main] org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version 1 - init schema
2019-02-22 12:49:14,082 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
2019-02-22 12:49:14,087 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version 1.1 - init data
2019-02-22 12:49:14,088 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user1', 'user1')
2019-02-22 12:49:14,090 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:49:14,090 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user2', 'user2')
2019-02-22 12:49:14,091 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:49:14,091 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user3', 'user3')
2019-02-22 12:49:14,091 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:49:14,091 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user4', 'user4')
2019-02-22 12:49:14,092 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:49:14,092 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "country" (name)
VALUES ('testCountry')
2019-02-22 12:49:14,093 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:49:14,093 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test1', 4, 'test1', 1, 1, 'security')
2019-02-22 12:49:14,095 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:49:14,095 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test2', 4, 'test2', 1, 1, 'security')
2019-02-22 12:49:14,095 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:49:14,095 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test3', 4, 'test3', 1, 1, 'security')
2019-02-22 12:49:14,096 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:49:14,096 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test4', 4, 'test4', 1, 1, 'security')
2019-02-22 12:49:14,096 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:49:14,096 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test1.jpg', '12-12-2012', 12, 'description1', 505, 'guided', 1, 1)
2019-02-22 12:49:14,098 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:49:14,098 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test2.jpg', '12-12-2012', 12, 'description2', 505, 'guided', 2, 1)
2019-02-22 12:49:14,099 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:49:14,099 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test3.jpg', '12-12-2012', 12, 'description3', 505, 'guided', 3, 1)
2019-02-22 12:49:14,099 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:49:14,099 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test4.jpg', '12-12-2012', 12, 'description4', 505, 'guided', 4, 1)
2019-02-22 12:49:14,100 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:49:14,100 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-10-2012', 'Some words1', 1,1)
2019-02-22 12:49:14,102 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:49:14,102 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-11-2012', 'Some words2', 1,1)
2019-02-22 12:49:14,102 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:49:14,102 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-13-2012', 'Some words3', 1,1)
2019-02-22 12:49:14,103 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:49:14,103 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-14-2012', 'Some words4', 1,1)
2019-02-22 12:49:14,103 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:49:14,103 DEBUG [main] org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version 1.1 - init data
2019-02-22 12:49:14,105 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
2019-02-22 12:49:14,108 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Successfully applied 2 migrations to schema "public" (execution time 00:00.132s)
2019-02-22 12:49:14,109 DEBUG [main] org.flywaydb.core.Flyway - Memory usage: 13 of 256M
2019-02-22 12:49:50,067 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-22 12:50:05,424 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-22 12:50:05,430 INFO  [main] org.flywaydb.core.internal.license.VersionPrinter - Flyway Community Edition 5.2.4 by Boxfuse
2019-02-22 12:50:05,519 INFO  [main] org.flywaydb.core.internal.database.DatabaseFactory - Database: jdbc:postgresql://localhost:56061/template1 (PostgreSQL 10.6)
2019-02-22 12:50:05,519 DEBUG [main] org.flywaydb.core.internal.database.DatabaseFactory - Driver  : PostgreSQL JDBC Driver 42.2.5
2019-02-22 12:50:05,526 DEBUG [main] org.flywaydb.core.Flyway - DDL Transactions Supported: true
2019-02-22 12:50:05,531 DEBUG [main] org.flywaydb.core.Flyway - Schema: public
2019-02-22 12:50:05,536 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2019-02-22 12:50:05,536 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader jdk.internal.loader.ClassLoaders$AppClassLoader@6ed3ef1 ...
2019-02-22 12:50:05,536 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning URL: file:/C:/Users/Valiantsin_Danilau/IdeaProjects/Task1/target/classes/db/migration
2019-02-22 12:50:05,537 DEBUG [main] org.flywaydb.core.internal.util.FeatureDetector - JBoss VFS v2 available: false
2019-02-22 12:50:05,538 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: C:\Users\Valiantsin_Danilau\IdeaProjects\Task1\target\classes\
2019-02-22 12:50:05,539 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning for resources in path: C:\Users\Valiantsin_Danilau\IdeaProjects\Task1\target\classes\db\migration (db/migration)
2019-02-22 12:50:05,539 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: db/migration/V1_1__init_data.sql
2019-02-22 12:50:05,539 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: db/migration/V1__init_schema.sql
2019-02-22 12:50:05,539 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2019-02-22 12:50:05,543 DEBUG [main] org.flywaydb.core.internal.callback.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
2019-02-22 12:50:05,548 DEBUG [main] org.flywaydb.core.internal.util.FeatureDetector - Spring Jdbc available: true
2019-02-22 12:50:05,563 DEBUG [main] org.flywaydb.core.internal.command.DbValidate - Validating migrations ...
2019-02-22 12:50:05,568 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing V1_1__init_data.sql ...
2019-02-22 12:50:05,572 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 1: INSERT INTO "user" (login, password)
VALUES ('user1', 'user1')
2019-02-22 12:50:05,572 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 3: INSERT INTO "user" (login, password)
VALUES ('user2', 'user2')
2019-02-22 12:50:05,573 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 5: INSERT INTO "user" (login, password)
VALUES ('user3', 'user3')
2019-02-22 12:50:05,573 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 7: INSERT INTO "user" (login, password)
VALUES ('user4', 'user4')
2019-02-22 12:50:05,573 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 10: INSERT INTO "country" (name)
VALUES ('testCountry')
2019-02-22 12:50:05,574 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 13: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test1', 4, 'test1', 1, 1, 'security')
2019-02-22 12:50:05,574 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 15: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test2', 4, 'test2', 1, 1, 'security')
2019-02-22 12:50:05,575 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 17: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test3', 4, 'test3', 1, 1, 'security')
2019-02-22 12:50:05,575 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 19: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test4', 4, 'test4', 1, 1, 'security')
2019-02-22 12:50:05,575 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 22: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test1.jpg', '12-12-2012', 12, 'description1', 505, 'guided', 1, 1)
2019-02-22 12:50:05,576 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 24: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test2.jpg', '12-12-2012', 12, 'description2', 505, 'guided', 2, 1)
2019-02-22 12:50:05,576 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 26: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test3.jpg', '12-12-2012', 12, 'description3', 505, 'guided', 3, 1)
2019-02-22 12:50:05,577 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 28: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test4.jpg', '12-12-2012', 12, 'description4', 505, 'guided', 4, 1)
2019-02-22 12:50:05,577 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 31: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-10-2012', 'Some words1', 1,1)
2019-02-22 12:50:05,577 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 32: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-11-2012', 'Some words2', 1,1)
2019-02-22 12:50:05,577 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 33: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-13-2012', 'Some words3', 1,1)
2019-02-22 12:50:05,577 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 34: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-14-2012', 'Some words4', 1,1)
2019-02-22 12:50:05,580 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing V1__init_schema.sql ...
2019-02-22 12:50:05,581 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 1: CREATE TYPE TOUR_TYPE AS ENUM
  (
    'bus', 'sightseeing', 'shore_excursion',
    'adventure', 'sporting', 'cruise',
    'escorted', 'guided', 'rail', 'extreme'
    )
2019-02-22 12:50:05,581 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 8: CREATE TYPE HOTEL_FEATURE AS ENUM
  (
    'cleanliness', 'security', 'wi-fi', 'breakfast', 'parking', 'air_conditioning',
    'food_delivery', 'pool', 'conference_hall', 'safe'
    )
2019-02-22 12:50:05,582 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 16: CREATE TABLE IF NOT EXISTS "user"
(
  id       SERIAL,
  login    VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255)        NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 12:50:05,583 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 24: CREATE TABLE IF NOT EXISTS "hotel"
(
  id        SERIAL,
  name      VARCHAR(255)   NOT NULL,
  stars     SMALLINT       NOT NULL,
  website   VARCHAR(255)   NOT NULL,
  latitude  DECIMAL(8, 6)  NOT NULL,
  longitude DECIMAL(8, 6)  NOT NULL,
  feature   HOTEL_FEATURE NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 12:50:05,583 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 36: CREATE TABLE IF NOT EXISTS "country"
(
  id   SERIAL,
  name VARCHAR(255),
  PRIMARY KEY (id)
)
2019-02-22 12:50:05,584 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 43: CREATE TABLE IF NOT EXISTS "tour"
(
  id          SERIAL,
  photo       VARCHAR(255),
  date        DATE           NOT NULL,
  duration    INT            NOT NULL,
  description TEXT           NOT NULL,
  cost        DECIMAL(19, 3) NOT NULL,
  tour_type   TOUR_TYPE      NOT NULL,
  hotel_id    INT            NOT NULL,
  country_id  INT            NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (hotel_id) REFERENCES "hotel" (id),
  FOREIGN KEY (country_id) REFERENCES "country" (id)
)
2019-02-22 12:50:05,585 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 59: CREATE TABLE IF NOT EXISTS "usertour"
(
  user_id INT UNIQUE NOT NULL,
  tour_id INT UNIQUE NOT NULL,
  PRIMARY KEY (user_id, tour_id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 12:50:05,585 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 68: CREATE TABLE IF NOT EXISTS "review"
(
  id      SERIAL,
  date    DATE NOT NULL,
  text    TEXT NOT NULL,
  user_id INT  NOT NULL,
  tour_id INT  NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 12:50:05,586 DEBUG [main] org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1_1__init_data.sql (filename: V1_1__init_data.sql)
2019-02-22 12:50:05,586 DEBUG [main] org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__init_schema.sql (filename: V1__init_schema.sql)
2019-02-22 12:50:05,592 INFO  [main] org.flywaydb.core.internal.command.DbValidate - Successfully validated 2 migrations (execution time 00:00.027s)
2019-02-22 12:50:05,594 DEBUG [main] org.flywaydb.core.internal.command.DbSchemas - Schema "public" already exists. Skipping schema creation.
2019-02-22 12:50:05,604 INFO  [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Creating Schema History table: "public"."flyway_schema_history"
2019-02-22 12:50:05,605 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing createMetaDataTable.sql ...
2019-02-22 12:50:05,607 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 17: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2019-02-22 12:50:05,607 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 29: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2019-02-22 12:50:05,608 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 31: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2019-02-22 12:50:05,608 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2019-02-22 12:50:05,622 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:50:05,622 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2019-02-22 12:50:05,627 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:50:05,627 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2019-02-22 12:50:05,630 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:50:05,630 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Created Schema History table: "public"."flyway_schema_history"
2019-02-22 12:50:05,637 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Current version of schema "public": << Empty Schema >>
2019-02-22 12:50:05,638 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version 1 - init schema
2019-02-22 12:50:05,639 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TYPE TOUR_TYPE AS ENUM
  (
    'bus', 'sightseeing', 'shore_excursion',
    'adventure', 'sporting', 'cruise',
    'escorted', 'guided', 'rail', 'extreme'
    )
2019-02-22 12:50:05,642 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:50:05,642 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TYPE HOTEL_FEATURE AS ENUM
  (
    'cleanliness', 'security', 'wi-fi', 'breakfast', 'parking', 'air_conditioning',
    'food_delivery', 'pool', 'conference_hall', 'safe'
    )
2019-02-22 12:50:05,643 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:50:05,643 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "user"
(
  id       SERIAL,
  login    VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255)        NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 12:50:05,655 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:50:05,656 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "hotel"
(
  id        SERIAL,
  name      VARCHAR(255)   NOT NULL,
  stars     SMALLINT       NOT NULL,
  website   VARCHAR(255)   NOT NULL,
  latitude  DECIMAL(8, 6)  NOT NULL,
  longitude DECIMAL(8, 6)  NOT NULL,
  feature   HOTEL_FEATURE NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 12:50:05,665 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:50:05,665 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "country"
(
  id   SERIAL,
  name VARCHAR(255),
  PRIMARY KEY (id)
)
2019-02-22 12:50:05,671 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:50:05,671 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "tour"
(
  id          SERIAL,
  photo       VARCHAR(255),
  date        DATE           NOT NULL,
  duration    INT            NOT NULL,
  description TEXT           NOT NULL,
  cost        DECIMAL(19, 3) NOT NULL,
  tour_type   TOUR_TYPE      NOT NULL,
  hotel_id    INT            NOT NULL,
  country_id  INT            NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (hotel_id) REFERENCES "hotel" (id),
  FOREIGN KEY (country_id) REFERENCES "country" (id)
)
2019-02-22 12:50:05,684 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:50:05,684 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "usertour"
(
  user_id INT UNIQUE NOT NULL,
  tour_id INT UNIQUE NOT NULL,
  PRIMARY KEY (user_id, tour_id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 12:50:05,694 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:50:05,695 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "review"
(
  id      SERIAL,
  date    DATE NOT NULL,
  text    TEXT NOT NULL,
  user_id INT  NOT NULL,
  tour_id INT  NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 12:50:05,705 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:50:05,705 DEBUG [main] org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version 1 - init schema
2019-02-22 12:50:05,709 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
2019-02-22 12:50:05,714 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version 1.1 - init data
2019-02-22 12:50:05,715 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user1', 'user1')
2019-02-22 12:50:05,718 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:50:05,718 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user2', 'user2')
2019-02-22 12:50:05,719 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:50:05,719 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user3', 'user3')
2019-02-22 12:50:05,719 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:50:05,719 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user4', 'user4')
2019-02-22 12:50:05,720 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:50:05,720 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "country" (name)
VALUES ('testCountry')
2019-02-22 12:50:05,721 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:50:05,721 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test1', 4, 'test1', 1, 1, 'security')
2019-02-22 12:50:05,723 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:50:05,723 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test2', 4, 'test2', 1, 1, 'security')
2019-02-22 12:50:05,723 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:50:05,723 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test3', 4, 'test3', 1, 1, 'security')
2019-02-22 12:50:05,724 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:50:05,724 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test4', 4, 'test4', 1, 1, 'security')
2019-02-22 12:50:05,724 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:50:05,724 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test1.jpg', '12-12-2012', 12, 'description1', 505, 'guided', 1, 1)
2019-02-22 12:50:05,726 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:50:05,726 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test2.jpg', '12-12-2012', 12, 'description2', 505, 'guided', 2, 1)
2019-02-22 12:50:05,727 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:50:05,727 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test3.jpg', '12-12-2012', 12, 'description3', 505, 'guided', 3, 1)
2019-02-22 12:50:05,727 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:50:05,727 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test4.jpg', '12-12-2012', 12, 'description4', 505, 'guided', 4, 1)
2019-02-22 12:50:05,728 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:50:05,728 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-10-2012', 'Some words1', 1,1)
2019-02-22 12:50:05,730 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:50:05,730 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-11-2012', 'Some words2', 1,1)
2019-02-22 12:50:05,730 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:50:05,730 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-13-2012', 'Some words3', 1,1)
2019-02-22 12:50:05,731 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:50:05,731 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-14-2012', 'Some words4', 1,1)
2019-02-22 12:50:05,731 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:50:05,731 DEBUG [main] org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version 1.1 - init data
2019-02-22 12:50:05,734 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
2019-02-22 12:50:05,736 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Successfully applied 2 migrations to schema "public" (execution time 00:00.132s)
2019-02-22 12:50:05,737 DEBUG [main] org.flywaydb.core.Flyway - Memory usage: 12 of 256M
2019-02-22 12:50:56,179 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-22 12:51:13,916 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-22 12:51:13,922 INFO  [main] org.flywaydb.core.internal.license.VersionPrinter - Flyway Community Edition 5.2.4 by Boxfuse
2019-02-22 12:51:14,022 INFO  [main] org.flywaydb.core.internal.database.DatabaseFactory - Database: jdbc:postgresql://localhost:56090/template1 (PostgreSQL 10.6)
2019-02-22 12:51:14,023 DEBUG [main] org.flywaydb.core.internal.database.DatabaseFactory - Driver  : PostgreSQL JDBC Driver 42.2.5
2019-02-22 12:51:14,029 DEBUG [main] org.flywaydb.core.Flyway - DDL Transactions Supported: true
2019-02-22 12:51:14,033 DEBUG [main] org.flywaydb.core.Flyway - Schema: public
2019-02-22 12:51:14,037 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2019-02-22 12:51:14,037 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader jdk.internal.loader.ClassLoaders$AppClassLoader@6ed3ef1 ...
2019-02-22 12:51:14,038 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning URL: file:/C:/Users/Valiantsin_Danilau/IdeaProjects/Task1/target/classes/db/migration
2019-02-22 12:51:14,038 DEBUG [main] org.flywaydb.core.internal.util.FeatureDetector - JBoss VFS v2 available: false
2019-02-22 12:51:14,041 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: C:\Users\Valiantsin_Danilau\IdeaProjects\Task1\target\classes\
2019-02-22 12:51:14,041 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning for resources in path: C:\Users\Valiantsin_Danilau\IdeaProjects\Task1\target\classes\db\migration (db/migration)
2019-02-22 12:51:14,041 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: db/migration/V1_1__init_data.sql
2019-02-22 12:51:14,041 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: db/migration/V1__init_schema.sql
2019-02-22 12:51:14,042 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2019-02-22 12:51:14,045 DEBUG [main] org.flywaydb.core.internal.callback.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
2019-02-22 12:51:14,050 DEBUG [main] org.flywaydb.core.internal.util.FeatureDetector - Spring Jdbc available: true
2019-02-22 12:51:14,064 DEBUG [main] org.flywaydb.core.internal.command.DbValidate - Validating migrations ...
2019-02-22 12:51:14,069 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing V1_1__init_data.sql ...
2019-02-22 12:51:14,072 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 1: INSERT INTO "user" (login, password)
VALUES ('user1', 'user1')
2019-02-22 12:51:14,072 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 3: INSERT INTO "user" (login, password)
VALUES ('user2', 'user2')
2019-02-22 12:51:14,072 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 5: INSERT INTO "user" (login, password)
VALUES ('user3', 'user3')
2019-02-22 12:51:14,073 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 7: INSERT INTO "user" (login, password)
VALUES ('user4', 'user4')
2019-02-22 12:51:14,073 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 10: INSERT INTO "country" (name)
VALUES ('testCountry')
2019-02-22 12:51:14,074 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 13: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test1', 4, 'test1', 1, 1, 'security')
2019-02-22 12:51:14,074 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 15: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test2', 4, 'test2', 1, 1, 'security')
2019-02-22 12:51:14,074 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 17: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test3', 4, 'test3', 1, 1, 'security')
2019-02-22 12:51:14,075 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 19: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test4', 4, 'test4', 1, 1, 'security')
2019-02-22 12:51:14,076 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 22: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test1.jpg', '12-12-2012', 12, 'description1', 505, 'guided', 1, 1)
2019-02-22 12:51:14,076 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 24: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test2.jpg', '12-12-2012', 12, 'description2', 505, 'guided', 2, 1)
2019-02-22 12:51:14,076 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 26: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test3.jpg', '12-12-2012', 12, 'description3', 505, 'guided', 3, 1)
2019-02-22 12:51:14,077 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 28: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test4.jpg', '12-12-2012', 12, 'description4', 505, 'guided', 4, 1)
2019-02-22 12:51:14,077 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 31: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-10-2012', 'Some words1', 1,1)
2019-02-22 12:51:14,077 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 32: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-11-2012', 'Some words2', 1,1)
2019-02-22 12:51:14,077 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 33: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-13-2012', 'Some words3', 1,1)
2019-02-22 12:51:14,078 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 34: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-14-2012', 'Some words4', 1,1)
2019-02-22 12:51:14,080 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing V1__init_schema.sql ...
2019-02-22 12:51:14,081 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 1: CREATE TYPE TOUR_TYPE AS ENUM
  (
    'bus', 'sightseeing', 'shore_excursion',
    'adventure', 'sporting', 'cruise',
    'escorted', 'guided', 'rail', 'extreme'
    )
2019-02-22 12:51:14,081 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 8: CREATE TYPE HOTEL_FEATURE AS ENUM
  (
    'cleanliness', 'security', 'wi-fi', 'breakfast', 'parking', 'air_conditioning',
    'food_delivery', 'pool', 'conference_hall', 'safe'
    )
2019-02-22 12:51:14,082 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 16: CREATE TABLE IF NOT EXISTS "user"
(
  id       SERIAL,
  login    VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255)        NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 12:51:14,082 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 24: CREATE TABLE IF NOT EXISTS "hotel"
(
  id        SERIAL,
  name      VARCHAR(255)   NOT NULL,
  stars     SMALLINT       NOT NULL,
  website   VARCHAR(255)   NOT NULL,
  latitude  DECIMAL(8, 6)  NOT NULL,
  longitude DECIMAL(8, 6)  NOT NULL,
  feature   HOTEL_FEATURE NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 12:51:14,083 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 36: CREATE TABLE IF NOT EXISTS "country"
(
  id   SERIAL,
  name VARCHAR(255),
  PRIMARY KEY (id)
)
2019-02-22 12:51:14,084 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 43: CREATE TABLE IF NOT EXISTS "tour"
(
  id          SERIAL,
  photo       VARCHAR(255),
  date        DATE           NOT NULL,
  duration    INT            NOT NULL,
  description TEXT           NOT NULL,
  cost        DECIMAL(19, 3) NOT NULL,
  tour_type   TOUR_TYPE      NOT NULL,
  hotel_id    INT            NOT NULL,
  country_id  INT            NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (hotel_id) REFERENCES "hotel" (id),
  FOREIGN KEY (country_id) REFERENCES "country" (id)
)
2019-02-22 12:51:14,085 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 59: CREATE TABLE IF NOT EXISTS "usertour"
(
  user_id INT UNIQUE NOT NULL,
  tour_id INT UNIQUE NOT NULL,
  PRIMARY KEY (user_id, tour_id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 12:51:14,085 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 68: CREATE TABLE IF NOT EXISTS "review"
(
  id      SERIAL,
  date    DATE NOT NULL,
  text    TEXT NOT NULL,
  user_id INT  NOT NULL,
  tour_id INT  NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 12:51:14,086 DEBUG [main] org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1_1__init_data.sql (filename: V1_1__init_data.sql)
2019-02-22 12:51:14,086 DEBUG [main] org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__init_schema.sql (filename: V1__init_schema.sql)
2019-02-22 12:51:14,092 INFO  [main] org.flywaydb.core.internal.command.DbValidate - Successfully validated 2 migrations (execution time 00:00.026s)
2019-02-22 12:51:14,094 DEBUG [main] org.flywaydb.core.internal.command.DbSchemas - Schema "public" already exists. Skipping schema creation.
2019-02-22 12:51:14,103 INFO  [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Creating Schema History table: "public"."flyway_schema_history"
2019-02-22 12:51:14,106 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing createMetaDataTable.sql ...
2019-02-22 12:51:14,107 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 17: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2019-02-22 12:51:14,107 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 29: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2019-02-22 12:51:14,107 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 31: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2019-02-22 12:51:14,107 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2019-02-22 12:51:14,122 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:51:14,122 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2019-02-22 12:51:14,127 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:51:14,127 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2019-02-22 12:51:14,130 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:51:14,130 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Created Schema History table: "public"."flyway_schema_history"
2019-02-22 12:51:14,137 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Current version of schema "public": << Empty Schema >>
2019-02-22 12:51:14,137 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version 1 - init schema
2019-02-22 12:51:14,139 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TYPE TOUR_TYPE AS ENUM
  (
    'bus', 'sightseeing', 'shore_excursion',
    'adventure', 'sporting', 'cruise',
    'escorted', 'guided', 'rail', 'extreme'
    )
2019-02-22 12:51:14,143 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:51:14,143 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TYPE HOTEL_FEATURE AS ENUM
  (
    'cleanliness', 'security', 'wi-fi', 'breakfast', 'parking', 'air_conditioning',
    'food_delivery', 'pool', 'conference_hall', 'safe'
    )
2019-02-22 12:51:14,143 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:51:14,143 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "user"
(
  id       SERIAL,
  login    VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255)        NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 12:51:14,156 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:51:14,156 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "hotel"
(
  id        SERIAL,
  name      VARCHAR(255)   NOT NULL,
  stars     SMALLINT       NOT NULL,
  website   VARCHAR(255)   NOT NULL,
  latitude  DECIMAL(8, 6)  NOT NULL,
  longitude DECIMAL(8, 6)  NOT NULL,
  feature   HOTEL_FEATURE NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 12:51:14,167 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:51:14,167 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "country"
(
  id   SERIAL,
  name VARCHAR(255),
  PRIMARY KEY (id)
)
2019-02-22 12:51:14,173 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:51:14,173 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "tour"
(
  id          SERIAL,
  photo       VARCHAR(255),
  date        DATE           NOT NULL,
  duration    INT            NOT NULL,
  description TEXT           NOT NULL,
  cost        DECIMAL(19, 3) NOT NULL,
  tour_type   TOUR_TYPE      NOT NULL,
  hotel_id    INT            NOT NULL,
  country_id  INT            NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (hotel_id) REFERENCES "hotel" (id),
  FOREIGN KEY (country_id) REFERENCES "country" (id)
)
2019-02-22 12:51:14,185 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:51:14,186 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "usertour"
(
  user_id INT UNIQUE NOT NULL,
  tour_id INT UNIQUE NOT NULL,
  PRIMARY KEY (user_id, tour_id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 12:51:14,196 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:51:14,196 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "review"
(
  id      SERIAL,
  date    DATE NOT NULL,
  text    TEXT NOT NULL,
  user_id INT  NOT NULL,
  tour_id INT  NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 12:51:14,206 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 12:51:14,206 DEBUG [main] org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version 1 - init schema
2019-02-22 12:51:14,211 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
2019-02-22 12:51:14,216 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version 1.1 - init data
2019-02-22 12:51:14,217 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user1', 'user1')
2019-02-22 12:51:14,220 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:51:14,220 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user2', 'user2')
2019-02-22 12:51:14,220 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:51:14,220 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user3', 'user3')
2019-02-22 12:51:14,221 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:51:14,221 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user4', 'user4')
2019-02-22 12:51:14,221 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:51:14,221 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "country" (name)
VALUES ('testCountry')
2019-02-22 12:51:14,223 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:51:14,223 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test1', 4, 'test1', 1, 1, 'security')
2019-02-22 12:51:14,224 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:51:14,225 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test2', 4, 'test2', 1, 1, 'security')
2019-02-22 12:51:14,225 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:51:14,225 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test3', 4, 'test3', 1, 1, 'security')
2019-02-22 12:51:14,225 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:51:14,225 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test4', 4, 'test4', 1, 1, 'security')
2019-02-22 12:51:14,226 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:51:14,226 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test1.jpg', '12-12-2012', 12, 'description1', 505, 'guided', 1, 1)
2019-02-22 12:51:14,228 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:51:14,228 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test2.jpg', '12-12-2012', 12, 'description2', 505, 'guided', 2, 1)
2019-02-22 12:51:14,228 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:51:14,228 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test3.jpg', '12-12-2012', 12, 'description3', 505, 'guided', 3, 1)
2019-02-22 12:51:14,229 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:51:14,229 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test4.jpg', '12-12-2012', 12, 'description4', 505, 'guided', 4, 1)
2019-02-22 12:51:14,229 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:51:14,229 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-10-2012', 'Some words1', 1,1)
2019-02-22 12:51:14,231 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:51:14,231 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-11-2012', 'Some words2', 1,1)
2019-02-22 12:51:14,232 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:51:14,232 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-13-2012', 'Some words3', 1,1)
2019-02-22 12:51:14,233 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:51:14,233 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-14-2012', 'Some words4', 1,1)
2019-02-22 12:51:14,233 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 12:51:14,233 DEBUG [main] org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version 1.1 - init data
2019-02-22 12:51:14,235 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
2019-02-22 12:51:14,237 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Successfully applied 2 migrations to schema "public" (execution time 00:00.134s)
2019-02-22 12:51:14,239 DEBUG [main] org.flywaydb.core.Flyway - Memory usage: 12 of 256M
2019-02-22 13:01:44,134 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-22 13:02:00,187 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-22 13:02:00,193 INFO  [main] org.flywaydb.core.internal.license.VersionPrinter - Flyway Community Edition 5.2.4 by Boxfuse
2019-02-22 13:02:00,277 INFO  [main] org.flywaydb.core.internal.database.DatabaseFactory - Database: jdbc:postgresql://localhost:56178/template1 (PostgreSQL 10.6)
2019-02-22 13:02:00,277 DEBUG [main] org.flywaydb.core.internal.database.DatabaseFactory - Driver  : PostgreSQL JDBC Driver 42.2.5
2019-02-22 13:02:00,284 DEBUG [main] org.flywaydb.core.Flyway - DDL Transactions Supported: true
2019-02-22 13:02:00,289 DEBUG [main] org.flywaydb.core.Flyway - Schema: public
2019-02-22 13:02:00,293 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2019-02-22 13:02:00,293 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader jdk.internal.loader.ClassLoaders$AppClassLoader@6ed3ef1 ...
2019-02-22 13:02:00,294 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning URL: file:/C:/Users/Valiantsin_Danilau/IdeaProjects/Task1/target/classes/db/migration
2019-02-22 13:02:00,294 DEBUG [main] org.flywaydb.core.internal.util.FeatureDetector - JBoss VFS v2 available: false
2019-02-22 13:02:00,296 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: C:\Users\Valiantsin_Danilau\IdeaProjects\Task1\target\classes\
2019-02-22 13:02:00,296 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning for resources in path: C:\Users\Valiantsin_Danilau\IdeaProjects\Task1\target\classes\db\migration (db/migration)
2019-02-22 13:02:00,296 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: db/migration/V1_1__init_data.sql
2019-02-22 13:02:00,297 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: db/migration/V1__init_schema.sql
2019-02-22 13:02:00,297 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2019-02-22 13:02:00,300 DEBUG [main] org.flywaydb.core.internal.callback.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
2019-02-22 13:02:00,305 DEBUG [main] org.flywaydb.core.internal.util.FeatureDetector - Spring Jdbc available: true
2019-02-22 13:02:00,320 DEBUG [main] org.flywaydb.core.internal.command.DbValidate - Validating migrations ...
2019-02-22 13:02:00,325 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing V1_1__init_data.sql ...
2019-02-22 13:02:00,329 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 1: INSERT INTO "user" (login, password)
VALUES ('user1', 'user1')
2019-02-22 13:02:00,329 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 3: INSERT INTO "user" (login, password)
VALUES ('user2', 'user2')
2019-02-22 13:02:00,330 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 5: INSERT INTO "user" (login, password)
VALUES ('user3', 'user3')
2019-02-22 13:02:00,330 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 7: INSERT INTO "user" (login, password)
VALUES ('user4', 'user4')
2019-02-22 13:02:00,330 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 10: INSERT INTO "country" (name)
VALUES ('testCountry')
2019-02-22 13:02:00,331 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 13: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test1', 4, 'test1', 1, 1, 'security')
2019-02-22 13:02:00,331 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 15: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test2', 4, 'test2', 1, 1, 'security')
2019-02-22 13:02:00,332 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 17: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test3', 4, 'test3', 1, 1, 'security')
2019-02-22 13:02:00,332 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 19: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test4', 4, 'test4', 1, 1, 'security')
2019-02-22 13:02:00,332 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 22: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test1.jpg', '12-12-2012', 12, 'description1', 505, 'guided', 1, 1)
2019-02-22 13:02:00,333 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 24: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test2.jpg', '12-12-2012', 12, 'description2', 505, 'guided', 2, 1)
2019-02-22 13:02:00,333 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 26: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test3.jpg', '12-12-2012', 12, 'description3', 505, 'guided', 3, 1)
2019-02-22 13:02:00,334 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 28: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test4.jpg', '12-12-2012', 12, 'description4', 505, 'guided', 4, 1)
2019-02-22 13:02:00,334 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 31: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-10-2012', 'Some words1', 1,1)
2019-02-22 13:02:00,334 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 32: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-11-2012', 'Some words2', 1,1)
2019-02-22 13:02:00,334 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 33: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-13-2012', 'Some words3', 1,1)
2019-02-22 13:02:00,334 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 34: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-14-2012', 'Some words4', 1,1)
2019-02-22 13:02:00,336 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing V1__init_schema.sql ...
2019-02-22 13:02:00,338 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 1: CREATE TYPE TOUR_TYPE AS ENUM
  (
    'bus', 'sightseeing', 'shore_excursion',
    'adventure', 'sporting', 'cruise',
    'escorted', 'guided', 'rail', 'extreme'
    )
2019-02-22 13:02:00,338 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 8: CREATE TYPE HOTEL_FEATURE AS ENUM
  (
    'cleanliness', 'security', 'wi-fi', 'breakfast', 'parking', 'air_conditioning',
    'food_delivery', 'pool', 'conference_hall', 'safe'
    )
2019-02-22 13:02:00,339 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 16: CREATE TABLE IF NOT EXISTS "user"
(
  id       SERIAL,
  login    VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255)        NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 13:02:00,339 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 24: CREATE TABLE IF NOT EXISTS "hotel"
(
  id        SERIAL,
  name      VARCHAR(255)   NOT NULL,
  stars     SMALLINT       NOT NULL,
  website   VARCHAR(255)   NOT NULL,
  latitude  DECIMAL(8, 6)  NOT NULL,
  longitude DECIMAL(8, 6)  NOT NULL,
  feature   HOTEL_FEATURE NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 13:02:00,340 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 36: CREATE TABLE IF NOT EXISTS "country"
(
  id   SERIAL,
  name VARCHAR(255),
  PRIMARY KEY (id)
)
2019-02-22 13:02:00,341 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 43: CREATE TABLE IF NOT EXISTS "tour"
(
  id          SERIAL,
  photo       VARCHAR(255),
  date        DATE           NOT NULL,
  duration    INT            NOT NULL,
  description TEXT           NOT NULL,
  cost        DECIMAL(19, 3) NOT NULL,
  tour_type   TOUR_TYPE      NOT NULL,
  hotel_id    INT            NOT NULL,
  country_id  INT            NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (hotel_id) REFERENCES "hotel" (id),
  FOREIGN KEY (country_id) REFERENCES "country" (id)
)
2019-02-22 13:02:00,342 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 59: CREATE TABLE IF NOT EXISTS "usertour"
(
  user_id INT UNIQUE NOT NULL,
  tour_id INT UNIQUE NOT NULL,
  PRIMARY KEY (user_id, tour_id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 13:02:00,342 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 68: CREATE TABLE IF NOT EXISTS "review"
(
  id      SERIAL,
  date    DATE NOT NULL,
  text    TEXT NOT NULL,
  user_id INT  NOT NULL,
  tour_id INT  NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 13:02:00,343 DEBUG [main] org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1_1__init_data.sql (filename: V1_1__init_data.sql)
2019-02-22 13:02:00,343 DEBUG [main] org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__init_schema.sql (filename: V1__init_schema.sql)
2019-02-22 13:02:00,350 INFO  [main] org.flywaydb.core.internal.command.DbValidate - Successfully validated 2 migrations (execution time 00:00.028s)
2019-02-22 13:02:00,352 DEBUG [main] org.flywaydb.core.internal.command.DbSchemas - Schema "public" already exists. Skipping schema creation.
2019-02-22 13:02:00,363 INFO  [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Creating Schema History table: "public"."flyway_schema_history"
2019-02-22 13:02:00,365 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing createMetaDataTable.sql ...
2019-02-22 13:02:00,367 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 17: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2019-02-22 13:02:00,367 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 29: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2019-02-22 13:02:00,367 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 31: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2019-02-22 13:02:00,367 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2019-02-22 13:02:00,382 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:02:00,382 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2019-02-22 13:02:00,387 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:02:00,387 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2019-02-22 13:02:00,390 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:02:00,390 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Created Schema History table: "public"."flyway_schema_history"
2019-02-22 13:02:00,397 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Current version of schema "public": << Empty Schema >>
2019-02-22 13:02:00,397 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version 1 - init schema
2019-02-22 13:02:00,399 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TYPE TOUR_TYPE AS ENUM
  (
    'bus', 'sightseeing', 'shore_excursion',
    'adventure', 'sporting', 'cruise',
    'escorted', 'guided', 'rail', 'extreme'
    )
2019-02-22 13:02:00,402 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:02:00,402 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TYPE HOTEL_FEATURE AS ENUM
  (
    'cleanliness', 'security', 'wi-fi', 'breakfast', 'parking', 'air_conditioning',
    'food_delivery', 'pool', 'conference_hall', 'safe'
    )
2019-02-22 13:02:00,403 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:02:00,403 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "user"
(
  id       SERIAL,
  login    VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255)        NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 13:02:00,416 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:02:00,416 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "hotel"
(
  id        SERIAL,
  name      VARCHAR(255)   NOT NULL,
  stars     SMALLINT       NOT NULL,
  website   VARCHAR(255)   NOT NULL,
  latitude  DECIMAL(8, 6)  NOT NULL,
  longitude DECIMAL(8, 6)  NOT NULL,
  feature   HOTEL_FEATURE NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 13:02:00,426 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:02:00,426 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "country"
(
  id   SERIAL,
  name VARCHAR(255),
  PRIMARY KEY (id)
)
2019-02-22 13:02:00,432 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:02:00,432 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "tour"
(
  id          SERIAL,
  photo       VARCHAR(255),
  date        DATE           NOT NULL,
  duration    INT            NOT NULL,
  description TEXT           NOT NULL,
  cost        DECIMAL(19, 3) NOT NULL,
  tour_type   TOUR_TYPE      NOT NULL,
  hotel_id    INT            NOT NULL,
  country_id  INT            NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (hotel_id) REFERENCES "hotel" (id),
  FOREIGN KEY (country_id) REFERENCES "country" (id)
)
2019-02-22 13:02:00,444 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:02:00,444 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "usertour"
(
  user_id INT UNIQUE NOT NULL,
  tour_id INT UNIQUE NOT NULL,
  PRIMARY KEY (user_id, tour_id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 13:02:00,455 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:02:00,455 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "review"
(
  id      SERIAL,
  date    DATE NOT NULL,
  text    TEXT NOT NULL,
  user_id INT  NOT NULL,
  tour_id INT  NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 13:02:00,465 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:02:00,465 DEBUG [main] org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version 1 - init schema
2019-02-22 13:02:00,469 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
2019-02-22 13:02:00,474 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version 1.1 - init data
2019-02-22 13:02:00,476 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user1', 'user1')
2019-02-22 13:02:00,479 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:02:00,479 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user2', 'user2')
2019-02-22 13:02:00,479 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:02:00,479 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user3', 'user3')
2019-02-22 13:02:00,480 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:02:00,480 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user4', 'user4')
2019-02-22 13:02:00,480 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:02:00,480 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "country" (name)
VALUES ('testCountry')
2019-02-22 13:02:00,482 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:02:00,482 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test1', 4, 'test1', 1, 1, 'security')
2019-02-22 13:02:00,484 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:02:00,484 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test2', 4, 'test2', 1, 1, 'security')
2019-02-22 13:02:00,484 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:02:00,484 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test3', 4, 'test3', 1, 1, 'security')
2019-02-22 13:02:00,484 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:02:00,485 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test4', 4, 'test4', 1, 1, 'security')
2019-02-22 13:02:00,485 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:02:00,485 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test1.jpg', '12-12-2012', 12, 'description1', 505, 'guided', 1, 1)
2019-02-22 13:02:00,487 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:02:00,487 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test2.jpg', '12-12-2012', 12, 'description2', 505, 'guided', 2, 1)
2019-02-22 13:02:00,487 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:02:00,487 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test3.jpg', '12-12-2012', 12, 'description3', 505, 'guided', 3, 1)
2019-02-22 13:02:00,488 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:02:00,488 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test4.jpg', '12-12-2012', 12, 'description4', 505, 'guided', 4, 1)
2019-02-22 13:02:00,488 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:02:00,488 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-10-2012', 'Some words1', 1,1)
2019-02-22 13:02:00,490 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:02:00,490 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-11-2012', 'Some words2', 1,1)
2019-02-22 13:02:00,491 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:02:00,491 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-13-2012', 'Some words3', 1,1)
2019-02-22 13:02:00,492 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:02:00,492 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-14-2012', 'Some words4', 1,1)
2019-02-22 13:02:00,492 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:02:00,492 DEBUG [main] org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version 1.1 - init data
2019-02-22 13:02:00,494 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
2019-02-22 13:02:00,497 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Successfully applied 2 migrations to schema "public" (execution time 00:00.134s)
2019-02-22 13:02:00,498 DEBUG [main] org.flywaydb.core.Flyway - Memory usage: 13 of 256M
2019-02-22 13:04:19,652 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-22 13:04:35,374 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-22 13:04:35,379 INFO  [main] org.flywaydb.core.internal.license.VersionPrinter - Flyway Community Edition 5.2.4 by Boxfuse
2019-02-22 13:04:35,459 INFO  [main] org.flywaydb.core.internal.database.DatabaseFactory - Database: jdbc:postgresql://localhost:56221/template1 (PostgreSQL 10.6)
2019-02-22 13:04:35,459 DEBUG [main] org.flywaydb.core.internal.database.DatabaseFactory - Driver  : PostgreSQL JDBC Driver 42.2.5
2019-02-22 13:04:35,466 DEBUG [main] org.flywaydb.core.Flyway - DDL Transactions Supported: true
2019-02-22 13:04:35,471 DEBUG [main] org.flywaydb.core.Flyway - Schema: public
2019-02-22 13:04:35,475 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2019-02-22 13:04:35,475 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader jdk.internal.loader.ClassLoaders$AppClassLoader@6ed3ef1 ...
2019-02-22 13:04:35,476 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning URL: file:/C:/Users/Valiantsin_Danilau/IdeaProjects/Task1/target/classes/db/migration
2019-02-22 13:04:35,476 DEBUG [main] org.flywaydb.core.internal.util.FeatureDetector - JBoss VFS v2 available: false
2019-02-22 13:04:35,478 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: C:\Users\Valiantsin_Danilau\IdeaProjects\Task1\target\classes\
2019-02-22 13:04:35,478 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning for resources in path: C:\Users\Valiantsin_Danilau\IdeaProjects\Task1\target\classes\db\migration (db/migration)
2019-02-22 13:04:35,479 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: db/migration/V1_1__init_data.sql
2019-02-22 13:04:35,479 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: db/migration/V1__init_schema.sql
2019-02-22 13:04:35,479 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2019-02-22 13:04:35,482 DEBUG [main] org.flywaydb.core.internal.callback.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
2019-02-22 13:04:35,488 DEBUG [main] org.flywaydb.core.internal.util.FeatureDetector - Spring Jdbc available: true
2019-02-22 13:04:35,502 DEBUG [main] org.flywaydb.core.internal.command.DbValidate - Validating migrations ...
2019-02-22 13:04:35,507 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing V1_1__init_data.sql ...
2019-02-22 13:04:35,510 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 1: INSERT INTO "user" (login, password)
VALUES ('user1', 'user1')
2019-02-22 13:04:35,511 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 3: INSERT INTO "user" (login, password)
VALUES ('user2', 'user2')
2019-02-22 13:04:35,511 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 5: INSERT INTO "user" (login, password)
VALUES ('user3', 'user3')
2019-02-22 13:04:35,511 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 7: INSERT INTO "user" (login, password)
VALUES ('user4', 'user4')
2019-02-22 13:04:35,511 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 10: INSERT INTO "country" (name)
VALUES ('testCountry')
2019-02-22 13:04:35,512 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 13: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test1', 4, 'test1', 1, 1, 'security')
2019-02-22 13:04:35,513 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 15: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test2', 4, 'test2', 1, 1, 'security')
2019-02-22 13:04:35,513 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 17: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test3', 4, 'test3', 1, 1, 'security')
2019-02-22 13:04:35,513 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 19: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test4', 4, 'test4', 1, 1, 'security')
2019-02-22 13:04:35,514 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 22: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test1.jpg', '12-12-2012', 12, 'description1', 505, 'guided', 1, 1)
2019-02-22 13:04:35,514 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 24: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test2.jpg', '12-12-2012', 12, 'description2', 505, 'guided', 2, 1)
2019-02-22 13:04:35,515 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 26: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test3.jpg', '12-12-2012', 12, 'description3', 505, 'guided', 3, 1)
2019-02-22 13:04:35,515 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 28: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test4.jpg', '12-12-2012', 12, 'description4', 505, 'guided', 4, 1)
2019-02-22 13:04:35,516 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 31: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-10-2012', 'Some words1', 1,1)
2019-02-22 13:04:35,516 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 32: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-11-2012', 'Some words2', 1,1)
2019-02-22 13:04:35,516 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 33: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-13-2012', 'Some words3', 1,1)
2019-02-22 13:04:35,516 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 34: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-14-2012', 'Some words4', 1,1)
2019-02-22 13:04:35,518 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing V1__init_schema.sql ...
2019-02-22 13:04:35,519 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 1: CREATE TYPE TOUR_TYPE AS ENUM
  (
    'bus', 'sightseeing', 'shore_excursion',
    'adventure', 'sporting', 'cruise',
    'escorted', 'guided', 'rail', 'extreme'
    )
2019-02-22 13:04:35,520 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 8: CREATE TYPE HOTEL_FEATURE AS ENUM
  (
    'cleanliness', 'security', 'wi-fi', 'breakfast', 'parking', 'air_conditioning',
    'food_delivery', 'pool', 'conference_hall', 'safe'
    )
2019-02-22 13:04:35,520 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 16: CREATE TABLE IF NOT EXISTS "user"
(
  id       SERIAL,
  login    VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255)        NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 13:04:35,521 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 24: CREATE TABLE IF NOT EXISTS "hotel"
(
  id        SERIAL,
  name      VARCHAR(255)   NOT NULL,
  stars     SMALLINT       NOT NULL,
  website   VARCHAR(255)   NOT NULL,
  latitude  DECIMAL(8, 6)  NOT NULL,
  longitude DECIMAL(8, 6)  NOT NULL,
  feature   HOTEL_FEATURE NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 13:04:35,522 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 36: CREATE TABLE IF NOT EXISTS "country"
(
  id   SERIAL,
  name VARCHAR(255),
  PRIMARY KEY (id)
)
2019-02-22 13:04:35,523 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 43: CREATE TABLE IF NOT EXISTS "tour"
(
  id          SERIAL,
  photo       VARCHAR(255),
  date        DATE           NOT NULL,
  duration    INT            NOT NULL,
  description TEXT           NOT NULL,
  cost        DECIMAL(19, 3) NOT NULL,
  tour_type   TOUR_TYPE      NOT NULL,
  hotel_id    INT            NOT NULL,
  country_id  INT            NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (hotel_id) REFERENCES "hotel" (id),
  FOREIGN KEY (country_id) REFERENCES "country" (id)
)
2019-02-22 13:04:35,523 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 59: CREATE TABLE IF NOT EXISTS "usertour"
(
  user_id INT UNIQUE NOT NULL,
  tour_id INT UNIQUE NOT NULL,
  PRIMARY KEY (user_id, tour_id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 13:04:35,524 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 68: CREATE TABLE IF NOT EXISTS "review"
(
  id      SERIAL,
  date    DATE NOT NULL,
  text    TEXT NOT NULL,
  user_id INT  NOT NULL,
  tour_id INT  NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 13:04:35,525 DEBUG [main] org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1_1__init_data.sql (filename: V1_1__init_data.sql)
2019-02-22 13:04:35,525 DEBUG [main] org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__init_schema.sql (filename: V1__init_schema.sql)
2019-02-22 13:04:35,531 INFO  [main] org.flywaydb.core.internal.command.DbValidate - Successfully validated 2 migrations (execution time 00:00.028s)
2019-02-22 13:04:35,533 DEBUG [main] org.flywaydb.core.internal.command.DbSchemas - Schema "public" already exists. Skipping schema creation.
2019-02-22 13:04:35,543 INFO  [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Creating Schema History table: "public"."flyway_schema_history"
2019-02-22 13:04:35,545 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing createMetaDataTable.sql ...
2019-02-22 13:04:35,547 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 17: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2019-02-22 13:04:35,547 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 29: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2019-02-22 13:04:35,547 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 31: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2019-02-22 13:04:35,547 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2019-02-22 13:04:35,561 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:04:35,562 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2019-02-22 13:04:35,566 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:04:35,567 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2019-02-22 13:04:35,569 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:04:35,570 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Created Schema History table: "public"."flyway_schema_history"
2019-02-22 13:04:35,577 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Current version of schema "public": << Empty Schema >>
2019-02-22 13:04:35,578 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version 1 - init schema
2019-02-22 13:04:35,579 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TYPE TOUR_TYPE AS ENUM
  (
    'bus', 'sightseeing', 'shore_excursion',
    'adventure', 'sporting', 'cruise',
    'escorted', 'guided', 'rail', 'extreme'
    )
2019-02-22 13:04:35,582 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:04:35,582 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TYPE HOTEL_FEATURE AS ENUM
  (
    'cleanliness', 'security', 'wi-fi', 'breakfast', 'parking', 'air_conditioning',
    'food_delivery', 'pool', 'conference_hall', 'safe'
    )
2019-02-22 13:04:35,583 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:04:35,583 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "user"
(
  id       SERIAL,
  login    VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255)        NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 13:04:35,597 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:04:35,597 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "hotel"
(
  id        SERIAL,
  name      VARCHAR(255)   NOT NULL,
  stars     SMALLINT       NOT NULL,
  website   VARCHAR(255)   NOT NULL,
  latitude  DECIMAL(8, 6)  NOT NULL,
  longitude DECIMAL(8, 6)  NOT NULL,
  feature   HOTEL_FEATURE NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 13:04:35,607 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:04:35,607 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "country"
(
  id   SERIAL,
  name VARCHAR(255),
  PRIMARY KEY (id)
)
2019-02-22 13:04:35,613 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:04:35,613 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "tour"
(
  id          SERIAL,
  photo       VARCHAR(255),
  date        DATE           NOT NULL,
  duration    INT            NOT NULL,
  description TEXT           NOT NULL,
  cost        DECIMAL(19, 3) NOT NULL,
  tour_type   TOUR_TYPE      NOT NULL,
  hotel_id    INT            NOT NULL,
  country_id  INT            NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (hotel_id) REFERENCES "hotel" (id),
  FOREIGN KEY (country_id) REFERENCES "country" (id)
)
2019-02-22 13:04:35,625 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:04:35,626 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "usertour"
(
  user_id INT UNIQUE NOT NULL,
  tour_id INT UNIQUE NOT NULL,
  PRIMARY KEY (user_id, tour_id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 13:04:35,636 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:04:35,636 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "review"
(
  id      SERIAL,
  date    DATE NOT NULL,
  text    TEXT NOT NULL,
  user_id INT  NOT NULL,
  tour_id INT  NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 13:04:35,646 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:04:35,647 DEBUG [main] org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version 1 - init schema
2019-02-22 13:04:35,650 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
2019-02-22 13:04:35,655 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version 1.1 - init data
2019-02-22 13:04:35,656 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user1', 'user1')
2019-02-22 13:04:35,659 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:04:35,659 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user2', 'user2')
2019-02-22 13:04:35,659 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:04:35,659 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user3', 'user3')
2019-02-22 13:04:35,660 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:04:35,660 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user4', 'user4')
2019-02-22 13:04:35,660 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:04:35,660 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "country" (name)
VALUES ('testCountry')
2019-02-22 13:04:35,662 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:04:35,662 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test1', 4, 'test1', 1, 1, 'security')
2019-02-22 13:04:35,663 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:04:35,663 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test2', 4, 'test2', 1, 1, 'security')
2019-02-22 13:04:35,664 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:04:35,664 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test3', 4, 'test3', 1, 1, 'security')
2019-02-22 13:04:35,664 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:04:35,664 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test4', 4, 'test4', 1, 1, 'security')
2019-02-22 13:04:35,664 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:04:35,665 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test1.jpg', '12-12-2012', 12, 'description1', 505, 'guided', 1, 1)
2019-02-22 13:04:35,666 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:04:35,666 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test2.jpg', '12-12-2012', 12, 'description2', 505, 'guided', 2, 1)
2019-02-22 13:04:35,667 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:04:35,667 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test3.jpg', '12-12-2012', 12, 'description3', 505, 'guided', 3, 1)
2019-02-22 13:04:35,668 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:04:35,668 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test4.jpg', '12-12-2012', 12, 'description4', 505, 'guided', 4, 1)
2019-02-22 13:04:35,668 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:04:35,668 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-10-2012', 'Some words1', 1,1)
2019-02-22 13:04:35,670 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:04:35,670 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-11-2012', 'Some words2', 1,1)
2019-02-22 13:04:35,671 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:04:35,671 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-13-2012', 'Some words3', 1,1)
2019-02-22 13:04:35,671 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:04:35,671 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-14-2012', 'Some words4', 1,1)
2019-02-22 13:04:35,672 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:04:35,672 DEBUG [main] org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version 1.1 - init data
2019-02-22 13:04:35,673 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
2019-02-22 13:04:35,676 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Successfully applied 2 migrations to schema "public" (execution time 00:00.133s)
2019-02-22 13:04:35,677 DEBUG [main] org.flywaydb.core.Flyway - Memory usage: 13 of 256M
2019-02-22 13:09:02,679 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-22 13:09:21,817 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-22 13:09:21,823 INFO  [main] org.flywaydb.core.internal.license.VersionPrinter - Flyway Community Edition 5.2.4 by Boxfuse
2019-02-22 13:09:21,912 INFO  [main] org.flywaydb.core.internal.database.DatabaseFactory - Database: jdbc:postgresql://localhost:56273/template1 (PostgreSQL 10.6)
2019-02-22 13:09:21,912 DEBUG [main] org.flywaydb.core.internal.database.DatabaseFactory - Driver  : PostgreSQL JDBC Driver 42.2.5
2019-02-22 13:09:21,918 DEBUG [main] org.flywaydb.core.Flyway - DDL Transactions Supported: true
2019-02-22 13:09:21,923 DEBUG [main] org.flywaydb.core.Flyway - Schema: public
2019-02-22 13:09:21,927 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2019-02-22 13:09:21,927 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader jdk.internal.loader.ClassLoaders$AppClassLoader@6ed3ef1 ...
2019-02-22 13:09:21,928 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning URL: file:/C:/Users/Valiantsin_Danilau/IdeaProjects/Task1/target/classes/db/migration
2019-02-22 13:09:21,928 DEBUG [main] org.flywaydb.core.internal.util.FeatureDetector - JBoss VFS v2 available: false
2019-02-22 13:09:21,930 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: C:\Users\Valiantsin_Danilau\IdeaProjects\Task1\target\classes\
2019-02-22 13:09:21,930 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning for resources in path: C:\Users\Valiantsin_Danilau\IdeaProjects\Task1\target\classes\db\migration (db/migration)
2019-02-22 13:09:21,930 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: db/migration/V1_1__init_data.sql
2019-02-22 13:09:21,931 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: db/migration/V1__init_schema.sql
2019-02-22 13:09:21,931 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2019-02-22 13:09:21,934 DEBUG [main] org.flywaydb.core.internal.callback.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
2019-02-22 13:09:21,939 DEBUG [main] org.flywaydb.core.internal.util.FeatureDetector - Spring Jdbc available: true
2019-02-22 13:09:21,953 DEBUG [main] org.flywaydb.core.internal.command.DbValidate - Validating migrations ...
2019-02-22 13:09:21,958 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing V1_1__init_data.sql ...
2019-02-22 13:09:21,961 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 1: INSERT INTO "user" (login, password)
VALUES ('user1', 'user1')
2019-02-22 13:09:21,962 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 3: INSERT INTO "user" (login, password)
VALUES ('user2', 'user2')
2019-02-22 13:09:21,962 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 5: INSERT INTO "user" (login, password)
VALUES ('user3', 'user3')
2019-02-22 13:09:21,963 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 7: INSERT INTO "user" (login, password)
VALUES ('user4', 'user4')
2019-02-22 13:09:21,963 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 10: INSERT INTO "country" (name)
VALUES ('testCountry')
2019-02-22 13:09:21,964 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 13: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test1', 4, 'test1', 1, 1, 'security')
2019-02-22 13:09:21,964 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 15: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test2', 4, 'test2', 1, 1, 'security')
2019-02-22 13:09:21,964 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 17: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test3', 4, 'test3', 1, 1, 'security')
2019-02-22 13:09:21,965 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 19: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test4', 4, 'test4', 1, 1, 'security')
2019-02-22 13:09:21,965 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 22: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test1.jpg', '12-12-2012', 12, 'description1', 505, 'guided', 1, 1)
2019-02-22 13:09:21,966 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 24: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test2.jpg', '12-12-2012', 12, 'description2', 505, 'guided', 2, 1)
2019-02-22 13:09:21,966 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 26: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test3.jpg', '12-12-2012', 12, 'description3', 505, 'guided', 3, 1)
2019-02-22 13:09:21,966 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 28: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test4.jpg', '12-12-2012', 12, 'description4', 505, 'guided', 4, 1)
2019-02-22 13:09:21,967 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 31: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-10-2012', 'Some words1', 1,1)
2019-02-22 13:09:21,967 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 32: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-11-2012', 'Some words2', 1,1)
2019-02-22 13:09:21,967 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 33: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-13-2012', 'Some words3', 1,1)
2019-02-22 13:09:21,967 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 34: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-14-2012', 'Some words4', 1,1)
2019-02-22 13:09:21,969 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing V1__init_schema.sql ...
2019-02-22 13:09:21,970 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 1: CREATE TYPE TOUR_TYPE AS ENUM
  (
    'bus', 'sightseeing', 'shore_excursion',
    'adventure', 'sporting', 'cruise',
    'escorted', 'guided', 'rail', 'extreme'
    )
2019-02-22 13:09:21,971 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 8: CREATE TYPE HOTEL_FEATURE AS ENUM
  (
    'cleanliness', 'security', 'wi-fi', 'breakfast', 'parking', 'air_conditioning',
    'food_delivery', 'pool', 'conference_hall', 'safe'
    )
2019-02-22 13:09:21,971 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 16: CREATE TABLE IF NOT EXISTS "user"
(
  id       SERIAL,
  login    VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255)        NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 13:09:21,972 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 24: CREATE TABLE IF NOT EXISTS "hotel"
(
  id        SERIAL,
  name      VARCHAR(255)   NOT NULL,
  stars     SMALLINT       NOT NULL,
  website   VARCHAR(255)   NOT NULL,
  latitude  DECIMAL(8, 6)  NOT NULL,
  longitude DECIMAL(8, 6)  NOT NULL,
  feature   HOTEL_FEATURE NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 13:09:21,972 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 36: CREATE TABLE IF NOT EXISTS "country"
(
  id   SERIAL,
  name VARCHAR(255),
  PRIMARY KEY (id)
)
2019-02-22 13:09:21,974 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 43: CREATE TABLE IF NOT EXISTS "tour"
(
  id          SERIAL,
  photo       VARCHAR(255),
  date        DATE           NOT NULL,
  duration    INT            NOT NULL,
  description TEXT           NOT NULL,
  cost        DECIMAL(19, 3) NOT NULL,
  tour_type   TOUR_TYPE      NOT NULL,
  hotel_id    INT            NOT NULL,
  country_id  INT            NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (hotel_id) REFERENCES "hotel" (id),
  FOREIGN KEY (country_id) REFERENCES "country" (id)
)
2019-02-22 13:09:21,974 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 59: CREATE TABLE IF NOT EXISTS "usertour"
(
  user_id INT UNIQUE NOT NULL,
  tour_id INT UNIQUE NOT NULL,
  PRIMARY KEY (user_id, tour_id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 13:09:21,975 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 68: CREATE TABLE IF NOT EXISTS "review"
(
  id      SERIAL,
  date    DATE NOT NULL,
  text    TEXT NOT NULL,
  user_id INT  NOT NULL,
  tour_id INT  NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 13:09:21,976 DEBUG [main] org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1_1__init_data.sql (filename: V1_1__init_data.sql)
2019-02-22 13:09:21,976 DEBUG [main] org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__init_schema.sql (filename: V1__init_schema.sql)
2019-02-22 13:09:21,981 INFO  [main] org.flywaydb.core.internal.command.DbValidate - Successfully validated 2 migrations (execution time 00:00.027s)
2019-02-22 13:09:21,984 DEBUG [main] org.flywaydb.core.internal.command.DbSchemas - Schema "public" already exists. Skipping schema creation.
2019-02-22 13:09:21,994 INFO  [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Creating Schema History table: "public"."flyway_schema_history"
2019-02-22 13:09:21,996 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing createMetaDataTable.sql ...
2019-02-22 13:09:21,998 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 17: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2019-02-22 13:09:21,998 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 29: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2019-02-22 13:09:21,998 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 31: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2019-02-22 13:09:21,998 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2019-02-22 13:09:22,013 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:09:22,013 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2019-02-22 13:09:22,018 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:09:22,018 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2019-02-22 13:09:22,021 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:09:22,021 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Created Schema History table: "public"."flyway_schema_history"
2019-02-22 13:09:22,028 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Current version of schema "public": << Empty Schema >>
2019-02-22 13:09:22,029 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version 1 - init schema
2019-02-22 13:09:22,030 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TYPE TOUR_TYPE AS ENUM
  (
    'bus', 'sightseeing', 'shore_excursion',
    'adventure', 'sporting', 'cruise',
    'escorted', 'guided', 'rail', 'extreme'
    )
2019-02-22 13:09:22,033 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:09:22,033 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TYPE HOTEL_FEATURE AS ENUM
  (
    'cleanliness', 'security', 'wi-fi', 'breakfast', 'parking', 'air_conditioning',
    'food_delivery', 'pool', 'conference_hall', 'safe'
    )
2019-02-22 13:09:22,034 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:09:22,034 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "user"
(
  id       SERIAL,
  login    VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255)        NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 13:09:22,047 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:09:22,047 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "hotel"
(
  id        SERIAL,
  name      VARCHAR(255)   NOT NULL,
  stars     SMALLINT       NOT NULL,
  website   VARCHAR(255)   NOT NULL,
  latitude  DECIMAL(8, 6)  NOT NULL,
  longitude DECIMAL(8, 6)  NOT NULL,
  feature   HOTEL_FEATURE NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 13:09:22,057 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:09:22,057 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "country"
(
  id   SERIAL,
  name VARCHAR(255),
  PRIMARY KEY (id)
)
2019-02-22 13:09:22,062 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:09:22,062 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "tour"
(
  id          SERIAL,
  photo       VARCHAR(255),
  date        DATE           NOT NULL,
  duration    INT            NOT NULL,
  description TEXT           NOT NULL,
  cost        DECIMAL(19, 3) NOT NULL,
  tour_type   TOUR_TYPE      NOT NULL,
  hotel_id    INT            NOT NULL,
  country_id  INT            NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (hotel_id) REFERENCES "hotel" (id),
  FOREIGN KEY (country_id) REFERENCES "country" (id)
)
2019-02-22 13:09:22,074 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:09:22,074 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "usertour"
(
  user_id INT UNIQUE NOT NULL,
  tour_id INT UNIQUE NOT NULL,
  PRIMARY KEY (user_id, tour_id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 13:09:22,085 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:09:22,085 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "review"
(
  id      SERIAL,
  date    DATE NOT NULL,
  text    TEXT NOT NULL,
  user_id INT  NOT NULL,
  tour_id INT  NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 13:09:22,095 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:09:22,095 DEBUG [main] org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version 1 - init schema
2019-02-22 13:09:22,099 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
2019-02-22 13:09:22,105 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version 1.1 - init data
2019-02-22 13:09:22,106 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user1', 'user1')
2019-02-22 13:09:22,108 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:09:22,108 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user2', 'user2')
2019-02-22 13:09:22,108 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:09:22,108 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user3', 'user3')
2019-02-22 13:09:22,109 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:09:22,109 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user4', 'user4')
2019-02-22 13:09:22,109 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:09:22,109 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "country" (name)
VALUES ('testCountry')
2019-02-22 13:09:22,111 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:09:22,111 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test1', 4, 'test1', 1, 1, 'security')
2019-02-22 13:09:22,113 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:09:22,113 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test2', 4, 'test2', 1, 1, 'security')
2019-02-22 13:09:22,113 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:09:22,113 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test3', 4, 'test3', 1, 1, 'security')
2019-02-22 13:09:22,113 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:09:22,113 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test4', 4, 'test4', 1, 1, 'security')
2019-02-22 13:09:22,114 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:09:22,114 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test1.jpg', '12-12-2012', 12, 'description1', 505, 'guided', 1, 1)
2019-02-22 13:09:22,116 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:09:22,116 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test2.jpg', '12-12-2012', 12, 'description2', 505, 'guided', 2, 1)
2019-02-22 13:09:22,117 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:09:22,117 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test3.jpg', '12-12-2012', 12, 'description3', 505, 'guided', 3, 1)
2019-02-22 13:09:22,117 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:09:22,117 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test4.jpg', '12-12-2012', 12, 'description4', 505, 'guided', 4, 1)
2019-02-22 13:09:22,118 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:09:22,118 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-10-2012', 'Some words1', 1,1)
2019-02-22 13:09:22,119 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:09:22,120 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-11-2012', 'Some words2', 1,1)
2019-02-22 13:09:22,120 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:09:22,120 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-13-2012', 'Some words3', 1,1)
2019-02-22 13:09:22,120 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:09:22,121 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-14-2012', 'Some words4', 1,1)
2019-02-22 13:09:22,121 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:09:22,121 DEBUG [main] org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version 1.1 - init data
2019-02-22 13:09:22,123 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
2019-02-22 13:09:22,125 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Successfully applied 2 migrations to schema "public" (execution time 00:00.131s)
2019-02-22 13:09:22,127 DEBUG [main] org.flywaydb.core.Flyway - Memory usage: 13 of 256M
2019-02-22 13:09:45,495 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-22 13:10:01,055 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-22 13:10:01,062 INFO  [main] org.flywaydb.core.internal.license.VersionPrinter - Flyway Community Edition 5.2.4 by Boxfuse
2019-02-22 13:10:01,151 INFO  [main] org.flywaydb.core.internal.database.DatabaseFactory - Database: jdbc:postgresql://localhost:56294/template1 (PostgreSQL 10.6)
2019-02-22 13:10:01,152 DEBUG [main] org.flywaydb.core.internal.database.DatabaseFactory - Driver  : PostgreSQL JDBC Driver 42.2.5
2019-02-22 13:10:01,159 DEBUG [main] org.flywaydb.core.Flyway - DDL Transactions Supported: true
2019-02-22 13:10:01,164 DEBUG [main] org.flywaydb.core.Flyway - Schema: public
2019-02-22 13:10:01,169 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2019-02-22 13:10:01,169 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader jdk.internal.loader.ClassLoaders$AppClassLoader@6ed3ef1 ...
2019-02-22 13:10:01,170 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning URL: file:/C:/Users/Valiantsin_Danilau/IdeaProjects/Task1/target/classes/db/migration
2019-02-22 13:10:01,170 DEBUG [main] org.flywaydb.core.internal.util.FeatureDetector - JBoss VFS v2 available: false
2019-02-22 13:10:01,172 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: C:\Users\Valiantsin_Danilau\IdeaProjects\Task1\target\classes\
2019-02-22 13:10:01,172 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning for resources in path: C:\Users\Valiantsin_Danilau\IdeaProjects\Task1\target\classes\db\migration (db/migration)
2019-02-22 13:10:01,173 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: db/migration/V1_1__init_data.sql
2019-02-22 13:10:01,173 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: db/migration/V1__init_schema.sql
2019-02-22 13:10:01,173 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2019-02-22 13:10:01,177 DEBUG [main] org.flywaydb.core.internal.callback.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
2019-02-22 13:10:01,182 DEBUG [main] org.flywaydb.core.internal.util.FeatureDetector - Spring Jdbc available: true
2019-02-22 13:10:01,197 DEBUG [main] org.flywaydb.core.internal.command.DbValidate - Validating migrations ...
2019-02-22 13:10:01,203 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing V1_1__init_data.sql ...
2019-02-22 13:10:01,206 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 1: INSERT INTO "user" (login, password)
VALUES ('user1', 'user1')
2019-02-22 13:10:01,207 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 3: INSERT INTO "user" (login, password)
VALUES ('user2', 'user2')
2019-02-22 13:10:01,207 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 5: INSERT INTO "user" (login, password)
VALUES ('user3', 'user3')
2019-02-22 13:10:01,207 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 7: INSERT INTO "user" (login, password)
VALUES ('user4', 'user4')
2019-02-22 13:10:01,208 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 10: INSERT INTO "country" (name)
VALUES ('testCountry')
2019-02-22 13:10:01,208 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 13: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test1', 4, 'test1', 1, 1, 'security')
2019-02-22 13:10:01,209 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 15: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test2', 4, 'test2', 1, 1, 'security')
2019-02-22 13:10:01,209 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 17: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test3', 4, 'test3', 1, 1, 'security')
2019-02-22 13:10:01,210 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 19: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test4', 4, 'test4', 1, 1, 'security')
2019-02-22 13:10:01,210 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 22: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test1.jpg', '12-12-2012', 12, 'description1', 505, 'guided', 1, 1)
2019-02-22 13:10:01,210 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 24: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test2.jpg', '12-12-2012', 12, 'description2', 505, 'guided', 2, 1)
2019-02-22 13:10:01,211 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 26: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test3.jpg', '12-12-2012', 12, 'description3', 505, 'guided', 3, 1)
2019-02-22 13:10:01,211 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 28: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test4.jpg', '12-12-2012', 12, 'description4', 505, 'guided', 4, 1)
2019-02-22 13:10:01,211 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 31: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-10-2012', 'Some words1', 1,1)
2019-02-22 13:10:01,212 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 32: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-11-2012', 'Some words2', 1,1)
2019-02-22 13:10:01,212 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 33: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-13-2012', 'Some words3', 1,1)
2019-02-22 13:10:01,212 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 34: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-14-2012', 'Some words4', 1,1)
2019-02-22 13:10:01,214 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing V1__init_schema.sql ...
2019-02-22 13:10:01,215 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 1: CREATE TYPE TOUR_TYPE AS ENUM
  (
    'bus', 'sightseeing', 'shore_excursion',
    'adventure', 'sporting', 'cruise',
    'escorted', 'guided', 'rail', 'extreme'
    )
2019-02-22 13:10:01,216 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 8: CREATE TYPE HOTEL_FEATURE AS ENUM
  (
    'cleanliness', 'security', 'wi-fi', 'breakfast', 'parking', 'air_conditioning',
    'food_delivery', 'pool', 'conference_hall', 'safe'
    )
2019-02-22 13:10:01,216 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 16: CREATE TABLE IF NOT EXISTS "user"
(
  id       SERIAL,
  login    VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255)        NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 13:10:01,217 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 24: CREATE TABLE IF NOT EXISTS "hotel"
(
  id        SERIAL,
  name      VARCHAR(255)   NOT NULL,
  stars     SMALLINT       NOT NULL,
  website   VARCHAR(255)   NOT NULL,
  latitude  DECIMAL(8, 6)  NOT NULL,
  longitude DECIMAL(8, 6)  NOT NULL,
  feature   HOTEL_FEATURE NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 13:10:01,218 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 36: CREATE TABLE IF NOT EXISTS "country"
(
  id   SERIAL,
  name VARCHAR(255),
  PRIMARY KEY (id)
)
2019-02-22 13:10:01,219 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 43: CREATE TABLE IF NOT EXISTS "tour"
(
  id          SERIAL,
  photo       VARCHAR(255),
  date        DATE           NOT NULL,
  duration    INT            NOT NULL,
  description TEXT           NOT NULL,
  cost        DECIMAL(19, 3) NOT NULL,
  tour_type   TOUR_TYPE      NOT NULL,
  hotel_id    INT            NOT NULL,
  country_id  INT            NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (hotel_id) REFERENCES "hotel" (id),
  FOREIGN KEY (country_id) REFERENCES "country" (id)
)
2019-02-22 13:10:01,219 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 59: CREATE TABLE IF NOT EXISTS "usertour"
(
  user_id INT UNIQUE NOT NULL,
  tour_id INT UNIQUE NOT NULL,
  PRIMARY KEY (user_id, tour_id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 13:10:01,220 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 68: CREATE TABLE IF NOT EXISTS "review"
(
  id      SERIAL,
  date    DATE NOT NULL,
  text    TEXT NOT NULL,
  user_id INT  NOT NULL,
  tour_id INT  NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 13:10:01,222 DEBUG [main] org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1_1__init_data.sql (filename: V1_1__init_data.sql)
2019-02-22 13:10:01,222 DEBUG [main] org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__init_schema.sql (filename: V1__init_schema.sql)
2019-02-22 13:10:01,228 INFO  [main] org.flywaydb.core.internal.command.DbValidate - Successfully validated 2 migrations (execution time 00:00.029s)
2019-02-22 13:10:01,230 DEBUG [main] org.flywaydb.core.internal.command.DbSchemas - Schema "public" already exists. Skipping schema creation.
2019-02-22 13:10:01,241 INFO  [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Creating Schema History table: "public"."flyway_schema_history"
2019-02-22 13:10:01,243 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing createMetaDataTable.sql ...
2019-02-22 13:10:01,245 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 17: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2019-02-22 13:10:01,245 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 29: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2019-02-22 13:10:01,245 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 31: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2019-02-22 13:10:01,245 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2019-02-22 13:10:01,260 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:10:01,261 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2019-02-22 13:10:01,266 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:10:01,266 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2019-02-22 13:10:01,269 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:10:01,269 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Created Schema History table: "public"."flyway_schema_history"
2019-02-22 13:10:01,277 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Current version of schema "public": << Empty Schema >>
2019-02-22 13:10:01,278 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version 1 - init schema
2019-02-22 13:10:01,279 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TYPE TOUR_TYPE AS ENUM
  (
    'bus', 'sightseeing', 'shore_excursion',
    'adventure', 'sporting', 'cruise',
    'escorted', 'guided', 'rail', 'extreme'
    )
2019-02-22 13:10:01,283 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:10:01,283 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TYPE HOTEL_FEATURE AS ENUM
  (
    'cleanliness', 'security', 'wi-fi', 'breakfast', 'parking', 'air_conditioning',
    'food_delivery', 'pool', 'conference_hall', 'safe'
    )
2019-02-22 13:10:01,284 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:10:01,284 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "user"
(
  id       SERIAL,
  login    VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255)        NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 13:10:01,298 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:10:01,298 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "hotel"
(
  id        SERIAL,
  name      VARCHAR(255)   NOT NULL,
  stars     SMALLINT       NOT NULL,
  website   VARCHAR(255)   NOT NULL,
  latitude  DECIMAL(8, 6)  NOT NULL,
  longitude DECIMAL(8, 6)  NOT NULL,
  feature   HOTEL_FEATURE NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 13:10:01,308 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:10:01,308 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "country"
(
  id   SERIAL,
  name VARCHAR(255),
  PRIMARY KEY (id)
)
2019-02-22 13:10:01,314 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:10:01,314 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "tour"
(
  id          SERIAL,
  photo       VARCHAR(255),
  date        DATE           NOT NULL,
  duration    INT            NOT NULL,
  description TEXT           NOT NULL,
  cost        DECIMAL(19, 3) NOT NULL,
  tour_type   TOUR_TYPE      NOT NULL,
  hotel_id    INT            NOT NULL,
  country_id  INT            NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (hotel_id) REFERENCES "hotel" (id),
  FOREIGN KEY (country_id) REFERENCES "country" (id)
)
2019-02-22 13:10:01,327 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:10:01,327 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "usertour"
(
  user_id INT UNIQUE NOT NULL,
  tour_id INT UNIQUE NOT NULL,
  PRIMARY KEY (user_id, tour_id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 13:10:01,338 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:10:01,338 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "review"
(
  id      SERIAL,
  date    DATE NOT NULL,
  text    TEXT NOT NULL,
  user_id INT  NOT NULL,
  tour_id INT  NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 13:10:01,349 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:10:01,350 DEBUG [main] org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version 1 - init schema
2019-02-22 13:10:01,354 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
2019-02-22 13:10:01,360 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version 1.1 - init data
2019-02-22 13:10:01,362 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user1', 'user1')
2019-02-22 13:10:01,364 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:10:01,365 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user2', 'user2')
2019-02-22 13:10:01,365 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:10:01,365 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user3', 'user3')
2019-02-22 13:10:01,365 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:10:01,366 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user4', 'user4')
2019-02-22 13:10:01,366 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:10:01,366 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "country" (name)
VALUES ('testCountry')
2019-02-22 13:10:01,368 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:10:01,368 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test1', 4, 'test1', 1, 1, 'security')
2019-02-22 13:10:01,370 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:10:01,370 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test2', 4, 'test2', 1, 1, 'security')
2019-02-22 13:10:01,371 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:10:01,371 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test3', 4, 'test3', 1, 1, 'security')
2019-02-22 13:10:01,371 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:10:01,371 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test4', 4, 'test4', 1, 1, 'security')
2019-02-22 13:10:01,371 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:10:01,372 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test1.jpg', '12-12-2012', 12, 'description1', 505, 'guided', 1, 1)
2019-02-22 13:10:01,374 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:10:01,374 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test2.jpg', '12-12-2012', 12, 'description2', 505, 'guided', 2, 1)
2019-02-22 13:10:01,375 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:10:01,375 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test3.jpg', '12-12-2012', 12, 'description3', 505, 'guided', 3, 1)
2019-02-22 13:10:01,375 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:10:01,375 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test4.jpg', '12-12-2012', 12, 'description4', 505, 'guided', 4, 1)
2019-02-22 13:10:01,376 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:10:01,376 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-10-2012', 'Some words1', 1,1)
2019-02-22 13:10:01,378 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:10:01,378 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-11-2012', 'Some words2', 1,1)
2019-02-22 13:10:01,379 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:10:01,379 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-13-2012', 'Some words3', 1,1)
2019-02-22 13:10:01,379 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:10:01,379 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-14-2012', 'Some words4', 1,1)
2019-02-22 13:10:01,380 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:10:01,380 DEBUG [main] org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version 1.1 - init data
2019-02-22 13:10:01,382 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
2019-02-22 13:10:01,385 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Successfully applied 2 migrations to schema "public" (execution time 00:00.144s)
2019-02-22 13:10:01,386 DEBUG [main] org.flywaydb.core.Flyway - Memory usage: 12 of 256M
2019-02-22 13:10:49,596 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-22 13:11:05,767 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-22 13:11:05,773 INFO  [main] org.flywaydb.core.internal.license.VersionPrinter - Flyway Community Edition 5.2.4 by Boxfuse
2019-02-22 13:11:05,859 INFO  [main] org.flywaydb.core.internal.database.DatabaseFactory - Database: jdbc:postgresql://localhost:56324/template1 (PostgreSQL 10.6)
2019-02-22 13:11:05,859 DEBUG [main] org.flywaydb.core.internal.database.DatabaseFactory - Driver  : PostgreSQL JDBC Driver 42.2.5
2019-02-22 13:11:05,866 DEBUG [main] org.flywaydb.core.Flyway - DDL Transactions Supported: true
2019-02-22 13:11:05,871 DEBUG [main] org.flywaydb.core.Flyway - Schema: public
2019-02-22 13:11:05,876 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2019-02-22 13:11:05,876 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader jdk.internal.loader.ClassLoaders$AppClassLoader@6ed3ef1 ...
2019-02-22 13:11:05,877 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning URL: file:/C:/Users/Valiantsin_Danilau/IdeaProjects/Task1/target/classes/db/migration
2019-02-22 13:11:05,877 DEBUG [main] org.flywaydb.core.internal.util.FeatureDetector - JBoss VFS v2 available: false
2019-02-22 13:11:05,879 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: C:\Users\Valiantsin_Danilau\IdeaProjects\Task1\target\classes\
2019-02-22 13:11:05,879 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning for resources in path: C:\Users\Valiantsin_Danilau\IdeaProjects\Task1\target\classes\db\migration (db/migration)
2019-02-22 13:11:05,879 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: db/migration/V1_1__init_data.sql
2019-02-22 13:11:05,880 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: db/migration/V1__init_schema.sql
2019-02-22 13:11:05,880 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2019-02-22 13:11:05,883 DEBUG [main] org.flywaydb.core.internal.callback.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
2019-02-22 13:11:05,889 DEBUG [main] org.flywaydb.core.internal.util.FeatureDetector - Spring Jdbc available: true
2019-02-22 13:11:05,903 DEBUG [main] org.flywaydb.core.internal.command.DbValidate - Validating migrations ...
2019-02-22 13:11:05,908 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing V1_1__init_data.sql ...
2019-02-22 13:11:05,911 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 1: INSERT INTO "user" (login, password)
VALUES ('user1', 'user1')
2019-02-22 13:11:05,912 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 3: INSERT INTO "user" (login, password)
VALUES ('user2', 'user2')
2019-02-22 13:11:05,912 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 5: INSERT INTO "user" (login, password)
VALUES ('user3', 'user3')
2019-02-22 13:11:05,912 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 7: INSERT INTO "user" (login, password)
VALUES ('user4', 'user4')
2019-02-22 13:11:05,913 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 10: INSERT INTO "country" (name)
VALUES ('testCountry')
2019-02-22 13:11:05,913 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 13: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test1', 4, 'test1', 1, 1, 'security')
2019-02-22 13:11:05,913 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 15: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test2', 4, 'test2', 1, 1, 'security')
2019-02-22 13:11:05,914 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 17: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test3', 4, 'test3', 1, 1, 'security')
2019-02-22 13:11:05,914 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 19: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test4', 4, 'test4', 1, 1, 'security')
2019-02-22 13:11:05,915 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 22: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test1.jpg', '12-12-2012', 12, 'description1', 505, 'guided', 1, 1)
2019-02-22 13:11:05,915 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 24: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test2.jpg', '12-12-2012', 12, 'description2', 505, 'guided', 2, 1)
2019-02-22 13:11:05,915 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 26: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test3.jpg', '12-12-2012', 12, 'description3', 505, 'guided', 3, 1)
2019-02-22 13:11:05,916 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 28: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test4.jpg', '12-12-2012', 12, 'description4', 505, 'guided', 4, 1)
2019-02-22 13:11:05,916 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 31: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-10-2012', 'Some words1', 1,1)
2019-02-22 13:11:05,916 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 32: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-11-2012', 'Some words2', 1,1)
2019-02-22 13:11:05,917 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 33: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-13-2012', 'Some words3', 1,1)
2019-02-22 13:11:05,917 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 34: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-14-2012', 'Some words4', 1,1)
2019-02-22 13:11:05,919 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing V1__init_schema.sql ...
2019-02-22 13:11:05,920 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 1: CREATE TYPE TOUR_TYPE AS ENUM
  (
    'bus', 'sightseeing', 'shore_excursion',
    'adventure', 'sporting', 'cruise',
    'escorted', 'guided', 'rail', 'extreme'
    )
2019-02-22 13:11:05,921 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 8: CREATE TYPE HOTEL_FEATURE AS ENUM
  (
    'cleanliness', 'security', 'wi-fi', 'breakfast', 'parking', 'air_conditioning',
    'food_delivery', 'pool', 'conference_hall', 'safe'
    )
2019-02-22 13:11:05,921 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 16: CREATE TABLE IF NOT EXISTS "user"
(
  id       SERIAL,
  login    VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255)        NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 13:11:05,922 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 24: CREATE TABLE IF NOT EXISTS "hotel"
(
  id        SERIAL,
  name      VARCHAR(255)   NOT NULL,
  stars     SMALLINT       NOT NULL,
  website   VARCHAR(255)   NOT NULL,
  latitude  DECIMAL(8, 6)  NOT NULL,
  longitude DECIMAL(8, 6)  NOT NULL,
  feature   HOTEL_FEATURE NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 13:11:05,922 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 36: CREATE TABLE IF NOT EXISTS "country"
(
  id   SERIAL,
  name VARCHAR(255),
  PRIMARY KEY (id)
)
2019-02-22 13:11:05,924 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 43: CREATE TABLE IF NOT EXISTS "tour"
(
  id          SERIAL,
  photo       VARCHAR(255),
  date        DATE           NOT NULL,
  duration    INT            NOT NULL,
  description TEXT           NOT NULL,
  cost        DECIMAL(19, 3) NOT NULL,
  tour_type   TOUR_TYPE      NOT NULL,
  hotel_id    INT            NOT NULL,
  country_id  INT            NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (hotel_id) REFERENCES "hotel" (id),
  FOREIGN KEY (country_id) REFERENCES "country" (id)
)
2019-02-22 13:11:05,924 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 59: CREATE TABLE IF NOT EXISTS "usertour"
(
  user_id INT UNIQUE NOT NULL,
  tour_id INT UNIQUE NOT NULL,
  PRIMARY KEY (user_id, tour_id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 13:11:05,925 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 68: CREATE TABLE IF NOT EXISTS "review"
(
  id      SERIAL,
  date    DATE NOT NULL,
  text    TEXT NOT NULL,
  user_id INT  NOT NULL,
  tour_id INT  NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 13:11:05,926 DEBUG [main] org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1_1__init_data.sql (filename: V1_1__init_data.sql)
2019-02-22 13:11:05,926 DEBUG [main] org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__init_schema.sql (filename: V1__init_schema.sql)
2019-02-22 13:11:05,932 INFO  [main] org.flywaydb.core.internal.command.DbValidate - Successfully validated 2 migrations (execution time 00:00.028s)
2019-02-22 13:11:05,934 DEBUG [main] org.flywaydb.core.internal.command.DbSchemas - Schema "public" already exists. Skipping schema creation.
2019-02-22 13:11:05,944 INFO  [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Creating Schema History table: "public"."flyway_schema_history"
2019-02-22 13:11:05,946 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing createMetaDataTable.sql ...
2019-02-22 13:11:05,948 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 17: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2019-02-22 13:11:05,948 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 29: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2019-02-22 13:11:05,948 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 31: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2019-02-22 13:11:05,948 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2019-02-22 13:11:05,963 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:11:05,963 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2019-02-22 13:11:05,968 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:11:05,968 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2019-02-22 13:11:05,971 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:11:05,972 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Created Schema History table: "public"."flyway_schema_history"
2019-02-22 13:11:05,979 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Current version of schema "public": << Empty Schema >>
2019-02-22 13:11:05,980 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version 1 - init schema
2019-02-22 13:11:05,981 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TYPE TOUR_TYPE AS ENUM
  (
    'bus', 'sightseeing', 'shore_excursion',
    'adventure', 'sporting', 'cruise',
    'escorted', 'guided', 'rail', 'extreme'
    )
2019-02-22 13:11:05,985 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:11:05,985 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TYPE HOTEL_FEATURE AS ENUM
  (
    'cleanliness', 'security', 'wi-fi', 'breakfast', 'parking', 'air_conditioning',
    'food_delivery', 'pool', 'conference_hall', 'safe'
    )
2019-02-22 13:11:05,985 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:11:05,985 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "user"
(
  id       SERIAL,
  login    VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255)        NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 13:11:05,999 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:11:05,999 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "hotel"
(
  id        SERIAL,
  name      VARCHAR(255)   NOT NULL,
  stars     SMALLINT       NOT NULL,
  website   VARCHAR(255)   NOT NULL,
  latitude  DECIMAL(8, 6)  NOT NULL,
  longitude DECIMAL(8, 6)  NOT NULL,
  feature   HOTEL_FEATURE NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 13:11:06,009 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:11:06,009 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "country"
(
  id   SERIAL,
  name VARCHAR(255),
  PRIMARY KEY (id)
)
2019-02-22 13:11:06,015 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:11:06,015 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "tour"
(
  id          SERIAL,
  photo       VARCHAR(255),
  date        DATE           NOT NULL,
  duration    INT            NOT NULL,
  description TEXT           NOT NULL,
  cost        DECIMAL(19, 3) NOT NULL,
  tour_type   TOUR_TYPE      NOT NULL,
  hotel_id    INT            NOT NULL,
  country_id  INT            NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (hotel_id) REFERENCES "hotel" (id),
  FOREIGN KEY (country_id) REFERENCES "country" (id)
)
2019-02-22 13:11:06,027 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:11:06,028 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "usertour"
(
  user_id INT UNIQUE NOT NULL,
  tour_id INT UNIQUE NOT NULL,
  PRIMARY KEY (user_id, tour_id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 13:11:06,039 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:11:06,039 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "review"
(
  id      SERIAL,
  date    DATE NOT NULL,
  text    TEXT NOT NULL,
  user_id INT  NOT NULL,
  tour_id INT  NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 13:11:06,049 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:11:06,049 DEBUG [main] org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version 1 - init schema
2019-02-22 13:11:06,053 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
2019-02-22 13:11:06,059 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version 1.1 - init data
2019-02-22 13:11:06,061 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user1', 'user1')
2019-02-22 13:11:06,063 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:11:06,063 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user2', 'user2')
2019-02-22 13:11:06,064 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:11:06,064 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user3', 'user3')
2019-02-22 13:11:06,065 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:11:06,065 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user4', 'user4')
2019-02-22 13:11:06,065 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:11:06,065 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "country" (name)
VALUES ('testCountry')
2019-02-22 13:11:06,067 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:11:06,067 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test1', 4, 'test1', 1, 1, 'security')
2019-02-22 13:11:06,069 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:11:06,069 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test2', 4, 'test2', 1, 1, 'security')
2019-02-22 13:11:06,070 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:11:06,070 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test3', 4, 'test3', 1, 1, 'security')
2019-02-22 13:11:06,070 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:11:06,071 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test4', 4, 'test4', 1, 1, 'security')
2019-02-22 13:11:06,071 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:11:06,071 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test1.jpg', '12-12-2012', 12, 'description1', 505, 'guided', 1, 1)
2019-02-22 13:11:06,074 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:11:06,074 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test2.jpg', '12-12-2012', 12, 'description2', 505, 'guided', 2, 1)
2019-02-22 13:11:06,074 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:11:06,074 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test3.jpg', '12-12-2012', 12, 'description3', 505, 'guided', 3, 1)
2019-02-22 13:11:06,075 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:11:06,075 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test4.jpg', '12-12-2012', 12, 'description4', 505, 'guided', 4, 1)
2019-02-22 13:11:06,076 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:11:06,076 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-10-2012', 'Some words1', 1,1)
2019-02-22 13:11:06,077 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:11:06,078 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-11-2012', 'Some words2', 1,1)
2019-02-22 13:11:06,078 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:11:06,078 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-13-2012', 'Some words3', 1,1)
2019-02-22 13:11:06,078 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:11:06,079 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-14-2012', 'Some words4', 1,1)
2019-02-22 13:11:06,079 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:11:06,079 DEBUG [main] org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version 1.1 - init data
2019-02-22 13:11:06,081 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
2019-02-22 13:11:06,083 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Successfully applied 2 migrations to schema "public" (execution time 00:00.139s)
2019-02-22 13:11:06,085 DEBUG [main] org.flywaydb.core.Flyway - Memory usage: 13 of 256M
2019-02-22 13:12:05,948 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-22 13:12:23,523 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-22 13:12:23,529 INFO  [main] org.flywaydb.core.internal.license.VersionPrinter - Flyway Community Edition 5.2.4 by Boxfuse
2019-02-22 13:12:23,613 INFO  [main] org.flywaydb.core.internal.database.DatabaseFactory - Database: jdbc:postgresql://localhost:56350/template1 (PostgreSQL 10.6)
2019-02-22 13:12:23,613 DEBUG [main] org.flywaydb.core.internal.database.DatabaseFactory - Driver  : PostgreSQL JDBC Driver 42.2.5
2019-02-22 13:12:23,619 DEBUG [main] org.flywaydb.core.Flyway - DDL Transactions Supported: true
2019-02-22 13:12:23,625 DEBUG [main] org.flywaydb.core.Flyway - Schema: public
2019-02-22 13:12:23,629 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2019-02-22 13:12:23,629 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader jdk.internal.loader.ClassLoaders$AppClassLoader@6ed3ef1 ...
2019-02-22 13:12:23,629 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning URL: file:/C:/Users/Valiantsin_Danilau/IdeaProjects/Task1/target/classes/db/migration
2019-02-22 13:12:23,630 DEBUG [main] org.flywaydb.core.internal.util.FeatureDetector - JBoss VFS v2 available: false
2019-02-22 13:12:23,631 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: C:\Users\Valiantsin_Danilau\IdeaProjects\Task1\target\classes\
2019-02-22 13:12:23,631 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning for resources in path: C:\Users\Valiantsin_Danilau\IdeaProjects\Task1\target\classes\db\migration (db/migration)
2019-02-22 13:12:23,632 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: db/migration/V1_1__init_data.sql
2019-02-22 13:12:23,632 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: db/migration/V1__init_schema.sql
2019-02-22 13:12:23,632 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2019-02-22 13:12:23,635 DEBUG [main] org.flywaydb.core.internal.callback.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
2019-02-22 13:12:23,641 DEBUG [main] org.flywaydb.core.internal.util.FeatureDetector - Spring Jdbc available: true
2019-02-22 13:12:23,655 DEBUG [main] org.flywaydb.core.internal.command.DbValidate - Validating migrations ...
2019-02-22 13:12:23,660 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing V1_1__init_data.sql ...
2019-02-22 13:12:23,664 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 1: INSERT INTO "user" (login, password)
VALUES ('user1', 'user1')
2019-02-22 13:12:23,664 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 3: INSERT INTO "user" (login, password)
VALUES ('user2', 'user2')
2019-02-22 13:12:23,664 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 5: INSERT INTO "user" (login, password)
VALUES ('user3', 'user3')
2019-02-22 13:12:23,665 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 7: INSERT INTO "user" (login, password)
VALUES ('user4', 'user4')
2019-02-22 13:12:23,665 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 10: INSERT INTO "country" (name)
VALUES ('testCountry')
2019-02-22 13:12:23,665 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 13: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test1', 4, 'test1', 1, 1, 'security')
2019-02-22 13:12:23,666 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 15: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test2', 4, 'test2', 1, 1, 'security')
2019-02-22 13:12:23,666 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 17: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test3', 4, 'test3', 1, 1, 'security')
2019-02-22 13:12:23,667 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 19: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test4', 4, 'test4', 1, 1, 'security')
2019-02-22 13:12:23,667 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 22: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test1.jpg', '12-12-2012', 12, 'description1', 505, 'guided', 1, 1)
2019-02-22 13:12:23,668 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 24: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test2.jpg', '12-12-2012', 12, 'description2', 505, 'guided', 2, 1)
2019-02-22 13:12:23,668 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 26: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test3.jpg', '12-12-2012', 12, 'description3', 505, 'guided', 3, 1)
2019-02-22 13:12:23,669 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 28: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test4.jpg', '12-12-2012', 12, 'description4', 505, 'guided', 4, 1)
2019-02-22 13:12:23,669 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 31: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-10-2012', 'Some words1', 1,1)
2019-02-22 13:12:23,669 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 32: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-11-2012', 'Some words2', 1,1)
2019-02-22 13:12:23,669 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 33: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-13-2012', 'Some words3', 1,1)
2019-02-22 13:12:23,669 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 34: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-14-2012', 'Some words4', 1,1)
2019-02-22 13:12:23,670 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing V1__init_schema.sql ...
2019-02-22 13:12:23,672 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 1: CREATE TYPE TOUR_TYPE AS ENUM
  (
    'bus', 'sightseeing', 'shore_excursion',
    'adventure', 'sporting', 'cruise',
    'escorted', 'guided', 'rail', 'extreme'
    )
2019-02-22 13:12:23,672 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 8: CREATE TYPE HOTEL_FEATURE AS ENUM
  (
    'cleanliness', 'security', 'wi-fi', 'breakfast', 'parking', 'air_conditioning',
    'food_delivery', 'pool', 'conference_hall', 'safe'
    )
2019-02-22 13:12:23,673 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 16: CREATE TABLE IF NOT EXISTS "user"
(
  id       SERIAL,
  login    VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255)        NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 13:12:23,673 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 24: CREATE TABLE IF NOT EXISTS "hotel"
(
  id        SERIAL,
  name      VARCHAR(255)   NOT NULL,
  stars     SMALLINT       NOT NULL,
  website   VARCHAR(255)   NOT NULL,
  latitude  DECIMAL(8, 6)  NOT NULL,
  longitude DECIMAL(8, 6)  NOT NULL,
  feature   HOTEL_FEATURE NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 13:12:23,674 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 36: CREATE TABLE IF NOT EXISTS "country"
(
  id   SERIAL,
  name VARCHAR(255),
  PRIMARY KEY (id)
)
2019-02-22 13:12:23,675 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 43: CREATE TABLE IF NOT EXISTS "tour"
(
  id          SERIAL,
  photo       VARCHAR(255),
  date        DATE           NOT NULL,
  duration    INT            NOT NULL,
  description TEXT           NOT NULL,
  cost        DECIMAL(19, 3) NOT NULL,
  tour_type   TOUR_TYPE      NOT NULL,
  hotel_id    INT            NOT NULL,
  country_id  INT            NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (hotel_id) REFERENCES "hotel" (id),
  FOREIGN KEY (country_id) REFERENCES "country" (id)
)
2019-02-22 13:12:23,675 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 59: CREATE TABLE IF NOT EXISTS "usertour"
(
  user_id INT UNIQUE NOT NULL,
  tour_id INT UNIQUE NOT NULL,
  PRIMARY KEY (user_id, tour_id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 13:12:23,676 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 68: CREATE TABLE IF NOT EXISTS "review"
(
  id      SERIAL,
  date    DATE NOT NULL,
  text    TEXT NOT NULL,
  user_id INT  NOT NULL,
  tour_id INT  NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 13:12:23,677 DEBUG [main] org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1_1__init_data.sql (filename: V1_1__init_data.sql)
2019-02-22 13:12:23,678 DEBUG [main] org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__init_schema.sql (filename: V1__init_schema.sql)
2019-02-22 13:12:23,683 INFO  [main] org.flywaydb.core.internal.command.DbValidate - Successfully validated 2 migrations (execution time 00:00.028s)
2019-02-22 13:12:23,685 DEBUG [main] org.flywaydb.core.internal.command.DbSchemas - Schema "public" already exists. Skipping schema creation.
2019-02-22 13:12:23,696 INFO  [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Creating Schema History table: "public"."flyway_schema_history"
2019-02-22 13:12:23,698 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing createMetaDataTable.sql ...
2019-02-22 13:12:23,700 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 17: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2019-02-22 13:12:23,700 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 29: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2019-02-22 13:12:23,700 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 31: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2019-02-22 13:12:23,700 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2019-02-22 13:12:23,714 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:12:23,715 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2019-02-22 13:12:23,720 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:12:23,720 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2019-02-22 13:12:23,723 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:12:23,723 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Created Schema History table: "public"."flyway_schema_history"
2019-02-22 13:12:23,730 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Current version of schema "public": << Empty Schema >>
2019-02-22 13:12:23,731 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version 1 - init schema
2019-02-22 13:12:23,732 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TYPE TOUR_TYPE AS ENUM
  (
    'bus', 'sightseeing', 'shore_excursion',
    'adventure', 'sporting', 'cruise',
    'escorted', 'guided', 'rail', 'extreme'
    )
2019-02-22 13:12:23,736 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:12:23,736 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TYPE HOTEL_FEATURE AS ENUM
  (
    'cleanliness', 'security', 'wi-fi', 'breakfast', 'parking', 'air_conditioning',
    'food_delivery', 'pool', 'conference_hall', 'safe'
    )
2019-02-22 13:12:23,736 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:12:23,736 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "user"
(
  id       SERIAL,
  login    VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255)        NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 13:12:23,750 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:12:23,750 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "hotel"
(
  id        SERIAL,
  name      VARCHAR(255)   NOT NULL,
  stars     SMALLINT       NOT NULL,
  website   VARCHAR(255)   NOT NULL,
  latitude  DECIMAL(8, 6)  NOT NULL,
  longitude DECIMAL(8, 6)  NOT NULL,
  feature   HOTEL_FEATURE NOT NULL,
  PRIMARY KEY (id)
)
2019-02-22 13:12:23,759 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:12:23,760 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "country"
(
  id   SERIAL,
  name VARCHAR(255),
  PRIMARY KEY (id)
)
2019-02-22 13:12:23,765 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:12:23,766 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "tour"
(
  id          SERIAL,
  photo       VARCHAR(255),
  date        DATE           NOT NULL,
  duration    INT            NOT NULL,
  description TEXT           NOT NULL,
  cost        DECIMAL(19, 3) NOT NULL,
  tour_type   TOUR_TYPE      NOT NULL,
  hotel_id    INT            NOT NULL,
  country_id  INT            NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (hotel_id) REFERENCES "hotel" (id),
  FOREIGN KEY (country_id) REFERENCES "country" (id)
)
2019-02-22 13:12:23,777 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:12:23,778 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "usertour"
(
  user_id INT UNIQUE NOT NULL,
  tour_id INT UNIQUE NOT NULL,
  PRIMARY KEY (user_id, tour_id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 13:12:23,789 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:12:23,789 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "review"
(
  id      SERIAL,
  date    DATE NOT NULL,
  text    TEXT NOT NULL,
  user_id INT  NOT NULL,
  tour_id INT  NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-22 13:12:23,799 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-22 13:12:23,799 DEBUG [main] org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version 1 - init schema
2019-02-22 13:12:23,804 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
2019-02-22 13:12:23,809 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version 1.1 - init data
2019-02-22 13:12:23,811 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user1', 'user1')
2019-02-22 13:12:23,813 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:12:23,813 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user2', 'user2')
2019-02-22 13:12:23,813 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:12:23,813 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user3', 'user3')
2019-02-22 13:12:23,814 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:12:23,814 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user4', 'user4')
2019-02-22 13:12:23,814 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:12:23,814 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "country" (name)
VALUES ('testCountry')
2019-02-22 13:12:23,816 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:12:23,816 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test1', 4, 'test1', 1, 1, 'security')
2019-02-22 13:12:23,818 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:12:23,818 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test2', 4, 'test2', 1, 1, 'security')
2019-02-22 13:12:23,818 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:12:23,818 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test3', 4, 'test3', 1, 1, 'security')
2019-02-22 13:12:23,819 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:12:23,819 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test4', 4, 'test4', 1, 1, 'security')
2019-02-22 13:12:23,819 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:12:23,819 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test1.jpg', '12-12-2012', 12, 'description1', 505, 'guided', 1, 1)
2019-02-22 13:12:23,821 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:12:23,821 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test2.jpg', '12-12-2012', 12, 'description2', 505, 'guided', 2, 1)
2019-02-22 13:12:23,822 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:12:23,822 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test3.jpg', '12-12-2012', 12, 'description3', 505, 'guided', 3, 1)
2019-02-22 13:12:23,822 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:12:23,822 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test4.jpg', '12-12-2012', 12, 'description4', 505, 'guided', 4, 1)
2019-02-22 13:12:23,823 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:12:23,823 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-10-2012', 'Some words1', 1,1)
2019-02-22 13:12:23,825 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:12:23,825 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-11-2012', 'Some words2', 1,1)
2019-02-22 13:12:23,825 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:12:23,825 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-13-2012', 'Some words3', 1,1)
2019-02-22 13:12:23,826 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:12:23,826 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-14-2012', 'Some words4', 1,1)
2019-02-22 13:12:23,826 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-22 13:12:23,826 DEBUG [main] org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version 1.1 - init data
2019-02-22 13:12:23,828 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
2019-02-22 13:12:23,831 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Successfully applied 2 migrations to schema "public" (execution time 00:00.135s)
2019-02-22 13:12:23,832 DEBUG [main] org.flywaydb.core.Flyway - Memory usage: 13 of 256M
2019-02-26 22:02:17,654 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-26 22:02:29,248 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-26 22:02:29,258 INFO  [main] org.flywaydb.core.internal.license.VersionPrinter - Flyway Community Edition 5.2.4 by Boxfuse
2019-02-26 22:02:29,393 INFO  [main] org.flywaydb.core.internal.database.DatabaseFactory - Database: jdbc:postgresql://localhost:55708/template1 (PostgreSQL 10.6)
2019-02-26 22:02:29,393 DEBUG [main] org.flywaydb.core.internal.database.DatabaseFactory - Driver  : PostgreSQL JDBC Driver 42.2.5
2019-02-26 22:02:29,400 DEBUG [main] org.flywaydb.core.Flyway - DDL Transactions Supported: true
2019-02-26 22:02:29,407 DEBUG [main] org.flywaydb.core.Flyway - Schema: public
2019-02-26 22:02:29,412 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2019-02-26 22:02:29,412 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader jdk.internal.loader.ClassLoaders$AppClassLoader@14514713 ...
2019-02-26 22:02:29,413 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning URL: file:/C:/Users/valik/IdeaProjects/java-lab-task-1/target/classes/db/migration
2019-02-26 22:02:29,413 DEBUG [main] org.flywaydb.core.internal.util.FeatureDetector - JBoss VFS v2 available: false
2019-02-26 22:02:29,416 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: C:\Users\valik\IdeaProjects\java-lab-task-1\target\classes\
2019-02-26 22:02:29,416 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning for resources in path: C:\Users\valik\IdeaProjects\java-lab-task-1\target\classes\db\migration (db/migration)
2019-02-26 22:02:29,416 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: db/migration/V1_1__init_data.sql
2019-02-26 22:02:29,417 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: db/migration/V1__init_schema.sql
2019-02-26 22:02:29,417 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2019-02-26 22:02:29,422 DEBUG [main] org.flywaydb.core.internal.callback.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
2019-02-26 22:02:29,429 DEBUG [main] org.flywaydb.core.internal.util.FeatureDetector - Spring Jdbc available: true
2019-02-26 22:02:29,445 DEBUG [main] org.flywaydb.core.internal.command.DbValidate - Validating migrations ...
2019-02-26 22:02:29,451 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing V1_1__init_data.sql ...
2019-02-26 22:02:29,461 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 1: INSERT INTO "user" (login, password)
VALUES ('user1', 'user1')
2019-02-26 22:02:29,461 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 3: INSERT INTO "user" (login, password)
VALUES ('user2', 'user2')
2019-02-26 22:02:29,462 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 5: INSERT INTO "user" (login, password)
VALUES ('user3', 'user3')
2019-02-26 22:02:29,462 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 7: INSERT INTO "user" (login, password)
VALUES ('user4', 'user4')
2019-02-26 22:02:29,462 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 10: INSERT INTO "country" (name)
VALUES ('testCountry')
2019-02-26 22:02:29,463 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 13: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test1', 4, 'test1', 1, 1, 'security')
2019-02-26 22:02:29,463 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 15: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test2', 4, 'test2', 1, 1, 'security')
2019-02-26 22:02:29,464 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 17: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test3', 4, 'test3', 1, 1, 'security')
2019-02-26 22:02:29,464 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 19: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test4', 4, 'test4', 1, 1, 'security')
2019-02-26 22:02:29,464 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 22: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test1.jpg', '12-12-2012', 12, 'description1', 505, 'guided', 1, 1)
2019-02-26 22:02:29,465 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 24: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test2.jpg', '12-12-2012', 12, 'description2', 505, 'guided', 2, 1)
2019-02-26 22:02:29,465 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 26: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test3.jpg', '12-12-2012', 12, 'description3', 505, 'guided', 3, 1)
2019-02-26 22:02:29,466 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 28: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test4.jpg', '12-12-2012', 12, 'description4', 505, 'guided', 4, 1)
2019-02-26 22:02:29,466 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 31: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-10-2012', 'Some words1', 1,1)
2019-02-26 22:02:29,467 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 32: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-11-2012', 'Some words2', 1,1)
2019-02-26 22:02:29,467 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 33: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-13-2012', 'Some words3', 1,1)
2019-02-26 22:02:29,468 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 34: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-14-2012', 'Some words4', 1,1)
2019-02-26 22:02:29,470 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing V1__init_schema.sql ...
2019-02-26 22:02:29,481 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 1: CREATE TYPE TOUR_TYPE AS ENUM
  (
    'bus', 'sightseeing', 'shore_excursion',
    'adventure', 'sporting', 'cruise',
    'escorted', 'guided', 'rail', 'extreme'
    )
2019-02-26 22:02:29,481 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 8: CREATE TYPE HOTEL_FEATURE AS ENUM
  (
    'cleanliness', 'security', 'wi-fi', 'breakfast', 'parking', 'air_conditioning',
    'food_delivery', 'pool', 'conference_hall', 'safe'
    )
2019-02-26 22:02:29,482 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 16: CREATE TABLE IF NOT EXISTS "user"
(
  id       SERIAL,
  login    VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255)        NOT NULL,
  PRIMARY KEY (id)
)
2019-02-26 22:02:29,484 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 24: CREATE TABLE IF NOT EXISTS "hotel"
(
  id        SERIAL,
  name      VARCHAR(255)   NOT NULL,
  stars     SMALLINT       NOT NULL,
  website   VARCHAR(255)   NOT NULL,
  latitude  DECIMAL(8, 6)  NOT NULL,
  longitude DECIMAL(8, 6)  NOT NULL,
  feature   HOTEL_FEATURE NOT NULL,
  PRIMARY KEY (id)
)
2019-02-26 22:02:29,485 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 36: CREATE TABLE IF NOT EXISTS "country"
(
  id   SERIAL,
  name VARCHAR(255),
  PRIMARY KEY (id)
)
2019-02-26 22:02:29,485 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 43: CREATE TABLE IF NOT EXISTS "tour"
(
  id          SERIAL,
  photo       VARCHAR(255),
  date        DATE           NOT NULL,
  duration    INT            NOT NULL,
  description TEXT           NOT NULL,
  cost        DECIMAL(19, 3) NOT NULL,
  tour_type   TOUR_TYPE      NOT NULL,
  hotel_id    INT            NOT NULL,
  country_id  INT            NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (hotel_id) REFERENCES "hotel" (id),
  FOREIGN KEY (country_id) REFERENCES "country" (id)
)
2019-02-26 22:02:29,486 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 59: CREATE TABLE IF NOT EXISTS "usertour"
(
  user_id INT UNIQUE NOT NULL,
  tour_id INT UNIQUE NOT NULL,
  PRIMARY KEY (user_id, tour_id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-26 22:02:29,487 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 68: CREATE TABLE IF NOT EXISTS "review"
(
  id      SERIAL,
  date    DATE NOT NULL,
  text    TEXT NOT NULL,
  user_id INT  NOT NULL,
  tour_id INT  NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-26 22:02:29,489 DEBUG [main] org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1_1__init_data.sql (filename: V1_1__init_data.sql)
2019-02-26 22:02:29,489 DEBUG [main] org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__init_schema.sql (filename: V1__init_schema.sql)
2019-02-26 22:02:29,497 INFO  [main] org.flywaydb.core.internal.command.DbValidate - Successfully validated 2 migrations (execution time 00:00.050s)
2019-02-26 22:02:29,499 DEBUG [main] org.flywaydb.core.internal.command.DbSchemas - Schema "public" already exists. Skipping schema creation.
2019-02-26 22:02:29,510 INFO  [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Creating Schema History table: "public"."flyway_schema_history"
2019-02-26 22:02:29,513 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing createMetaDataTable.sql ...
2019-02-26 22:02:29,515 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 17: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2019-02-26 22:02:29,515 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 29: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2019-02-26 22:02:29,515 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 31: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2019-02-26 22:02:29,515 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2019-02-26 22:02:29,554 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:02:29,554 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2019-02-26 22:02:29,564 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:02:29,564 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2019-02-26 22:02:29,574 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:02:29,574 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Created Schema History table: "public"."flyway_schema_history"
2019-02-26 22:02:29,585 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Current version of schema "public": << Empty Schema >>
2019-02-26 22:02:29,586 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version 1 - init schema
2019-02-26 22:02:29,588 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TYPE TOUR_TYPE AS ENUM
  (
    'bus', 'sightseeing', 'shore_excursion',
    'adventure', 'sporting', 'cruise',
    'escorted', 'guided', 'rail', 'extreme'
    )
2019-02-26 22:02:29,590 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:02:29,590 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TYPE HOTEL_FEATURE AS ENUM
  (
    'cleanliness', 'security', 'wi-fi', 'breakfast', 'parking', 'air_conditioning',
    'food_delivery', 'pool', 'conference_hall', 'safe'
    )
2019-02-26 22:02:29,591 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:02:29,591 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "user"
(
  id       SERIAL,
  login    VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255)        NOT NULL,
  PRIMARY KEY (id)
)
2019-02-26 22:02:29,622 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:02:29,622 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "hotel"
(
  id        SERIAL,
  name      VARCHAR(255)   NOT NULL,
  stars     SMALLINT       NOT NULL,
  website   VARCHAR(255)   NOT NULL,
  latitude  DECIMAL(8, 6)  NOT NULL,
  longitude DECIMAL(8, 6)  NOT NULL,
  feature   HOTEL_FEATURE NOT NULL,
  PRIMARY KEY (id)
)
2019-02-26 22:02:29,655 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:02:29,655 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "country"
(
  id   SERIAL,
  name VARCHAR(255),
  PRIMARY KEY (id)
)
2019-02-26 22:02:29,678 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:02:29,678 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "tour"
(
  id          SERIAL,
  photo       VARCHAR(255),
  date        DATE           NOT NULL,
  duration    INT            NOT NULL,
  description TEXT           NOT NULL,
  cost        DECIMAL(19, 3) NOT NULL,
  tour_type   TOUR_TYPE      NOT NULL,
  hotel_id    INT            NOT NULL,
  country_id  INT            NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (hotel_id) REFERENCES "hotel" (id),
  FOREIGN KEY (country_id) REFERENCES "country" (id)
)
2019-02-26 22:02:29,720 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:02:29,720 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "usertour"
(
  user_id INT UNIQUE NOT NULL,
  tour_id INT UNIQUE NOT NULL,
  PRIMARY KEY (user_id, tour_id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-26 22:02:29,798 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:02:29,799 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "review"
(
  id      SERIAL,
  date    DATE NOT NULL,
  text    TEXT NOT NULL,
  user_id INT  NOT NULL,
  tour_id INT  NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-26 22:02:29,827 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:02:29,827 DEBUG [main] org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version 1 - init schema
2019-02-26 22:02:29,831 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
2019-02-26 22:02:29,849 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version 1.1 - init data
2019-02-26 22:02:29,851 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user1', 'user1')
2019-02-26 22:02:29,852 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:29,852 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user2', 'user2')
2019-02-26 22:02:29,853 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:29,853 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user3', 'user3')
2019-02-26 22:02:29,853 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:29,853 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user4', 'user4')
2019-02-26 22:02:29,854 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:29,854 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "country" (name)
VALUES ('testCountry')
2019-02-26 22:02:29,854 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:29,855 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test1', 4, 'test1', 1, 1, 'security')
2019-02-26 22:02:29,856 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:29,856 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test2', 4, 'test2', 1, 1, 'security')
2019-02-26 22:02:29,856 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:29,857 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test3', 4, 'test3', 1, 1, 'security')
2019-02-26 22:02:29,857 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:29,857 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test4', 4, 'test4', 1, 1, 'security')
2019-02-26 22:02:29,857 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:29,857 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test1.jpg', '12-12-2012', 12, 'description1', 505, 'guided', 1, 1)
2019-02-26 22:02:29,859 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:29,860 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test2.jpg', '12-12-2012', 12, 'description2', 505, 'guided', 2, 1)
2019-02-26 22:02:29,860 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:29,860 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test3.jpg', '12-12-2012', 12, 'description3', 505, 'guided', 3, 1)
2019-02-26 22:02:29,861 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:29,861 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test4.jpg', '12-12-2012', 12, 'description4', 505, 'guided', 4, 1)
2019-02-26 22:02:29,861 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:29,861 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-10-2012', 'Some words1', 1,1)
2019-02-26 22:02:29,863 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:29,863 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-11-2012', 'Some words2', 1,1)
2019-02-26 22:02:29,863 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:29,864 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-13-2012', 'Some words3', 1,1)
2019-02-26 22:02:29,879 DEBUG [main] org.flywaydb.core.internal.jdbc.TransactionTemplate - Rolling back transaction...
2019-02-26 22:02:29,880 DEBUG [main] org.flywaydb.core.internal.jdbc.TransactionTemplate - Transaction rolled back
2019-02-26 22:02:29,880 ERROR [main] org.flywaydb.core.internal.command.DbMigrate - Migration of schema "public" to version 1.1 - init data failed! Changes successfully rolled back.
2019-02-26 22:02:29,882 DEBUG [main] org.flywaydb.core.Flyway - Memory usage: 13 of 126M
2019-02-26 22:02:29,892 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-26 22:02:38,539 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-26 22:02:38,615 INFO  [main] org.flywaydb.core.internal.database.DatabaseFactory - Database: jdbc:postgresql://localhost:55732/template1 (PostgreSQL 10.6)
2019-02-26 22:02:38,615 DEBUG [main] org.flywaydb.core.internal.database.DatabaseFactory - Driver  : PostgreSQL JDBC Driver 42.2.5
2019-02-26 22:02:38,616 DEBUG [main] org.flywaydb.core.Flyway - DDL Transactions Supported: true
2019-02-26 22:02:38,618 DEBUG [main] org.flywaydb.core.Flyway - Schema: public
2019-02-26 22:02:38,618 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2019-02-26 22:02:38,618 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader jdk.internal.loader.ClassLoaders$AppClassLoader@14514713 ...
2019-02-26 22:02:38,618 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning URL: file:/C:/Users/valik/IdeaProjects/java-lab-task-1/target/classes/db/migration
2019-02-26 22:02:38,618 DEBUG [main] org.flywaydb.core.internal.util.FeatureDetector - JBoss VFS v2 available: false
2019-02-26 22:02:38,619 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: C:\Users\valik\IdeaProjects\java-lab-task-1\target\classes\
2019-02-26 22:02:38,619 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning for resources in path: C:\Users\valik\IdeaProjects\java-lab-task-1\target\classes\db\migration (db/migration)
2019-02-26 22:02:38,619 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: db/migration/V1_1__init_data.sql
2019-02-26 22:02:38,619 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: db/migration/V1__init_schema.sql
2019-02-26 22:02:38,619 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2019-02-26 22:02:38,619 DEBUG [main] org.flywaydb.core.internal.callback.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
2019-02-26 22:02:38,619 DEBUG [main] org.flywaydb.core.internal.util.FeatureDetector - Spring Jdbc available: true
2019-02-26 22:02:38,624 DEBUG [main] org.flywaydb.core.internal.command.DbValidate - Validating migrations ...
2019-02-26 22:02:38,624 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing V1_1__init_data.sql ...
2019-02-26 22:02:38,625 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 1: INSERT INTO "user" (login, password)
VALUES ('user1', 'user1')
2019-02-26 22:02:38,625 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 3: INSERT INTO "user" (login, password)
VALUES ('user2', 'user2')
2019-02-26 22:02:38,625 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 5: INSERT INTO "user" (login, password)
VALUES ('user3', 'user3')
2019-02-26 22:02:38,625 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 7: INSERT INTO "user" (login, password)
VALUES ('user4', 'user4')
2019-02-26 22:02:38,626 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 10: INSERT INTO "country" (name)
VALUES ('testCountry')
2019-02-26 22:02:38,626 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 13: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test1', 4, 'test1', 1, 1, 'security')
2019-02-26 22:02:38,626 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 15: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test2', 4, 'test2', 1, 1, 'security')
2019-02-26 22:02:38,626 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 17: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test3', 4, 'test3', 1, 1, 'security')
2019-02-26 22:02:38,626 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 19: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test4', 4, 'test4', 1, 1, 'security')
2019-02-26 22:02:38,626 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 22: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test1.jpg', '12-12-2012', 12, 'description1', 505, 'guided', 1, 1)
2019-02-26 22:02:38,627 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 24: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test2.jpg', '12-12-2012', 12, 'description2', 505, 'guided', 2, 1)
2019-02-26 22:02:38,627 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 26: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test3.jpg', '12-12-2012', 12, 'description3', 505, 'guided', 3, 1)
2019-02-26 22:02:38,627 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 28: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test4.jpg', '12-12-2012', 12, 'description4', 505, 'guided', 4, 1)
2019-02-26 22:02:38,627 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 31: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-10-2012', 'Some words1', 1,1)
2019-02-26 22:02:38,627 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 32: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-11-2012', 'Some words2', 1,1)
2019-02-26 22:02:38,627 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 33: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-13-2012', 'Some words3', 1,1)
2019-02-26 22:02:38,628 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 34: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-14-2012', 'Some words4', 1,1)
2019-02-26 22:02:38,628 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing V1__init_schema.sql ...
2019-02-26 22:02:38,629 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 1: CREATE TYPE TOUR_TYPE AS ENUM
  (
    'bus', 'sightseeing', 'shore_excursion',
    'adventure', 'sporting', 'cruise',
    'escorted', 'guided', 'rail', 'extreme'
    )
2019-02-26 22:02:38,629 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 8: CREATE TYPE HOTEL_FEATURE AS ENUM
  (
    'cleanliness', 'security', 'wi-fi', 'breakfast', 'parking', 'air_conditioning',
    'food_delivery', 'pool', 'conference_hall', 'safe'
    )
2019-02-26 22:02:38,630 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 16: CREATE TABLE IF NOT EXISTS "user"
(
  id       SERIAL,
  login    VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255)        NOT NULL,
  PRIMARY KEY (id)
)
2019-02-26 22:02:38,630 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 24: CREATE TABLE IF NOT EXISTS "hotel"
(
  id        SERIAL,
  name      VARCHAR(255)   NOT NULL,
  stars     SMALLINT       NOT NULL,
  website   VARCHAR(255)   NOT NULL,
  latitude  DECIMAL(8, 6)  NOT NULL,
  longitude DECIMAL(8, 6)  NOT NULL,
  feature   HOTEL_FEATURE NOT NULL,
  PRIMARY KEY (id)
)
2019-02-26 22:02:38,631 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 36: CREATE TABLE IF NOT EXISTS "country"
(
  id   SERIAL,
  name VARCHAR(255),
  PRIMARY KEY (id)
)
2019-02-26 22:02:38,631 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 43: CREATE TABLE IF NOT EXISTS "tour"
(
  id          SERIAL,
  photo       VARCHAR(255),
  date        DATE           NOT NULL,
  duration    INT            NOT NULL,
  description TEXT           NOT NULL,
  cost        DECIMAL(19, 3) NOT NULL,
  tour_type   TOUR_TYPE      NOT NULL,
  hotel_id    INT            NOT NULL,
  country_id  INT            NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (hotel_id) REFERENCES "hotel" (id),
  FOREIGN KEY (country_id) REFERENCES "country" (id)
)
2019-02-26 22:02:38,632 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 59: CREATE TABLE IF NOT EXISTS "usertour"
(
  user_id INT UNIQUE NOT NULL,
  tour_id INT UNIQUE NOT NULL,
  PRIMARY KEY (user_id, tour_id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-26 22:02:38,632 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 68: CREATE TABLE IF NOT EXISTS "review"
(
  id      SERIAL,
  date    DATE NOT NULL,
  text    TEXT NOT NULL,
  user_id INT  NOT NULL,
  tour_id INT  NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-26 22:02:38,633 DEBUG [main] org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1_1__init_data.sql (filename: V1_1__init_data.sql)
2019-02-26 22:02:38,633 DEBUG [main] org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__init_schema.sql (filename: V1__init_schema.sql)
2019-02-26 22:02:38,635 INFO  [main] org.flywaydb.core.internal.command.DbValidate - Successfully validated 2 migrations (execution time 00:00.010s)
2019-02-26 22:02:38,635 DEBUG [main] org.flywaydb.core.internal.command.DbSchemas - Schema "public" already exists. Skipping schema creation.
2019-02-26 22:02:38,642 INFO  [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Creating Schema History table: "public"."flyway_schema_history"
2019-02-26 22:02:38,642 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing createMetaDataTable.sql ...
2019-02-26 22:02:38,644 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 17: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2019-02-26 22:02:38,644 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 29: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2019-02-26 22:02:38,644 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 31: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2019-02-26 22:02:38,644 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2019-02-26 22:02:38,660 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:02:38,661 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2019-02-26 22:02:38,667 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:02:38,668 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2019-02-26 22:02:38,673 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:02:38,674 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Created Schema History table: "public"."flyway_schema_history"
2019-02-26 22:02:38,677 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Current version of schema "public": << Empty Schema >>
2019-02-26 22:02:38,677 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version 1 - init schema
2019-02-26 22:02:38,679 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TYPE TOUR_TYPE AS ENUM
  (
    'bus', 'sightseeing', 'shore_excursion',
    'adventure', 'sporting', 'cruise',
    'escorted', 'guided', 'rail', 'extreme'
    )
2019-02-26 22:02:38,680 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:02:38,680 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TYPE HOTEL_FEATURE AS ENUM
  (
    'cleanliness', 'security', 'wi-fi', 'breakfast', 'parking', 'air_conditioning',
    'food_delivery', 'pool', 'conference_hall', 'safe'
    )
2019-02-26 22:02:38,681 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:02:38,681 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "user"
(
  id       SERIAL,
  login    VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255)        NOT NULL,
  PRIMARY KEY (id)
)
2019-02-26 22:02:38,700 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:02:38,700 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "hotel"
(
  id        SERIAL,
  name      VARCHAR(255)   NOT NULL,
  stars     SMALLINT       NOT NULL,
  website   VARCHAR(255)   NOT NULL,
  latitude  DECIMAL(8, 6)  NOT NULL,
  longitude DECIMAL(8, 6)  NOT NULL,
  feature   HOTEL_FEATURE NOT NULL,
  PRIMARY KEY (id)
)
2019-02-26 22:02:38,712 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:02:38,713 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "country"
(
  id   SERIAL,
  name VARCHAR(255),
  PRIMARY KEY (id)
)
2019-02-26 22:02:38,720 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:02:38,720 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "tour"
(
  id          SERIAL,
  photo       VARCHAR(255),
  date        DATE           NOT NULL,
  duration    INT            NOT NULL,
  description TEXT           NOT NULL,
  cost        DECIMAL(19, 3) NOT NULL,
  tour_type   TOUR_TYPE      NOT NULL,
  hotel_id    INT            NOT NULL,
  country_id  INT            NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (hotel_id) REFERENCES "hotel" (id),
  FOREIGN KEY (country_id) REFERENCES "country" (id)
)
2019-02-26 22:02:38,737 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:02:38,737 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "usertour"
(
  user_id INT UNIQUE NOT NULL,
  tour_id INT UNIQUE NOT NULL,
  PRIMARY KEY (user_id, tour_id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-26 22:02:38,757 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:02:38,757 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "review"
(
  id      SERIAL,
  date    DATE NOT NULL,
  text    TEXT NOT NULL,
  user_id INT  NOT NULL,
  tour_id INT  NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-26 22:02:38,782 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:02:38,782 DEBUG [main] org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version 1 - init schema
2019-02-26 22:02:38,785 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
2019-02-26 22:02:38,792 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version 1.1 - init data
2019-02-26 22:02:38,793 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user1', 'user1')
2019-02-26 22:02:38,795 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:38,795 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user2', 'user2')
2019-02-26 22:02:38,795 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:38,795 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user3', 'user3')
2019-02-26 22:02:38,796 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:38,796 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user4', 'user4')
2019-02-26 22:02:38,796 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:38,796 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "country" (name)
VALUES ('testCountry')
2019-02-26 22:02:38,797 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:38,797 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test1', 4, 'test1', 1, 1, 'security')
2019-02-26 22:02:38,798 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:38,798 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test2', 4, 'test2', 1, 1, 'security')
2019-02-26 22:02:38,799 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:38,799 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test3', 4, 'test3', 1, 1, 'security')
2019-02-26 22:02:38,799 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:38,799 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test4', 4, 'test4', 1, 1, 'security')
2019-02-26 22:02:38,799 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:38,799 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test1.jpg', '12-12-2012', 12, 'description1', 505, 'guided', 1, 1)
2019-02-26 22:02:38,801 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:38,801 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test2.jpg', '12-12-2012', 12, 'description2', 505, 'guided', 2, 1)
2019-02-26 22:02:38,801 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:38,802 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test3.jpg', '12-12-2012', 12, 'description3', 505, 'guided', 3, 1)
2019-02-26 22:02:38,802 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:38,802 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test4.jpg', '12-12-2012', 12, 'description4', 505, 'guided', 4, 1)
2019-02-26 22:02:38,803 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:38,803 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-10-2012', 'Some words1', 1,1)
2019-02-26 22:02:38,804 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:38,804 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-11-2012', 'Some words2', 1,1)
2019-02-26 22:02:38,805 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:38,805 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-13-2012', 'Some words3', 1,1)
2019-02-26 22:02:38,807 DEBUG [main] org.flywaydb.core.internal.jdbc.TransactionTemplate - Rolling back transaction...
2019-02-26 22:02:38,807 DEBUG [main] org.flywaydb.core.internal.jdbc.TransactionTemplate - Transaction rolled back
2019-02-26 22:02:38,807 ERROR [main] org.flywaydb.core.internal.command.DbMigrate - Migration of schema "public" to version 1.1 - init data failed! Changes successfully rolled back.
2019-02-26 22:02:38,808 DEBUG [main] org.flywaydb.core.Flyway - Memory usage: 17 of 126M
2019-02-26 22:02:38,812 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-26 22:02:47,416 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-26 22:02:47,488 INFO  [main] org.flywaydb.core.internal.database.DatabaseFactory - Database: jdbc:postgresql://localhost:55741/template1 (PostgreSQL 10.6)
2019-02-26 22:02:47,488 DEBUG [main] org.flywaydb.core.internal.database.DatabaseFactory - Driver  : PostgreSQL JDBC Driver 42.2.5
2019-02-26 22:02:47,489 DEBUG [main] org.flywaydb.core.Flyway - DDL Transactions Supported: true
2019-02-26 22:02:47,490 DEBUG [main] org.flywaydb.core.Flyway - Schema: public
2019-02-26 22:02:47,490 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2019-02-26 22:02:47,490 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader jdk.internal.loader.ClassLoaders$AppClassLoader@14514713 ...
2019-02-26 22:02:47,491 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning URL: file:/C:/Users/valik/IdeaProjects/java-lab-task-1/target/classes/db/migration
2019-02-26 22:02:47,491 DEBUG [main] org.flywaydb.core.internal.util.FeatureDetector - JBoss VFS v2 available: false
2019-02-26 22:02:47,491 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: C:\Users\valik\IdeaProjects\java-lab-task-1\target\classes\
2019-02-26 22:02:47,491 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning for resources in path: C:\Users\valik\IdeaProjects\java-lab-task-1\target\classes\db\migration (db/migration)
2019-02-26 22:02:47,491 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: db/migration/V1_1__init_data.sql
2019-02-26 22:02:47,491 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: db/migration/V1__init_schema.sql
2019-02-26 22:02:47,492 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2019-02-26 22:02:47,492 DEBUG [main] org.flywaydb.core.internal.callback.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
2019-02-26 22:02:47,492 DEBUG [main] org.flywaydb.core.internal.util.FeatureDetector - Spring Jdbc available: true
2019-02-26 22:02:47,498 DEBUG [main] org.flywaydb.core.internal.command.DbValidate - Validating migrations ...
2019-02-26 22:02:47,498 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing V1_1__init_data.sql ...
2019-02-26 22:02:47,499 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 1: INSERT INTO "user" (login, password)
VALUES ('user1', 'user1')
2019-02-26 22:02:47,499 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 3: INSERT INTO "user" (login, password)
VALUES ('user2', 'user2')
2019-02-26 22:02:47,499 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 5: INSERT INTO "user" (login, password)
VALUES ('user3', 'user3')
2019-02-26 22:02:47,499 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 7: INSERT INTO "user" (login, password)
VALUES ('user4', 'user4')
2019-02-26 22:02:47,499 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 10: INSERT INTO "country" (name)
VALUES ('testCountry')
2019-02-26 22:02:47,499 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 13: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test1', 4, 'test1', 1, 1, 'security')
2019-02-26 22:02:47,499 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 15: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test2', 4, 'test2', 1, 1, 'security')
2019-02-26 22:02:47,500 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 17: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test3', 4, 'test3', 1, 1, 'security')
2019-02-26 22:02:47,500 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 19: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test4', 4, 'test4', 1, 1, 'security')
2019-02-26 22:02:47,500 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 22: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test1.jpg', '12-12-2012', 12, 'description1', 505, 'guided', 1, 1)
2019-02-26 22:02:47,500 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 24: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test2.jpg', '12-12-2012', 12, 'description2', 505, 'guided', 2, 1)
2019-02-26 22:02:47,500 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 26: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test3.jpg', '12-12-2012', 12, 'description3', 505, 'guided', 3, 1)
2019-02-26 22:02:47,500 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 28: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test4.jpg', '12-12-2012', 12, 'description4', 505, 'guided', 4, 1)
2019-02-26 22:02:47,500 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 31: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-10-2012', 'Some words1', 1,1)
2019-02-26 22:02:47,500 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 32: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-11-2012', 'Some words2', 1,1)
2019-02-26 22:02:47,501 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 33: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-13-2012', 'Some words3', 1,1)
2019-02-26 22:02:47,501 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 34: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-14-2012', 'Some words4', 1,1)
2019-02-26 22:02:47,501 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing V1__init_schema.sql ...
2019-02-26 22:02:47,502 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 1: CREATE TYPE TOUR_TYPE AS ENUM
  (
    'bus', 'sightseeing', 'shore_excursion',
    'adventure', 'sporting', 'cruise',
    'escorted', 'guided', 'rail', 'extreme'
    )
2019-02-26 22:02:47,502 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 8: CREATE TYPE HOTEL_FEATURE AS ENUM
  (
    'cleanliness', 'security', 'wi-fi', 'breakfast', 'parking', 'air_conditioning',
    'food_delivery', 'pool', 'conference_hall', 'safe'
    )
2019-02-26 22:02:47,502 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 16: CREATE TABLE IF NOT EXISTS "user"
(
  id       SERIAL,
  login    VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255)        NOT NULL,
  PRIMARY KEY (id)
)
2019-02-26 22:02:47,502 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 24: CREATE TABLE IF NOT EXISTS "hotel"
(
  id        SERIAL,
  name      VARCHAR(255)   NOT NULL,
  stars     SMALLINT       NOT NULL,
  website   VARCHAR(255)   NOT NULL,
  latitude  DECIMAL(8, 6)  NOT NULL,
  longitude DECIMAL(8, 6)  NOT NULL,
  feature   HOTEL_FEATURE NOT NULL,
  PRIMARY KEY (id)
)
2019-02-26 22:02:47,503 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 36: CREATE TABLE IF NOT EXISTS "country"
(
  id   SERIAL,
  name VARCHAR(255),
  PRIMARY KEY (id)
)
2019-02-26 22:02:47,503 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 43: CREATE TABLE IF NOT EXISTS "tour"
(
  id          SERIAL,
  photo       VARCHAR(255),
  date        DATE           NOT NULL,
  duration    INT            NOT NULL,
  description TEXT           NOT NULL,
  cost        DECIMAL(19, 3) NOT NULL,
  tour_type   TOUR_TYPE      NOT NULL,
  hotel_id    INT            NOT NULL,
  country_id  INT            NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (hotel_id) REFERENCES "hotel" (id),
  FOREIGN KEY (country_id) REFERENCES "country" (id)
)
2019-02-26 22:02:47,503 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 59: CREATE TABLE IF NOT EXISTS "usertour"
(
  user_id INT UNIQUE NOT NULL,
  tour_id INT UNIQUE NOT NULL,
  PRIMARY KEY (user_id, tour_id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-26 22:02:47,504 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 68: CREATE TABLE IF NOT EXISTS "review"
(
  id      SERIAL,
  date    DATE NOT NULL,
  text    TEXT NOT NULL,
  user_id INT  NOT NULL,
  tour_id INT  NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-26 22:02:47,504 DEBUG [main] org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1_1__init_data.sql (filename: V1_1__init_data.sql)
2019-02-26 22:02:47,504 DEBUG [main] org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__init_schema.sql (filename: V1__init_schema.sql)
2019-02-26 22:02:47,506 INFO  [main] org.flywaydb.core.internal.command.DbValidate - Successfully validated 2 migrations (execution time 00:00.007s)
2019-02-26 22:02:47,506 DEBUG [main] org.flywaydb.core.internal.command.DbSchemas - Schema "public" already exists. Skipping schema creation.
2019-02-26 22:02:47,513 INFO  [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Creating Schema History table: "public"."flyway_schema_history"
2019-02-26 22:02:47,513 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing createMetaDataTable.sql ...
2019-02-26 22:02:47,514 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 17: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2019-02-26 22:02:47,515 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 29: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2019-02-26 22:02:47,515 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 31: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2019-02-26 22:02:47,515 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2019-02-26 22:02:47,526 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:02:47,526 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2019-02-26 22:02:47,533 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:02:47,533 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2019-02-26 22:02:47,539 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:02:47,539 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Created Schema History table: "public"."flyway_schema_history"
2019-02-26 22:02:47,543 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Current version of schema "public": << Empty Schema >>
2019-02-26 22:02:47,543 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version 1 - init schema
2019-02-26 22:02:47,545 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TYPE TOUR_TYPE AS ENUM
  (
    'bus', 'sightseeing', 'shore_excursion',
    'adventure', 'sporting', 'cruise',
    'escorted', 'guided', 'rail', 'extreme'
    )
2019-02-26 22:02:47,546 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:02:47,546 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TYPE HOTEL_FEATURE AS ENUM
  (
    'cleanliness', 'security', 'wi-fi', 'breakfast', 'parking', 'air_conditioning',
    'food_delivery', 'pool', 'conference_hall', 'safe'
    )
2019-02-26 22:02:47,547 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:02:47,547 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "user"
(
  id       SERIAL,
  login    VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255)        NOT NULL,
  PRIMARY KEY (id)
)
2019-02-26 22:02:47,580 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:02:47,580 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "hotel"
(
  id        SERIAL,
  name      VARCHAR(255)   NOT NULL,
  stars     SMALLINT       NOT NULL,
  website   VARCHAR(255)   NOT NULL,
  latitude  DECIMAL(8, 6)  NOT NULL,
  longitude DECIMAL(8, 6)  NOT NULL,
  feature   HOTEL_FEATURE NOT NULL,
  PRIMARY KEY (id)
)
2019-02-26 22:02:47,593 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:02:47,593 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "country"
(
  id   SERIAL,
  name VARCHAR(255),
  PRIMARY KEY (id)
)
2019-02-26 22:02:47,600 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:02:47,600 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "tour"
(
  id          SERIAL,
  photo       VARCHAR(255),
  date        DATE           NOT NULL,
  duration    INT            NOT NULL,
  description TEXT           NOT NULL,
  cost        DECIMAL(19, 3) NOT NULL,
  tour_type   TOUR_TYPE      NOT NULL,
  hotel_id    INT            NOT NULL,
  country_id  INT            NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (hotel_id) REFERENCES "hotel" (id),
  FOREIGN KEY (country_id) REFERENCES "country" (id)
)
2019-02-26 22:02:47,615 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:02:47,615 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "usertour"
(
  user_id INT UNIQUE NOT NULL,
  tour_id INT UNIQUE NOT NULL,
  PRIMARY KEY (user_id, tour_id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-26 22:02:47,632 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:02:47,632 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "review"
(
  id      SERIAL,
  date    DATE NOT NULL,
  text    TEXT NOT NULL,
  user_id INT  NOT NULL,
  tour_id INT  NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-26 22:02:47,646 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:02:47,646 DEBUG [main] org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version 1 - init schema
2019-02-26 22:02:47,648 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
2019-02-26 22:02:47,656 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version 1.1 - init data
2019-02-26 22:02:47,657 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user1', 'user1')
2019-02-26 22:02:47,658 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:47,658 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user2', 'user2')
2019-02-26 22:02:47,658 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:47,658 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user3', 'user3')
2019-02-26 22:02:47,659 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:47,659 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user4', 'user4')
2019-02-26 22:02:47,659 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:47,659 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "country" (name)
VALUES ('testCountry')
2019-02-26 22:02:47,660 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:47,660 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test1', 4, 'test1', 1, 1, 'security')
2019-02-26 22:02:47,661 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:47,661 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test2', 4, 'test2', 1, 1, 'security')
2019-02-26 22:02:47,661 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:47,661 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test3', 4, 'test3', 1, 1, 'security')
2019-02-26 22:02:47,662 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:47,662 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test4', 4, 'test4', 1, 1, 'security')
2019-02-26 22:02:47,662 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:47,662 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test1.jpg', '12-12-2012', 12, 'description1', 505, 'guided', 1, 1)
2019-02-26 22:02:47,664 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:47,664 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test2.jpg', '12-12-2012', 12, 'description2', 505, 'guided', 2, 1)
2019-02-26 22:02:47,664 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:47,664 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test3.jpg', '12-12-2012', 12, 'description3', 505, 'guided', 3, 1)
2019-02-26 22:02:47,665 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:47,665 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test4.jpg', '12-12-2012', 12, 'description4', 505, 'guided', 4, 1)
2019-02-26 22:02:47,666 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:47,666 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-10-2012', 'Some words1', 1,1)
2019-02-26 22:02:47,667 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:47,667 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-11-2012', 'Some words2', 1,1)
2019-02-26 22:02:47,668 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:47,668 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-13-2012', 'Some words3', 1,1)
2019-02-26 22:02:47,670 DEBUG [main] org.flywaydb.core.internal.jdbc.TransactionTemplate - Rolling back transaction...
2019-02-26 22:02:47,670 DEBUG [main] org.flywaydb.core.internal.jdbc.TransactionTemplate - Transaction rolled back
2019-02-26 22:02:47,670 ERROR [main] org.flywaydb.core.internal.command.DbMigrate - Migration of schema "public" to version 1.1 - init data failed! Changes successfully rolled back.
2019-02-26 22:02:47,671 DEBUG [main] org.flywaydb.core.Flyway - Memory usage: 20 of 126M
2019-02-26 22:02:47,675 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-26 22:02:56,308 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-26 22:02:56,372 INFO  [main] org.flywaydb.core.internal.database.DatabaseFactory - Database: jdbc:postgresql://localhost:55752/template1 (PostgreSQL 10.6)
2019-02-26 22:02:56,372 DEBUG [main] org.flywaydb.core.internal.database.DatabaseFactory - Driver  : PostgreSQL JDBC Driver 42.2.5
2019-02-26 22:02:56,374 DEBUG [main] org.flywaydb.core.Flyway - DDL Transactions Supported: true
2019-02-26 22:02:56,376 DEBUG [main] org.flywaydb.core.Flyway - Schema: public
2019-02-26 22:02:56,376 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2019-02-26 22:02:56,376 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader jdk.internal.loader.ClassLoaders$AppClassLoader@14514713 ...
2019-02-26 22:02:56,377 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning URL: file:/C:/Users/valik/IdeaProjects/java-lab-task-1/target/classes/db/migration
2019-02-26 22:02:56,377 DEBUG [main] org.flywaydb.core.internal.util.FeatureDetector - JBoss VFS v2 available: false
2019-02-26 22:02:56,377 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: C:\Users\valik\IdeaProjects\java-lab-task-1\target\classes\
2019-02-26 22:02:56,377 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning for resources in path: C:\Users\valik\IdeaProjects\java-lab-task-1\target\classes\db\migration (db/migration)
2019-02-26 22:02:56,378 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: db/migration/V1_1__init_data.sql
2019-02-26 22:02:56,378 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: db/migration/V1__init_schema.sql
2019-02-26 22:02:56,378 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2019-02-26 22:02:56,378 DEBUG [main] org.flywaydb.core.internal.callback.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
2019-02-26 22:02:56,378 DEBUG [main] org.flywaydb.core.internal.util.FeatureDetector - Spring Jdbc available: true
2019-02-26 22:02:56,384 DEBUG [main] org.flywaydb.core.internal.command.DbValidate - Validating migrations ...
2019-02-26 22:02:56,384 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing V1_1__init_data.sql ...
2019-02-26 22:02:56,385 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 1: INSERT INTO "user" (login, password)
VALUES ('user1', 'user1')
2019-02-26 22:02:56,385 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 3: INSERT INTO "user" (login, password)
VALUES ('user2', 'user2')
2019-02-26 22:02:56,385 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 5: INSERT INTO "user" (login, password)
VALUES ('user3', 'user3')
2019-02-26 22:02:56,385 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 7: INSERT INTO "user" (login, password)
VALUES ('user4', 'user4')
2019-02-26 22:02:56,385 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 10: INSERT INTO "country" (name)
VALUES ('testCountry')
2019-02-26 22:02:56,386 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 13: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test1', 4, 'test1', 1, 1, 'security')
2019-02-26 22:02:56,386 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 15: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test2', 4, 'test2', 1, 1, 'security')
2019-02-26 22:02:56,386 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 17: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test3', 4, 'test3', 1, 1, 'security')
2019-02-26 22:02:56,386 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 19: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test4', 4, 'test4', 1, 1, 'security')
2019-02-26 22:02:56,386 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 22: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test1.jpg', '12-12-2012', 12, 'description1', 505, 'guided', 1, 1)
2019-02-26 22:02:56,386 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 24: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test2.jpg', '12-12-2012', 12, 'description2', 505, 'guided', 2, 1)
2019-02-26 22:02:56,386 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 26: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test3.jpg', '12-12-2012', 12, 'description3', 505, 'guided', 3, 1)
2019-02-26 22:02:56,386 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 28: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test4.jpg', '12-12-2012', 12, 'description4', 505, 'guided', 4, 1)
2019-02-26 22:02:56,386 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 31: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-10-2012', 'Some words1', 1,1)
2019-02-26 22:02:56,386 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 32: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-11-2012', 'Some words2', 1,1)
2019-02-26 22:02:56,386 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 33: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-13-2012', 'Some words3', 1,1)
2019-02-26 22:02:56,386 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 34: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-14-2012', 'Some words4', 1,1)
2019-02-26 22:02:56,387 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing V1__init_schema.sql ...
2019-02-26 22:02:56,388 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 1: CREATE TYPE TOUR_TYPE AS ENUM
  (
    'bus', 'sightseeing', 'shore_excursion',
    'adventure', 'sporting', 'cruise',
    'escorted', 'guided', 'rail', 'extreme'
    )
2019-02-26 22:02:56,388 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 8: CREATE TYPE HOTEL_FEATURE AS ENUM
  (
    'cleanliness', 'security', 'wi-fi', 'breakfast', 'parking', 'air_conditioning',
    'food_delivery', 'pool', 'conference_hall', 'safe'
    )
2019-02-26 22:02:56,388 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 16: CREATE TABLE IF NOT EXISTS "user"
(
  id       SERIAL,
  login    VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255)        NOT NULL,
  PRIMARY KEY (id)
)
2019-02-26 22:02:56,388 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 24: CREATE TABLE IF NOT EXISTS "hotel"
(
  id        SERIAL,
  name      VARCHAR(255)   NOT NULL,
  stars     SMALLINT       NOT NULL,
  website   VARCHAR(255)   NOT NULL,
  latitude  DECIMAL(8, 6)  NOT NULL,
  longitude DECIMAL(8, 6)  NOT NULL,
  feature   HOTEL_FEATURE NOT NULL,
  PRIMARY KEY (id)
)
2019-02-26 22:02:56,388 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 36: CREATE TABLE IF NOT EXISTS "country"
(
  id   SERIAL,
  name VARCHAR(255),
  PRIMARY KEY (id)
)
2019-02-26 22:02:56,388 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 43: CREATE TABLE IF NOT EXISTS "tour"
(
  id          SERIAL,
  photo       VARCHAR(255),
  date        DATE           NOT NULL,
  duration    INT            NOT NULL,
  description TEXT           NOT NULL,
  cost        DECIMAL(19, 3) NOT NULL,
  tour_type   TOUR_TYPE      NOT NULL,
  hotel_id    INT            NOT NULL,
  country_id  INT            NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (hotel_id) REFERENCES "hotel" (id),
  FOREIGN KEY (country_id) REFERENCES "country" (id)
)
2019-02-26 22:02:56,389 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 59: CREATE TABLE IF NOT EXISTS "usertour"
(
  user_id INT UNIQUE NOT NULL,
  tour_id INT UNIQUE NOT NULL,
  PRIMARY KEY (user_id, tour_id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-26 22:02:56,389 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 68: CREATE TABLE IF NOT EXISTS "review"
(
  id      SERIAL,
  date    DATE NOT NULL,
  text    TEXT NOT NULL,
  user_id INT  NOT NULL,
  tour_id INT  NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-26 22:02:56,389 DEBUG [main] org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1_1__init_data.sql (filename: V1_1__init_data.sql)
2019-02-26 22:02:56,389 DEBUG [main] org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__init_schema.sql (filename: V1__init_schema.sql)
2019-02-26 22:02:56,394 INFO  [main] org.flywaydb.core.internal.command.DbValidate - Successfully validated 2 migrations (execution time 00:00.009s)
2019-02-26 22:02:56,395 DEBUG [main] org.flywaydb.core.internal.command.DbSchemas - Schema "public" already exists. Skipping schema creation.
2019-02-26 22:02:56,404 INFO  [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Creating Schema History table: "public"."flyway_schema_history"
2019-02-26 22:02:56,404 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing createMetaDataTable.sql ...
2019-02-26 22:02:56,405 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 17: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2019-02-26 22:02:56,406 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 29: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2019-02-26 22:02:56,406 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 31: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2019-02-26 22:02:56,406 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2019-02-26 22:02:56,419 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:02:56,420 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2019-02-26 22:02:56,428 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:02:56,428 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2019-02-26 22:02:56,436 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:02:56,436 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Created Schema History table: "public"."flyway_schema_history"
2019-02-26 22:02:56,444 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Current version of schema "public": << Empty Schema >>
2019-02-26 22:02:56,444 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version 1 - init schema
2019-02-26 22:02:56,445 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TYPE TOUR_TYPE AS ENUM
  (
    'bus', 'sightseeing', 'shore_excursion',
    'adventure', 'sporting', 'cruise',
    'escorted', 'guided', 'rail', 'extreme'
    )
2019-02-26 22:02:56,447 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:02:56,447 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TYPE HOTEL_FEATURE AS ENUM
  (
    'cleanliness', 'security', 'wi-fi', 'breakfast', 'parking', 'air_conditioning',
    'food_delivery', 'pool', 'conference_hall', 'safe'
    )
2019-02-26 22:02:56,448 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:02:56,448 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "user"
(
  id       SERIAL,
  login    VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255)        NOT NULL,
  PRIMARY KEY (id)
)
2019-02-26 22:02:56,468 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:02:56,468 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "hotel"
(
  id        SERIAL,
  name      VARCHAR(255)   NOT NULL,
  stars     SMALLINT       NOT NULL,
  website   VARCHAR(255)   NOT NULL,
  latitude  DECIMAL(8, 6)  NOT NULL,
  longitude DECIMAL(8, 6)  NOT NULL,
  feature   HOTEL_FEATURE NOT NULL,
  PRIMARY KEY (id)
)
2019-02-26 22:02:56,481 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:02:56,481 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "country"
(
  id   SERIAL,
  name VARCHAR(255),
  PRIMARY KEY (id)
)
2019-02-26 22:02:56,488 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:02:56,488 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "tour"
(
  id          SERIAL,
  photo       VARCHAR(255),
  date        DATE           NOT NULL,
  duration    INT            NOT NULL,
  description TEXT           NOT NULL,
  cost        DECIMAL(19, 3) NOT NULL,
  tour_type   TOUR_TYPE      NOT NULL,
  hotel_id    INT            NOT NULL,
  country_id  INT            NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (hotel_id) REFERENCES "hotel" (id),
  FOREIGN KEY (country_id) REFERENCES "country" (id)
)
2019-02-26 22:02:56,503 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:02:56,503 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "usertour"
(
  user_id INT UNIQUE NOT NULL,
  tour_id INT UNIQUE NOT NULL,
  PRIMARY KEY (user_id, tour_id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-26 22:02:56,522 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:02:56,522 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "review"
(
  id      SERIAL,
  date    DATE NOT NULL,
  text    TEXT NOT NULL,
  user_id INT  NOT NULL,
  tour_id INT  NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-26 22:02:56,535 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:02:56,535 DEBUG [main] org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version 1 - init schema
2019-02-26 22:02:56,538 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
2019-02-26 22:02:56,544 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version 1.1 - init data
2019-02-26 22:02:56,545 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user1', 'user1')
2019-02-26 22:02:56,546 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:56,546 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user2', 'user2')
2019-02-26 22:02:56,546 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:56,546 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user3', 'user3')
2019-02-26 22:02:56,547 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:56,547 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user4', 'user4')
2019-02-26 22:02:56,547 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:56,547 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "country" (name)
VALUES ('testCountry')
2019-02-26 22:02:56,548 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:56,548 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test1', 4, 'test1', 1, 1, 'security')
2019-02-26 22:02:56,548 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:56,548 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test2', 4, 'test2', 1, 1, 'security')
2019-02-26 22:02:56,549 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:56,549 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test3', 4, 'test3', 1, 1, 'security')
2019-02-26 22:02:56,549 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:56,549 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test4', 4, 'test4', 1, 1, 'security')
2019-02-26 22:02:56,549 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:56,549 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test1.jpg', '12-12-2012', 12, 'description1', 505, 'guided', 1, 1)
2019-02-26 22:02:56,551 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:56,551 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test2.jpg', '12-12-2012', 12, 'description2', 505, 'guided', 2, 1)
2019-02-26 22:02:56,551 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:56,551 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test3.jpg', '12-12-2012', 12, 'description3', 505, 'guided', 3, 1)
2019-02-26 22:02:56,551 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:56,551 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test4.jpg', '12-12-2012', 12, 'description4', 505, 'guided', 4, 1)
2019-02-26 22:02:56,552 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:56,552 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-10-2012', 'Some words1', 1,1)
2019-02-26 22:02:56,553 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:56,553 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-11-2012', 'Some words2', 1,1)
2019-02-26 22:02:56,553 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:02:56,553 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-13-2012', 'Some words3', 1,1)
2019-02-26 22:02:56,555 DEBUG [main] org.flywaydb.core.internal.jdbc.TransactionTemplate - Rolling back transaction...
2019-02-26 22:02:56,555 DEBUG [main] org.flywaydb.core.internal.jdbc.TransactionTemplate - Transaction rolled back
2019-02-26 22:02:56,555 ERROR [main] org.flywaydb.core.internal.command.DbMigrate - Migration of schema "public" to version 1.1 - init data failed! Changes successfully rolled back.
2019-02-26 22:02:56,556 DEBUG [main] org.flywaydb.core.Flyway - Memory usage: 23 of 126M
2019-02-26 22:03:26,253 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-26 22:03:34,898 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-26 22:03:34,904 INFO  [main] org.flywaydb.core.internal.license.VersionPrinter - Flyway Community Edition 5.2.4 by Boxfuse
2019-02-26 22:03:34,974 INFO  [main] org.flywaydb.core.internal.database.DatabaseFactory - Database: jdbc:postgresql://localhost:55787/template1 (PostgreSQL 10.6)
2019-02-26 22:03:34,974 DEBUG [main] org.flywaydb.core.internal.database.DatabaseFactory - Driver  : PostgreSQL JDBC Driver 42.2.5
2019-02-26 22:03:34,980 DEBUG [main] org.flywaydb.core.Flyway - DDL Transactions Supported: true
2019-02-26 22:03:34,985 DEBUG [main] org.flywaydb.core.Flyway - Schema: public
2019-02-26 22:03:34,989 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2019-02-26 22:03:34,990 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader jdk.internal.loader.ClassLoaders$AppClassLoader@14514713 ...
2019-02-26 22:03:34,990 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning URL: file:/C:/Users/valik/IdeaProjects/java-lab-task-1/target/classes/db/migration
2019-02-26 22:03:34,990 DEBUG [main] org.flywaydb.core.internal.util.FeatureDetector - JBoss VFS v2 available: false
2019-02-26 22:03:34,992 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: C:\Users\valik\IdeaProjects\java-lab-task-1\target\classes\
2019-02-26 22:03:34,992 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning for resources in path: C:\Users\valik\IdeaProjects\java-lab-task-1\target\classes\db\migration (db/migration)
2019-02-26 22:03:34,993 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: db/migration/V1_1__init_data.sql
2019-02-26 22:03:34,993 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: db/migration/V1__init_schema.sql
2019-02-26 22:03:34,993 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2019-02-26 22:03:34,996 DEBUG [main] org.flywaydb.core.internal.callback.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
2019-02-26 22:03:35,002 DEBUG [main] org.flywaydb.core.internal.util.FeatureDetector - Spring Jdbc available: true
2019-02-26 22:03:35,014 DEBUG [main] org.flywaydb.core.internal.command.DbValidate - Validating migrations ...
2019-02-26 22:03:35,019 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing V1_1__init_data.sql ...
2019-02-26 22:03:35,023 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 1: INSERT INTO "user" (login, password)
VALUES ('user1', 'user1')
2019-02-26 22:03:35,023 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 3: INSERT INTO "user" (login, password)
VALUES ('user2', 'user2')
2019-02-26 22:03:35,024 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 5: INSERT INTO "user" (login, password)
VALUES ('user3', 'user3')
2019-02-26 22:03:35,024 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 7: INSERT INTO "user" (login, password)
VALUES ('user4', 'user4')
2019-02-26 22:03:35,024 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 10: INSERT INTO "country" (name)
VALUES ('testCountry')
2019-02-26 22:03:35,025 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 13: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test1', 4, 'test1', 1, 1, 'security')
2019-02-26 22:03:35,025 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 15: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test2', 4, 'test2', 1, 1, 'security')
2019-02-26 22:03:35,026 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 17: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test3', 4, 'test3', 1, 1, 'security')
2019-02-26 22:03:35,026 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 19: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test4', 4, 'test4', 1, 1, 'security')
2019-02-26 22:03:35,026 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 22: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test1.jpg', '12-12-2012', 12, 'description1', 505, 'guided', 1, 1)
2019-02-26 22:03:35,027 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 24: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test2.jpg', '12-12-2012', 12, 'description2', 505, 'guided', 2, 1)
2019-02-26 22:03:35,027 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 26: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test3.jpg', '12-12-2012', 12, 'description3', 505, 'guided', 3, 1)
2019-02-26 22:03:35,028 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 28: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test4.jpg', '12-12-2012', 12, 'description4', 505, 'guided', 4, 1)
2019-02-26 22:03:35,028 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 31: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-10-2012', 'Some words1', 1,1)
2019-02-26 22:03:35,029 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 32: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-11-2012', 'Some words2', 1,1)
2019-02-26 22:03:35,029 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 33: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-13-2012', 'Some words3', 1,1)
2019-02-26 22:03:35,029 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 34: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-14-2012', 'Some words4', 1,1)
2019-02-26 22:03:35,031 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing V1__init_schema.sql ...
2019-02-26 22:03:35,032 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 1: CREATE TYPE TOUR_TYPE AS ENUM
  (
    'bus', 'sightseeing', 'shore_excursion',
    'adventure', 'sporting', 'cruise',
    'escorted', 'guided', 'rail', 'extreme'
    )
2019-02-26 22:03:35,032 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 8: CREATE TYPE HOTEL_FEATURE AS ENUM
  (
    'cleanliness', 'security', 'wi-fi', 'breakfast', 'parking', 'air_conditioning',
    'food_delivery', 'pool', 'conference_hall', 'safe'
    )
2019-02-26 22:03:35,033 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 16: CREATE TABLE IF NOT EXISTS "user"
(
  id       SERIAL,
  login    VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255)        NOT NULL,
  PRIMARY KEY (id)
)
2019-02-26 22:03:35,034 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 24: CREATE TABLE IF NOT EXISTS "hotel"
(
  id        SERIAL,
  name      VARCHAR(255)   NOT NULL,
  stars     SMALLINT       NOT NULL,
  website   VARCHAR(255)   NOT NULL,
  latitude  DECIMAL(8, 6)  NOT NULL,
  longitude DECIMAL(8, 6)  NOT NULL,
  feature   HOTEL_FEATURE NOT NULL,
  PRIMARY KEY (id)
)
2019-02-26 22:03:35,034 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 36: CREATE TABLE IF NOT EXISTS "country"
(
  id   SERIAL,
  name VARCHAR(255),
  PRIMARY KEY (id)
)
2019-02-26 22:03:35,035 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 43: CREATE TABLE IF NOT EXISTS "tour"
(
  id          SERIAL,
  photo       VARCHAR(255),
  date        DATE           NOT NULL,
  duration    INT            NOT NULL,
  description TEXT           NOT NULL,
  cost        DECIMAL(19, 3) NOT NULL,
  tour_type   TOUR_TYPE      NOT NULL,
  hotel_id    INT            NOT NULL,
  country_id  INT            NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (hotel_id) REFERENCES "hotel" (id),
  FOREIGN KEY (country_id) REFERENCES "country" (id)
)
2019-02-26 22:03:35,036 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 59: CREATE TABLE IF NOT EXISTS "usertour"
(
  user_id INT UNIQUE NOT NULL,
  tour_id INT UNIQUE NOT NULL,
  PRIMARY KEY (user_id, tour_id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-26 22:03:35,036 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 68: CREATE TABLE IF NOT EXISTS "review"
(
  id      SERIAL,
  date    DATE NOT NULL,
  text    TEXT NOT NULL,
  user_id INT  NOT NULL,
  tour_id INT  NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-26 22:03:35,038 DEBUG [main] org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1_1__init_data.sql (filename: V1_1__init_data.sql)
2019-02-26 22:03:35,038 DEBUG [main] org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__init_schema.sql (filename: V1__init_schema.sql)
2019-02-26 22:03:35,045 INFO  [main] org.flywaydb.core.internal.command.DbValidate - Successfully validated 2 migrations (execution time 00:00.030s)
2019-02-26 22:03:35,047 DEBUG [main] org.flywaydb.core.internal.command.DbSchemas - Schema "public" already exists. Skipping schema creation.
2019-02-26 22:03:35,058 INFO  [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Creating Schema History table: "public"."flyway_schema_history"
2019-02-26 22:03:35,060 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing createMetaDataTable.sql ...
2019-02-26 22:03:35,063 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 17: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2019-02-26 22:03:35,063 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 29: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2019-02-26 22:03:35,063 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 31: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2019-02-26 22:03:35,063 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2019-02-26 22:03:35,078 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:03:35,078 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2019-02-26 22:03:35,085 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:03:35,085 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2019-02-26 22:03:35,091 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:03:35,092 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Created Schema History table: "public"."flyway_schema_history"
2019-02-26 22:03:35,099 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Current version of schema "public": << Empty Schema >>
2019-02-26 22:03:35,100 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version 1 - init schema
2019-02-26 22:03:35,101 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TYPE TOUR_TYPE AS ENUM
  (
    'bus', 'sightseeing', 'shore_excursion',
    'adventure', 'sporting', 'cruise',
    'escorted', 'guided', 'rail', 'extreme'
    )
2019-02-26 22:03:35,103 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:03:35,103 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TYPE HOTEL_FEATURE AS ENUM
  (
    'cleanliness', 'security', 'wi-fi', 'breakfast', 'parking', 'air_conditioning',
    'food_delivery', 'pool', 'conference_hall', 'safe'
    )
2019-02-26 22:03:35,104 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:03:35,104 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "user"
(
  id       SERIAL,
  login    VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255)        NOT NULL,
  PRIMARY KEY (id)
)
2019-02-26 22:03:35,130 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:03:35,130 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "hotel"
(
  id        SERIAL,
  name      VARCHAR(255)   NOT NULL,
  stars     SMALLINT       NOT NULL,
  website   VARCHAR(255)   NOT NULL,
  latitude  DECIMAL(8, 6)  NOT NULL,
  longitude DECIMAL(8, 6)  NOT NULL,
  feature   HOTEL_FEATURE NOT NULL,
  PRIMARY KEY (id)
)
2019-02-26 22:03:35,147 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:03:35,147 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "country"
(
  id   SERIAL,
  name VARCHAR(255),
  PRIMARY KEY (id)
)
2019-02-26 22:03:35,155 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:03:35,155 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "tour"
(
  id          SERIAL,
  photo       VARCHAR(255),
  date        DATE           NOT NULL,
  duration    INT            NOT NULL,
  description TEXT           NOT NULL,
  cost        DECIMAL(19, 3) NOT NULL,
  tour_type   TOUR_TYPE      NOT NULL,
  hotel_id    INT            NOT NULL,
  country_id  INT            NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (hotel_id) REFERENCES "hotel" (id),
  FOREIGN KEY (country_id) REFERENCES "country" (id)
)
2019-02-26 22:03:35,170 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:03:35,170 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "usertour"
(
  user_id INT UNIQUE NOT NULL,
  tour_id INT UNIQUE NOT NULL,
  PRIMARY KEY (user_id, tour_id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-26 22:03:35,187 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:03:35,187 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "review"
(
  id      SERIAL,
  date    DATE NOT NULL,
  text    TEXT NOT NULL,
  user_id INT  NOT NULL,
  tour_id INT  NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-26 22:03:35,201 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:03:35,202 DEBUG [main] org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version 1 - init schema
2019-02-26 22:03:35,205 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
2019-02-26 22:03:35,213 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version 1.1 - init data
2019-02-26 22:03:35,214 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user1', 'user1')
2019-02-26 22:03:35,215 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:03:35,215 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user2', 'user2')
2019-02-26 22:03:35,216 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:03:35,216 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user3', 'user3')
2019-02-26 22:03:35,216 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:03:35,216 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user4', 'user4')
2019-02-26 22:03:35,216 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:03:35,217 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "country" (name)
VALUES ('testCountry')
2019-02-26 22:03:35,217 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:03:35,217 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test1', 4, 'test1', 1, 1, 'security')
2019-02-26 22:03:35,218 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:03:35,218 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test2', 4, 'test2', 1, 1, 'security')
2019-02-26 22:03:35,219 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:03:35,219 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test3', 4, 'test3', 1, 1, 'security')
2019-02-26 22:03:35,219 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:03:35,219 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test4', 4, 'test4', 1, 1, 'security')
2019-02-26 22:03:35,219 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:03:35,219 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test1.jpg', '12-12-2012', 12, 'description1', 505, 'guided', 1, 1)
2019-02-26 22:03:35,220 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:03:35,220 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test2.jpg', '12-12-2012', 12, 'description2', 505, 'guided', 2, 1)
2019-02-26 22:03:35,221 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:03:35,221 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test3.jpg', '12-12-2012', 12, 'description3', 505, 'guided', 3, 1)
2019-02-26 22:03:35,222 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:03:35,222 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test4.jpg', '12-12-2012', 12, 'description4', 505, 'guided', 4, 1)
2019-02-26 22:03:35,222 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:03:35,223 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-10-2012', 'Some words1', 1,1)
2019-02-26 22:03:35,224 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:03:35,224 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-11-2012', 'Some words2', 1,1)
2019-02-26 22:03:35,224 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:03:35,225 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-13-2012', 'Some words3', 1,1)
2019-02-26 22:03:35,234 DEBUG [main] org.flywaydb.core.internal.jdbc.TransactionTemplate - Rolling back transaction...
2019-02-26 22:03:35,235 DEBUG [main] org.flywaydb.core.internal.jdbc.TransactionTemplate - Transaction rolled back
2019-02-26 22:03:35,235 ERROR [main] org.flywaydb.core.internal.command.DbMigrate - Migration of schema "public" to version 1.1 - init data failed! Changes successfully rolled back.
2019-02-26 22:03:35,236 DEBUG [main] org.flywaydb.core.Flyway - Memory usage: 14 of 126M
2019-02-26 22:03:35,247 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-26 22:03:43,708 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-26 22:03:43,774 INFO  [main] org.flywaydb.core.internal.database.DatabaseFactory - Database: jdbc:postgresql://localhost:55799/template1 (PostgreSQL 10.6)
2019-02-26 22:03:43,774 DEBUG [main] org.flywaydb.core.internal.database.DatabaseFactory - Driver  : PostgreSQL JDBC Driver 42.2.5
2019-02-26 22:03:43,776 DEBUG [main] org.flywaydb.core.Flyway - DDL Transactions Supported: true
2019-02-26 22:03:43,777 DEBUG [main] org.flywaydb.core.Flyway - Schema: public
2019-02-26 22:03:43,777 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2019-02-26 22:03:43,777 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader jdk.internal.loader.ClassLoaders$AppClassLoader@14514713 ...
2019-02-26 22:03:43,778 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning URL: file:/C:/Users/valik/IdeaProjects/java-lab-task-1/target/classes/db/migration
2019-02-26 22:03:43,778 DEBUG [main] org.flywaydb.core.internal.util.FeatureDetector - JBoss VFS v2 available: false
2019-02-26 22:03:43,778 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: C:\Users\valik\IdeaProjects\java-lab-task-1\target\classes\
2019-02-26 22:03:43,778 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning for resources in path: C:\Users\valik\IdeaProjects\java-lab-task-1\target\classes\db\migration (db/migration)
2019-02-26 22:03:43,779 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: db/migration/V1_1__init_data.sql
2019-02-26 22:03:43,779 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: db/migration/V1__init_schema.sql
2019-02-26 22:03:43,779 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2019-02-26 22:03:43,779 DEBUG [main] org.flywaydb.core.internal.callback.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
2019-02-26 22:03:43,779 DEBUG [main] org.flywaydb.core.internal.util.FeatureDetector - Spring Jdbc available: true
2019-02-26 22:03:43,785 DEBUG [main] org.flywaydb.core.internal.command.DbValidate - Validating migrations ...
2019-02-26 22:03:43,786 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing V1_1__init_data.sql ...
2019-02-26 22:03:43,786 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 1: INSERT INTO "user" (login, password)
VALUES ('user1', 'user1')
2019-02-26 22:03:43,786 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 3: INSERT INTO "user" (login, password)
VALUES ('user2', 'user2')
2019-02-26 22:03:43,787 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 5: INSERT INTO "user" (login, password)
VALUES ('user3', 'user3')
2019-02-26 22:03:43,787 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 7: INSERT INTO "user" (login, password)
VALUES ('user4', 'user4')
2019-02-26 22:03:43,787 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 10: INSERT INTO "country" (name)
VALUES ('testCountry')
2019-02-26 22:03:43,787 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 13: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test1', 4, 'test1', 1, 1, 'security')
2019-02-26 22:03:43,787 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 15: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test2', 4, 'test2', 1, 1, 'security')
2019-02-26 22:03:43,787 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 17: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test3', 4, 'test3', 1, 1, 'security')
2019-02-26 22:03:43,787 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 19: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test4', 4, 'test4', 1, 1, 'security')
2019-02-26 22:03:43,788 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 22: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test1.jpg', '12-12-2012', 12, 'description1', 505, 'guided', 1, 1)
2019-02-26 22:03:43,788 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 24: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test2.jpg', '12-12-2012', 12, 'description2', 505, 'guided', 2, 1)
2019-02-26 22:03:43,788 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 26: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test3.jpg', '12-12-2012', 12, 'description3', 505, 'guided', 3, 1)
2019-02-26 22:03:43,788 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 28: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test4.jpg', '12-12-2012', 12, 'description4', 505, 'guided', 4, 1)
2019-02-26 22:03:43,788 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 31: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-10-2012', 'Some words1', 1,1)
2019-02-26 22:03:43,789 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 32: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-11-2012', 'Some words2', 1,1)
2019-02-26 22:03:43,789 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 33: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-13-2012', 'Some words3', 1,1)
2019-02-26 22:03:43,789 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 34: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-14-2012', 'Some words4', 1,1)
2019-02-26 22:03:43,790 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing V1__init_schema.sql ...
2019-02-26 22:03:43,790 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 1: CREATE TYPE TOUR_TYPE AS ENUM
  (
    'bus', 'sightseeing', 'shore_excursion',
    'adventure', 'sporting', 'cruise',
    'escorted', 'guided', 'rail', 'extreme'
    )
2019-02-26 22:03:43,791 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 8: CREATE TYPE HOTEL_FEATURE AS ENUM
  (
    'cleanliness', 'security', 'wi-fi', 'breakfast', 'parking', 'air_conditioning',
    'food_delivery', 'pool', 'conference_hall', 'safe'
    )
2019-02-26 22:03:43,791 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 16: CREATE TABLE IF NOT EXISTS "user"
(
  id       SERIAL,
  login    VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255)        NOT NULL,
  PRIMARY KEY (id)
)
2019-02-26 22:03:43,791 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 24: CREATE TABLE IF NOT EXISTS "hotel"
(
  id        SERIAL,
  name      VARCHAR(255)   NOT NULL,
  stars     SMALLINT       NOT NULL,
  website   VARCHAR(255)   NOT NULL,
  latitude  DECIMAL(8, 6)  NOT NULL,
  longitude DECIMAL(8, 6)  NOT NULL,
  feature   HOTEL_FEATURE NOT NULL,
  PRIMARY KEY (id)
)
2019-02-26 22:03:43,792 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 36: CREATE TABLE IF NOT EXISTS "country"
(
  id   SERIAL,
  name VARCHAR(255),
  PRIMARY KEY (id)
)
2019-02-26 22:03:43,792 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 43: CREATE TABLE IF NOT EXISTS "tour"
(
  id          SERIAL,
  photo       VARCHAR(255),
  date        DATE           NOT NULL,
  duration    INT            NOT NULL,
  description TEXT           NOT NULL,
  cost        DECIMAL(19, 3) NOT NULL,
  tour_type   TOUR_TYPE      NOT NULL,
  hotel_id    INT            NOT NULL,
  country_id  INT            NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (hotel_id) REFERENCES "hotel" (id),
  FOREIGN KEY (country_id) REFERENCES "country" (id)
)
2019-02-26 22:03:43,792 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 59: CREATE TABLE IF NOT EXISTS "usertour"
(
  user_id INT UNIQUE NOT NULL,
  tour_id INT UNIQUE NOT NULL,
  PRIMARY KEY (user_id, tour_id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-26 22:03:43,793 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 68: CREATE TABLE IF NOT EXISTS "review"
(
  id      SERIAL,
  date    DATE NOT NULL,
  text    TEXT NOT NULL,
  user_id INT  NOT NULL,
  tour_id INT  NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-26 22:03:43,794 DEBUG [main] org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1_1__init_data.sql (filename: V1_1__init_data.sql)
2019-02-26 22:03:43,794 DEBUG [main] org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__init_schema.sql (filename: V1__init_schema.sql)
2019-02-26 22:03:43,795 INFO  [main] org.flywaydb.core.internal.command.DbValidate - Successfully validated 2 migrations (execution time 00:00.009s)
2019-02-26 22:03:43,796 DEBUG [main] org.flywaydb.core.internal.command.DbSchemas - Schema "public" already exists. Skipping schema creation.
2019-02-26 22:03:43,804 INFO  [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Creating Schema History table: "public"."flyway_schema_history"
2019-02-26 22:03:43,804 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing createMetaDataTable.sql ...
2019-02-26 22:03:43,805 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 17: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2019-02-26 22:03:43,806 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 29: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2019-02-26 22:03:43,806 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 31: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2019-02-26 22:03:43,806 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2019-02-26 22:03:43,819 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:03:43,819 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2019-02-26 22:03:43,827 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:03:43,827 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2019-02-26 22:03:43,833 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:03:43,833 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Created Schema History table: "public"."flyway_schema_history"
2019-02-26 22:03:43,837 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Current version of schema "public": << Empty Schema >>
2019-02-26 22:03:43,837 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version 1 - init schema
2019-02-26 22:03:43,838 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TYPE TOUR_TYPE AS ENUM
  (
    'bus', 'sightseeing', 'shore_excursion',
    'adventure', 'sporting', 'cruise',
    'escorted', 'guided', 'rail', 'extreme'
    )
2019-02-26 22:03:43,840 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:03:43,840 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TYPE HOTEL_FEATURE AS ENUM
  (
    'cleanliness', 'security', 'wi-fi', 'breakfast', 'parking', 'air_conditioning',
    'food_delivery', 'pool', 'conference_hall', 'safe'
    )
2019-02-26 22:03:43,840 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:03:43,840 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "user"
(
  id       SERIAL,
  login    VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255)        NOT NULL,
  PRIMARY KEY (id)
)
2019-02-26 22:03:43,860 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:03:43,860 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "hotel"
(
  id        SERIAL,
  name      VARCHAR(255)   NOT NULL,
  stars     SMALLINT       NOT NULL,
  website   VARCHAR(255)   NOT NULL,
  latitude  DECIMAL(8, 6)  NOT NULL,
  longitude DECIMAL(8, 6)  NOT NULL,
  feature   HOTEL_FEATURE NOT NULL,
  PRIMARY KEY (id)
)
2019-02-26 22:03:43,873 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:03:43,873 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "country"
(
  id   SERIAL,
  name VARCHAR(255),
  PRIMARY KEY (id)
)
2019-02-26 22:03:43,882 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:03:43,882 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "tour"
(
  id          SERIAL,
  photo       VARCHAR(255),
  date        DATE           NOT NULL,
  duration    INT            NOT NULL,
  description TEXT           NOT NULL,
  cost        DECIMAL(19, 3) NOT NULL,
  tour_type   TOUR_TYPE      NOT NULL,
  hotel_id    INT            NOT NULL,
  country_id  INT            NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (hotel_id) REFERENCES "hotel" (id),
  FOREIGN KEY (country_id) REFERENCES "country" (id)
)
2019-02-26 22:03:43,898 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:03:43,898 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "usertour"
(
  user_id INT UNIQUE NOT NULL,
  tour_id INT UNIQUE NOT NULL,
  PRIMARY KEY (user_id, tour_id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-26 22:03:43,917 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:03:43,917 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "review"
(
  id      SERIAL,
  date    DATE NOT NULL,
  text    TEXT NOT NULL,
  user_id INT  NOT NULL,
  tour_id INT  NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-26 22:03:43,931 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:03:43,931 DEBUG [main] org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version 1 - init schema
2019-02-26 22:03:43,934 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
2019-02-26 22:03:43,943 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version 1.1 - init data
2019-02-26 22:03:43,946 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user1', 'user1')
2019-02-26 22:03:43,947 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:03:43,947 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user2', 'user2')
2019-02-26 22:03:43,947 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:03:43,947 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user3', 'user3')
2019-02-26 22:03:43,948 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:03:43,948 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user4', 'user4')
2019-02-26 22:03:43,948 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:03:43,948 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "country" (name)
VALUES ('testCountry')
2019-02-26 22:03:43,949 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:03:43,949 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test1', 4, 'test1', 1, 1, 'security')
2019-02-26 22:03:43,950 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:03:43,950 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test2', 4, 'test2', 1, 1, 'security')
2019-02-26 22:03:43,951 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:03:43,951 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test3', 4, 'test3', 1, 1, 'security')
2019-02-26 22:03:43,951 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:03:43,951 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test4', 4, 'test4', 1, 1, 'security')
2019-02-26 22:03:43,952 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:03:43,953 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test1.jpg', '12-12-2012', 12, 'description1', 505, 'guided', 1, 1)
2019-02-26 22:03:43,954 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:03:43,954 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test2.jpg', '12-12-2012', 12, 'description2', 505, 'guided', 2, 1)
2019-02-26 22:03:43,955 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:03:43,955 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test3.jpg', '12-12-2012', 12, 'description3', 505, 'guided', 3, 1)
2019-02-26 22:03:43,956 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:03:43,956 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test4.jpg', '12-12-2012', 12, 'description4', 505, 'guided', 4, 1)
2019-02-26 22:03:43,957 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:03:43,957 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-10-2012', 'Some words1', 1,1)
2019-02-26 22:03:43,959 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:03:43,959 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-11-2012', 'Some words2', 1,1)
2019-02-26 22:03:43,960 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:03:43,960 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-13-2012', 'Some words3', 1,1)
2019-02-26 22:03:43,962 DEBUG [main] org.flywaydb.core.internal.jdbc.TransactionTemplate - Rolling back transaction...
2019-02-26 22:03:43,962 DEBUG [main] org.flywaydb.core.internal.jdbc.TransactionTemplate - Transaction rolled back
2019-02-26 22:03:43,962 ERROR [main] org.flywaydb.core.internal.command.DbMigrate - Migration of schema "public" to version 1.1 - init data failed! Changes successfully rolled back.
2019-02-26 22:03:43,963 DEBUG [main] org.flywaydb.core.Flyway - Memory usage: 17 of 126M
2019-02-26 22:03:43,971 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-26 22:03:55,105 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-26 22:03:55,172 INFO  [main] org.flywaydb.core.internal.database.DatabaseFactory - Database: jdbc:postgresql://localhost:55817/template1 (PostgreSQL 10.6)
2019-02-26 22:03:55,172 DEBUG [main] org.flywaydb.core.internal.database.DatabaseFactory - Driver  : PostgreSQL JDBC Driver 42.2.5
2019-02-26 22:03:55,174 DEBUG [main] org.flywaydb.core.Flyway - DDL Transactions Supported: true
2019-02-26 22:03:55,175 DEBUG [main] org.flywaydb.core.Flyway - Schema: public
2019-02-26 22:03:55,175 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2019-02-26 22:03:55,175 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader jdk.internal.loader.ClassLoaders$AppClassLoader@14514713 ...
2019-02-26 22:03:55,175 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning URL: file:/C:/Users/valik/IdeaProjects/java-lab-task-1/target/classes/db/migration
2019-02-26 22:03:55,176 DEBUG [main] org.flywaydb.core.internal.util.FeatureDetector - JBoss VFS v2 available: false
2019-02-26 22:03:55,176 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: C:\Users\valik\IdeaProjects\java-lab-task-1\target\classes\
2019-02-26 22:03:55,176 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning for resources in path: C:\Users\valik\IdeaProjects\java-lab-task-1\target\classes\db\migration (db/migration)
2019-02-26 22:03:55,176 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: db/migration/V1_1__init_data.sql
2019-02-26 22:03:55,176 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: db/migration/V1__init_schema.sql
2019-02-26 22:03:55,177 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2019-02-26 22:03:55,177 DEBUG [main] org.flywaydb.core.internal.callback.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
2019-02-26 22:03:55,177 DEBUG [main] org.flywaydb.core.internal.util.FeatureDetector - Spring Jdbc available: true
2019-02-26 22:03:55,183 DEBUG [main] org.flywaydb.core.internal.command.DbValidate - Validating migrations ...
2019-02-26 22:03:55,184 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing V1_1__init_data.sql ...
2019-02-26 22:03:55,186 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 1: INSERT INTO "user" (login, password)
VALUES ('user1', 'user1')
2019-02-26 22:03:55,187 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 3: INSERT INTO "user" (login, password)
VALUES ('user2', 'user2')
2019-02-26 22:03:55,189 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 5: INSERT INTO "user" (login, password)
VALUES ('user3', 'user3')
2019-02-26 22:03:55,190 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 7: INSERT INTO "user" (login, password)
VALUES ('user4', 'user4')
2019-02-26 22:03:55,190 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 10: INSERT INTO "country" (name)
VALUES ('testCountry')
2019-02-26 22:03:55,190 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 13: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test1', 4, 'test1', 1, 1, 'security')
2019-02-26 22:03:55,190 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 15: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test2', 4, 'test2', 1, 1, 'security')
2019-02-26 22:03:55,191 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 17: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test3', 4, 'test3', 1, 1, 'security')
2019-02-26 22:03:55,191 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 19: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test4', 4, 'test4', 1, 1, 'security')
2019-02-26 22:03:55,191 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 22: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test1.jpg', '12-12-2012', 12, 'description1', 505, 'guided', 1, 1)
2019-02-26 22:03:55,191 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 24: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test2.jpg', '12-12-2012', 12, 'description2', 505, 'guided', 2, 1)
2019-02-26 22:03:55,192 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 26: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test3.jpg', '12-12-2012', 12, 'description3', 505, 'guided', 3, 1)
2019-02-26 22:03:55,194 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 28: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test4.jpg', '12-12-2012', 12, 'description4', 505, 'guided', 4, 1)
2019-02-26 22:03:55,196 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 31: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-10-2012', 'Some words1', 1,1)
2019-02-26 22:03:55,197 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 32: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-11-2012', 'Some words2', 1,1)
2019-02-26 22:03:55,197 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 33: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-13-2012', 'Some words3', 1,1)
2019-02-26 22:03:55,198 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 34: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-14-2012', 'Some words4', 1,1)
2019-02-26 22:03:55,200 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing V1__init_schema.sql ...
2019-02-26 22:03:55,201 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 1: CREATE TYPE TOUR_TYPE AS ENUM
  (
    'bus', 'sightseeing', 'shore_excursion',
    'adventure', 'sporting', 'cruise',
    'escorted', 'guided', 'rail', 'extreme'
    )
2019-02-26 22:03:55,202 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 8: CREATE TYPE HOTEL_FEATURE AS ENUM
  (
    'cleanliness', 'security', 'wi-fi', 'breakfast', 'parking', 'air_conditioning',
    'food_delivery', 'pool', 'conference_hall', 'safe'
    )
2019-02-26 22:03:55,202 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 16: CREATE TABLE IF NOT EXISTS "user"
(
  id       SERIAL,
  login    VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255)        NOT NULL,
  PRIMARY KEY (id)
)
2019-02-26 22:03:55,203 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 24: CREATE TABLE IF NOT EXISTS "hotel"
(
  id        SERIAL,
  name      VARCHAR(255)   NOT NULL,
  stars     SMALLINT       NOT NULL,
  website   VARCHAR(255)   NOT NULL,
  latitude  DECIMAL(8, 6)  NOT NULL,
  longitude DECIMAL(8, 6)  NOT NULL,
  feature   HOTEL_FEATURE NOT NULL,
  PRIMARY KEY (id)
)
2019-02-26 22:03:55,203 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 36: CREATE TABLE IF NOT EXISTS "country"
(
  id   SERIAL,
  name VARCHAR(255),
  PRIMARY KEY (id)
)
2019-02-26 22:03:55,204 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 43: CREATE TABLE IF NOT EXISTS "tour"
(
  id          SERIAL,
  photo       VARCHAR(255),
  date        DATE           NOT NULL,
  duration    INT            NOT NULL,
  description TEXT           NOT NULL,
  cost        DECIMAL(19, 3) NOT NULL,
  tour_type   TOUR_TYPE      NOT NULL,
  hotel_id    INT            NOT NULL,
  country_id  INT            NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (hotel_id) REFERENCES "hotel" (id),
  FOREIGN KEY (country_id) REFERENCES "country" (id)
)
2019-02-26 22:03:55,207 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 59: CREATE TABLE IF NOT EXISTS "usertour"
(
  user_id INT UNIQUE NOT NULL,
  tour_id INT UNIQUE NOT NULL,
  PRIMARY KEY (user_id, tour_id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-26 22:03:55,210 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 68: CREATE TABLE IF NOT EXISTS "review"
(
  id      SERIAL,
  date    DATE NOT NULL,
  text    TEXT NOT NULL,
  user_id INT  NOT NULL,
  tour_id INT  NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-26 22:03:55,211 DEBUG [main] org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1_1__init_data.sql (filename: V1_1__init_data.sql)
2019-02-26 22:03:55,211 DEBUG [main] org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__init_schema.sql (filename: V1__init_schema.sql)
2019-02-26 22:03:55,213 INFO  [main] org.flywaydb.core.internal.command.DbValidate - Successfully validated 2 migrations (execution time 00:00.028s)
2019-02-26 22:03:55,214 DEBUG [main] org.flywaydb.core.internal.command.DbSchemas - Schema "public" already exists. Skipping schema creation.
2019-02-26 22:03:55,228 INFO  [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Creating Schema History table: "public"."flyway_schema_history"
2019-02-26 22:03:55,228 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing createMetaDataTable.sql ...
2019-02-26 22:03:55,232 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 17: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2019-02-26 22:03:55,232 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 29: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2019-02-26 22:03:55,232 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 31: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2019-02-26 22:03:55,232 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2019-02-26 22:03:55,256 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:03:55,256 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2019-02-26 22:03:55,308 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:03:55,308 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2019-02-26 22:03:55,315 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:03:55,315 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Created Schema History table: "public"."flyway_schema_history"
2019-02-26 22:03:55,319 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Current version of schema "public": << Empty Schema >>
2019-02-26 22:03:55,320 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version 1 - init schema
2019-02-26 22:03:55,321 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TYPE TOUR_TYPE AS ENUM
  (
    'bus', 'sightseeing', 'shore_excursion',
    'adventure', 'sporting', 'cruise',
    'escorted', 'guided', 'rail', 'extreme'
    )
2019-02-26 22:03:55,323 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:03:55,323 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TYPE HOTEL_FEATURE AS ENUM
  (
    'cleanliness', 'security', 'wi-fi', 'breakfast', 'parking', 'air_conditioning',
    'food_delivery', 'pool', 'conference_hall', 'safe'
    )
2019-02-26 22:03:55,323 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:03:55,324 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "user"
(
  id       SERIAL,
  login    VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255)        NOT NULL,
  PRIMARY KEY (id)
)
2019-02-26 22:03:55,345 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:03:55,346 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "hotel"
(
  id        SERIAL,
  name      VARCHAR(255)   NOT NULL,
  stars     SMALLINT       NOT NULL,
  website   VARCHAR(255)   NOT NULL,
  latitude  DECIMAL(8, 6)  NOT NULL,
  longitude DECIMAL(8, 6)  NOT NULL,
  feature   HOTEL_FEATURE NOT NULL,
  PRIMARY KEY (id)
)
2019-02-26 22:03:55,361 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:03:55,362 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "country"
(
  id   SERIAL,
  name VARCHAR(255),
  PRIMARY KEY (id)
)
2019-02-26 22:03:55,372 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:03:55,372 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "tour"
(
  id          SERIAL,
  photo       VARCHAR(255),
  date        DATE           NOT NULL,
  duration    INT            NOT NULL,
  description TEXT           NOT NULL,
  cost        DECIMAL(19, 3) NOT NULL,
  tour_type   TOUR_TYPE      NOT NULL,
  hotel_id    INT            NOT NULL,
  country_id  INT            NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (hotel_id) REFERENCES "hotel" (id),
  FOREIGN KEY (country_id) REFERENCES "country" (id)
)
2019-02-26 22:03:55,388 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:03:55,388 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "usertour"
(
  user_id INT UNIQUE NOT NULL,
  tour_id INT UNIQUE NOT NULL,
  PRIMARY KEY (user_id, tour_id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-26 22:03:55,413 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:03:55,413 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "review"
(
  id      SERIAL,
  date    DATE NOT NULL,
  text    TEXT NOT NULL,
  user_id INT  NOT NULL,
  tour_id INT  NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-26 22:03:55,428 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:03:55,428 DEBUG [main] org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version 1 - init schema
2019-02-26 22:03:55,431 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
2019-02-26 22:03:55,440 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version 1.1 - init data
2019-02-26 22:03:55,441 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user1', 'user1')
2019-02-26 22:03:55,442 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:03:55,443 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user2', 'user2')
2019-02-26 22:03:55,443 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:03:55,443 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user3', 'user3')
2019-02-26 22:03:55,444 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:03:55,444 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user4', 'user4')
2019-02-26 22:03:55,444 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:03:55,444 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "country" (name)
VALUES ('testCountry')
2019-02-26 22:03:55,445 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:03:55,445 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test1', 4, 'test1', 1, 1, 'security')
2019-02-26 22:03:55,447 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:03:55,447 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test2', 4, 'test2', 1, 1, 'security')
2019-02-26 22:03:55,447 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:03:55,447 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test3', 4, 'test3', 1, 1, 'security')
2019-02-26 22:03:55,447 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:03:55,447 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test4', 4, 'test4', 1, 1, 'security')
2019-02-26 22:03:55,448 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:03:55,448 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test1.jpg', '12-12-2012', 12, 'description1', 505, 'guided', 1, 1)
2019-02-26 22:03:55,449 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:03:55,449 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test2.jpg', '12-12-2012', 12, 'description2', 505, 'guided', 2, 1)
2019-02-26 22:03:55,450 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:03:55,450 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test3.jpg', '12-12-2012', 12, 'description3', 505, 'guided', 3, 1)
2019-02-26 22:03:55,450 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:03:55,450 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test4.jpg', '12-12-2012', 12, 'description4', 505, 'guided', 4, 1)
2019-02-26 22:03:55,451 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:03:55,451 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-10-2012', 'Some words1', 1,1)
2019-02-26 22:03:55,453 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:03:55,453 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-11-2012', 'Some words2', 1,1)
2019-02-26 22:03:55,453 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:03:55,453 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-13-2012', 'Some words3', 1,1)
2019-02-26 22:03:55,455 DEBUG [main] org.flywaydb.core.internal.jdbc.TransactionTemplate - Rolling back transaction...
2019-02-26 22:03:55,456 DEBUG [main] org.flywaydb.core.internal.jdbc.TransactionTemplate - Transaction rolled back
2019-02-26 22:03:55,456 ERROR [main] org.flywaydb.core.internal.command.DbMigrate - Migration of schema "public" to version 1.1 - init data failed! Changes successfully rolled back.
2019-02-26 22:03:55,457 DEBUG [main] org.flywaydb.core.Flyway - Memory usage: 20 of 126M
2019-02-26 22:03:55,461 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-26 22:04:03,729 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-26 22:04:03,785 INFO  [main] org.flywaydb.core.internal.database.DatabaseFactory - Database: jdbc:postgresql://localhost:55843/template1 (PostgreSQL 10.6)
2019-02-26 22:04:03,786 DEBUG [main] org.flywaydb.core.internal.database.DatabaseFactory - Driver  : PostgreSQL JDBC Driver 42.2.5
2019-02-26 22:04:03,787 DEBUG [main] org.flywaydb.core.Flyway - DDL Transactions Supported: true
2019-02-26 22:04:03,788 DEBUG [main] org.flywaydb.core.Flyway - Schema: public
2019-02-26 22:04:03,788 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2019-02-26 22:04:03,788 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader jdk.internal.loader.ClassLoaders$AppClassLoader@14514713 ...
2019-02-26 22:04:03,789 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning URL: file:/C:/Users/valik/IdeaProjects/java-lab-task-1/target/classes/db/migration
2019-02-26 22:04:03,789 DEBUG [main] org.flywaydb.core.internal.util.FeatureDetector - JBoss VFS v2 available: false
2019-02-26 22:04:03,789 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: C:\Users\valik\IdeaProjects\java-lab-task-1\target\classes\
2019-02-26 22:04:03,789 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning for resources in path: C:\Users\valik\IdeaProjects\java-lab-task-1\target\classes\db\migration (db/migration)
2019-02-26 22:04:03,789 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: db/migration/V1_1__init_data.sql
2019-02-26 22:04:03,789 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: db/migration/V1__init_schema.sql
2019-02-26 22:04:03,789 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2019-02-26 22:04:03,790 DEBUG [main] org.flywaydb.core.internal.callback.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
2019-02-26 22:04:03,790 DEBUG [main] org.flywaydb.core.internal.util.FeatureDetector - Spring Jdbc available: true
2019-02-26 22:04:03,795 DEBUG [main] org.flywaydb.core.internal.command.DbValidate - Validating migrations ...
2019-02-26 22:04:03,795 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing V1_1__init_data.sql ...
2019-02-26 22:04:03,796 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 1: INSERT INTO "user" (login, password)
VALUES ('user1', 'user1')
2019-02-26 22:04:03,796 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 3: INSERT INTO "user" (login, password)
VALUES ('user2', 'user2')
2019-02-26 22:04:03,796 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 5: INSERT INTO "user" (login, password)
VALUES ('user3', 'user3')
2019-02-26 22:04:03,796 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 7: INSERT INTO "user" (login, password)
VALUES ('user4', 'user4')
2019-02-26 22:04:03,796 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 10: INSERT INTO "country" (name)
VALUES ('testCountry')
2019-02-26 22:04:03,796 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 13: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test1', 4, 'test1', 1, 1, 'security')
2019-02-26 22:04:03,796 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 15: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test2', 4, 'test2', 1, 1, 'security')
2019-02-26 22:04:03,796 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 17: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test3', 4, 'test3', 1, 1, 'security')
2019-02-26 22:04:03,797 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 19: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test4', 4, 'test4', 1, 1, 'security')
2019-02-26 22:04:03,797 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 22: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test1.jpg', '12-12-2012', 12, 'description1', 505, 'guided', 1, 1)
2019-02-26 22:04:03,797 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 24: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test2.jpg', '12-12-2012', 12, 'description2', 505, 'guided', 2, 1)
2019-02-26 22:04:03,797 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 26: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test3.jpg', '12-12-2012', 12, 'description3', 505, 'guided', 3, 1)
2019-02-26 22:04:03,797 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 28: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test4.jpg', '12-12-2012', 12, 'description4', 505, 'guided', 4, 1)
2019-02-26 22:04:03,797 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 31: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-10-2012', 'Some words1', 1,1)
2019-02-26 22:04:03,797 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 32: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-11-2012', 'Some words2', 1,1)
2019-02-26 22:04:03,797 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 33: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-13-2012', 'Some words3', 1,1)
2019-02-26 22:04:03,797 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 34: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-14-2012', 'Some words4', 1,1)
2019-02-26 22:04:03,798 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing V1__init_schema.sql ...
2019-02-26 22:04:03,799 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 1: CREATE TYPE TOUR_TYPE AS ENUM
  (
    'bus', 'sightseeing', 'shore_excursion',
    'adventure', 'sporting', 'cruise',
    'escorted', 'guided', 'rail', 'extreme'
    )
2019-02-26 22:04:03,799 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 8: CREATE TYPE HOTEL_FEATURE AS ENUM
  (
    'cleanliness', 'security', 'wi-fi', 'breakfast', 'parking', 'air_conditioning',
    'food_delivery', 'pool', 'conference_hall', 'safe'
    )
2019-02-26 22:04:03,799 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 16: CREATE TABLE IF NOT EXISTS "user"
(
  id       SERIAL,
  login    VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255)        NOT NULL,
  PRIMARY KEY (id)
)
2019-02-26 22:04:03,799 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 24: CREATE TABLE IF NOT EXISTS "hotel"
(
  id        SERIAL,
  name      VARCHAR(255)   NOT NULL,
  stars     SMALLINT       NOT NULL,
  website   VARCHAR(255)   NOT NULL,
  latitude  DECIMAL(8, 6)  NOT NULL,
  longitude DECIMAL(8, 6)  NOT NULL,
  feature   HOTEL_FEATURE NOT NULL,
  PRIMARY KEY (id)
)
2019-02-26 22:04:03,799 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 36: CREATE TABLE IF NOT EXISTS "country"
(
  id   SERIAL,
  name VARCHAR(255),
  PRIMARY KEY (id)
)
2019-02-26 22:04:03,799 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 43: CREATE TABLE IF NOT EXISTS "tour"
(
  id          SERIAL,
  photo       VARCHAR(255),
  date        DATE           NOT NULL,
  duration    INT            NOT NULL,
  description TEXT           NOT NULL,
  cost        DECIMAL(19, 3) NOT NULL,
  tour_type   TOUR_TYPE      NOT NULL,
  hotel_id    INT            NOT NULL,
  country_id  INT            NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (hotel_id) REFERENCES "hotel" (id),
  FOREIGN KEY (country_id) REFERENCES "country" (id)
)
2019-02-26 22:04:03,800 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 59: CREATE TABLE IF NOT EXISTS "usertour"
(
  user_id INT UNIQUE NOT NULL,
  tour_id INT UNIQUE NOT NULL,
  PRIMARY KEY (user_id, tour_id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-26 22:04:03,800 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 68: CREATE TABLE IF NOT EXISTS "review"
(
  id      SERIAL,
  date    DATE NOT NULL,
  text    TEXT NOT NULL,
  user_id INT  NOT NULL,
  tour_id INT  NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-26 22:04:03,800 DEBUG [main] org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1_1__init_data.sql (filename: V1_1__init_data.sql)
2019-02-26 22:04:03,800 DEBUG [main] org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__init_schema.sql (filename: V1__init_schema.sql)
2019-02-26 22:04:03,802 INFO  [main] org.flywaydb.core.internal.command.DbValidate - Successfully validated 2 migrations (execution time 00:00.006s)
2019-02-26 22:04:03,803 DEBUG [main] org.flywaydb.core.internal.command.DbSchemas - Schema "public" already exists. Skipping schema creation.
2019-02-26 22:04:03,810 INFO  [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Creating Schema History table: "public"."flyway_schema_history"
2019-02-26 22:04:03,810 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing createMetaDataTable.sql ...
2019-02-26 22:04:03,811 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 17: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2019-02-26 22:04:03,811 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 29: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2019-02-26 22:04:03,811 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 31: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2019-02-26 22:04:03,811 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2019-02-26 22:04:03,830 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:04:03,830 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2019-02-26 22:04:03,839 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:04:03,839 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2019-02-26 22:04:03,846 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:04:03,846 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Created Schema History table: "public"."flyway_schema_history"
2019-02-26 22:04:03,849 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Current version of schema "public": << Empty Schema >>
2019-02-26 22:04:03,849 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version 1 - init schema
2019-02-26 22:04:03,851 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TYPE TOUR_TYPE AS ENUM
  (
    'bus', 'sightseeing', 'shore_excursion',
    'adventure', 'sporting', 'cruise',
    'escorted', 'guided', 'rail', 'extreme'
    )
2019-02-26 22:04:03,852 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:04:03,852 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TYPE HOTEL_FEATURE AS ENUM
  (
    'cleanliness', 'security', 'wi-fi', 'breakfast', 'parking', 'air_conditioning',
    'food_delivery', 'pool', 'conference_hall', 'safe'
    )
2019-02-26 22:04:03,853 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:04:03,853 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "user"
(
  id       SERIAL,
  login    VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255)        NOT NULL,
  PRIMARY KEY (id)
)
2019-02-26 22:04:03,874 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:04:03,874 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "hotel"
(
  id        SERIAL,
  name      VARCHAR(255)   NOT NULL,
  stars     SMALLINT       NOT NULL,
  website   VARCHAR(255)   NOT NULL,
  latitude  DECIMAL(8, 6)  NOT NULL,
  longitude DECIMAL(8, 6)  NOT NULL,
  feature   HOTEL_FEATURE NOT NULL,
  PRIMARY KEY (id)
)
2019-02-26 22:04:03,887 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:04:03,887 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "country"
(
  id   SERIAL,
  name VARCHAR(255),
  PRIMARY KEY (id)
)
2019-02-26 22:04:03,895 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:04:03,895 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "tour"
(
  id          SERIAL,
  photo       VARCHAR(255),
  date        DATE           NOT NULL,
  duration    INT            NOT NULL,
  description TEXT           NOT NULL,
  cost        DECIMAL(19, 3) NOT NULL,
  tour_type   TOUR_TYPE      NOT NULL,
  hotel_id    INT            NOT NULL,
  country_id  INT            NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (hotel_id) REFERENCES "hotel" (id),
  FOREIGN KEY (country_id) REFERENCES "country" (id)
)
2019-02-26 22:04:03,911 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:04:03,911 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "usertour"
(
  user_id INT UNIQUE NOT NULL,
  tour_id INT UNIQUE NOT NULL,
  PRIMARY KEY (user_id, tour_id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-26 22:04:03,929 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:04:03,929 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "review"
(
  id      SERIAL,
  date    DATE NOT NULL,
  text    TEXT NOT NULL,
  user_id INT  NOT NULL,
  tour_id INT  NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-26 22:04:03,944 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:04:03,944 DEBUG [main] org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version 1 - init schema
2019-02-26 22:04:03,947 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
2019-02-26 22:04:03,953 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version 1.1 - init data
2019-02-26 22:04:03,954 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user1', 'user1')
2019-02-26 22:04:03,955 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:04:03,955 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user2', 'user2')
2019-02-26 22:04:03,956 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:04:03,956 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user3', 'user3')
2019-02-26 22:04:03,956 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:04:03,956 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user4', 'user4')
2019-02-26 22:04:03,956 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:04:03,956 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "country" (name)
VALUES ('testCountry')
2019-02-26 22:04:03,957 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:04:03,957 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test1', 4, 'test1', 1, 1, 'security')
2019-02-26 22:04:03,958 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:04:03,958 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test2', 4, 'test2', 1, 1, 'security')
2019-02-26 22:04:03,958 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:04:03,958 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test3', 4, 'test3', 1, 1, 'security')
2019-02-26 22:04:03,959 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:04:03,959 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test4', 4, 'test4', 1, 1, 'security')
2019-02-26 22:04:03,959 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:04:03,959 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test1.jpg', '12-12-2012', 12, 'description1', 505, 'guided', 1, 1)
2019-02-26 22:04:03,960 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:04:03,960 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test2.jpg', '12-12-2012', 12, 'description2', 505, 'guided', 2, 1)
2019-02-26 22:04:03,961 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:04:03,961 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test3.jpg', '12-12-2012', 12, 'description3', 505, 'guided', 3, 1)
2019-02-26 22:04:03,961 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:04:03,961 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test4.jpg', '12-12-2012', 12, 'description4', 505, 'guided', 4, 1)
2019-02-26 22:04:03,962 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:04:03,962 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-10-2012', 'Some words1', 1,1)
2019-02-26 22:04:03,963 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:04:03,963 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-11-2012', 'Some words2', 1,1)
2019-02-26 22:04:03,964 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:04:03,964 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-13-2012', 'Some words3', 1,1)
2019-02-26 22:04:03,965 DEBUG [main] org.flywaydb.core.internal.jdbc.TransactionTemplate - Rolling back transaction...
2019-02-26 22:04:03,966 DEBUG [main] org.flywaydb.core.internal.jdbc.TransactionTemplate - Transaction rolled back
2019-02-26 22:04:03,966 ERROR [main] org.flywaydb.core.internal.command.DbMigrate - Migration of schema "public" to version 1.1 - init data failed! Changes successfully rolled back.
2019-02-26 22:04:03,967 DEBUG [main] org.flywaydb.core.Flyway - Memory usage: 23 of 126M
2019-02-26 22:04:39,779 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-26 22:04:48,617 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-26 22:04:48,623 INFO  [main] org.flywaydb.core.internal.license.VersionPrinter - Flyway Community Edition 5.2.4 by Boxfuse
2019-02-26 22:04:48,694 INFO  [main] org.flywaydb.core.internal.database.DatabaseFactory - Database: jdbc:postgresql://localhost:55887/template1 (PostgreSQL 10.6)
2019-02-26 22:04:48,694 DEBUG [main] org.flywaydb.core.internal.database.DatabaseFactory - Driver  : PostgreSQL JDBC Driver 42.2.5
2019-02-26 22:04:48,700 DEBUG [main] org.flywaydb.core.Flyway - DDL Transactions Supported: true
2019-02-26 22:04:48,705 DEBUG [main] org.flywaydb.core.Flyway - Schema: public
2019-02-26 22:04:48,710 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2019-02-26 22:04:48,710 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader jdk.internal.loader.ClassLoaders$AppClassLoader@14514713 ...
2019-02-26 22:04:48,711 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning URL: file:/C:/Users/valik/IdeaProjects/java-lab-task-1/target/classes/db/migration
2019-02-26 22:04:48,711 DEBUG [main] org.flywaydb.core.internal.util.FeatureDetector - JBoss VFS v2 available: false
2019-02-26 22:04:48,713 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: C:\Users\valik\IdeaProjects\java-lab-task-1\target\classes\
2019-02-26 22:04:48,713 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning for resources in path: C:\Users\valik\IdeaProjects\java-lab-task-1\target\classes\db\migration (db/migration)
2019-02-26 22:04:48,714 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: db/migration/V1_1__init_data.sql
2019-02-26 22:04:48,714 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: db/migration/V1__init_schema.sql
2019-02-26 22:04:48,714 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2019-02-26 22:04:48,718 DEBUG [main] org.flywaydb.core.internal.callback.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
2019-02-26 22:04:48,724 DEBUG [main] org.flywaydb.core.internal.util.FeatureDetector - Spring Jdbc available: true
2019-02-26 22:04:48,736 DEBUG [main] org.flywaydb.core.internal.command.DbValidate - Validating migrations ...
2019-02-26 22:04:48,742 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing V1_1__init_data.sql ...
2019-02-26 22:04:48,747 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 1: INSERT INTO "user" (login, password)
VALUES ('user1', 'user1')
2019-02-26 22:04:48,748 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 3: INSERT INTO "user" (login, password)
VALUES ('user2', 'user2')
2019-02-26 22:04:48,748 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 5: INSERT INTO "user" (login, password)
VALUES ('user3', 'user3')
2019-02-26 22:04:48,749 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 7: INSERT INTO "user" (login, password)
VALUES ('user4', 'user4')
2019-02-26 22:04:48,749 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 10: INSERT INTO "country" (name)
VALUES ('testCountry')
2019-02-26 22:04:48,749 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 13: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test1', 4, 'test1', 1, 1, 'security')
2019-02-26 22:04:48,750 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 15: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test2', 4, 'test2', 1, 1, 'security')
2019-02-26 22:04:48,751 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 17: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test3', 4, 'test3', 1, 1, 'security')
2019-02-26 22:04:48,751 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 19: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test4', 4, 'test4', 1, 1, 'security')
2019-02-26 22:04:48,752 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 22: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test1.jpg', '12-12-2012', 12, 'description1', 505, 'guided', 1, 1)
2019-02-26 22:04:48,752 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 24: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test2.jpg', '12-12-2012', 12, 'description2', 505, 'guided', 2, 1)
2019-02-26 22:04:48,753 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 26: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test3.jpg', '12-12-2012', 12, 'description3', 505, 'guided', 3, 1)
2019-02-26 22:04:48,753 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 28: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test4.jpg', '12-12-2012', 12, 'description4', 505, 'guided', 4, 1)
2019-02-26 22:04:48,753 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 31: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-10-2012', 'Some words1', 1,1)
2019-02-26 22:04:48,754 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 32: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-11-2012', 'Some words2', 1,1)
2019-02-26 22:04:48,754 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 33: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-12-2012', 'Some words3', 1,1)
2019-02-26 22:04:48,754 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 34: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-12-2012', 'Some words4', 1,1)
2019-02-26 22:04:48,756 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing V1__init_schema.sql ...
2019-02-26 22:04:48,757 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 1: CREATE TYPE TOUR_TYPE AS ENUM
  (
    'bus', 'sightseeing', 'shore_excursion',
    'adventure', 'sporting', 'cruise',
    'escorted', 'guided', 'rail', 'extreme'
    )
2019-02-26 22:04:48,758 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 8: CREATE TYPE HOTEL_FEATURE AS ENUM
  (
    'cleanliness', 'security', 'wi-fi', 'breakfast', 'parking', 'air_conditioning',
    'food_delivery', 'pool', 'conference_hall', 'safe'
    )
2019-02-26 22:04:48,758 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 16: CREATE TABLE IF NOT EXISTS "user"
(
  id       SERIAL,
  login    VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255)        NOT NULL,
  PRIMARY KEY (id)
)
2019-02-26 22:04:48,759 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 24: CREATE TABLE IF NOT EXISTS "hotel"
(
  id        SERIAL,
  name      VARCHAR(255)   NOT NULL,
  stars     SMALLINT       NOT NULL,
  website   VARCHAR(255)   NOT NULL,
  latitude  DECIMAL(8, 6)  NOT NULL,
  longitude DECIMAL(8, 6)  NOT NULL,
  feature   HOTEL_FEATURE NOT NULL,
  PRIMARY KEY (id)
)
2019-02-26 22:04:48,760 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 36: CREATE TABLE IF NOT EXISTS "country"
(
  id   SERIAL,
  name VARCHAR(255),
  PRIMARY KEY (id)
)
2019-02-26 22:04:48,761 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 43: CREATE TABLE IF NOT EXISTS "tour"
(
  id          SERIAL,
  photo       VARCHAR(255),
  date        DATE           NOT NULL,
  duration    INT            NOT NULL,
  description TEXT           NOT NULL,
  cost        DECIMAL(19, 3) NOT NULL,
  tour_type   TOUR_TYPE      NOT NULL,
  hotel_id    INT            NOT NULL,
  country_id  INT            NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (hotel_id) REFERENCES "hotel" (id),
  FOREIGN KEY (country_id) REFERENCES "country" (id)
)
2019-02-26 22:04:48,761 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 59: CREATE TABLE IF NOT EXISTS "usertour"
(
  user_id INT UNIQUE NOT NULL,
  tour_id INT UNIQUE NOT NULL,
  PRIMARY KEY (user_id, tour_id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-26 22:04:48,762 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 68: CREATE TABLE IF NOT EXISTS "review"
(
  id      SERIAL,
  date    DATE NOT NULL,
  text    TEXT NOT NULL,
  user_id INT  NOT NULL,
  tour_id INT  NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-26 22:04:48,763 DEBUG [main] org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1_1__init_data.sql (filename: V1_1__init_data.sql)
2019-02-26 22:04:48,763 DEBUG [main] org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__init_schema.sql (filename: V1__init_schema.sql)
2019-02-26 22:04:48,770 INFO  [main] org.flywaydb.core.internal.command.DbValidate - Successfully validated 2 migrations (execution time 00:00.032s)
2019-02-26 22:04:48,773 DEBUG [main] org.flywaydb.core.internal.command.DbSchemas - Schema "public" already exists. Skipping schema creation.
2019-02-26 22:04:48,782 INFO  [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Creating Schema History table: "public"."flyway_schema_history"
2019-02-26 22:04:48,784 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing createMetaDataTable.sql ...
2019-02-26 22:04:48,787 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 17: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2019-02-26 22:04:48,787 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 29: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2019-02-26 22:04:48,787 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 31: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2019-02-26 22:04:48,787 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2019-02-26 22:04:48,799 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:04:48,799 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2019-02-26 22:04:48,807 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:04:48,807 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2019-02-26 22:04:48,812 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:04:48,813 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Created Schema History table: "public"."flyway_schema_history"
2019-02-26 22:04:48,819 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Current version of schema "public": << Empty Schema >>
2019-02-26 22:04:48,820 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version 1 - init schema
2019-02-26 22:04:48,822 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TYPE TOUR_TYPE AS ENUM
  (
    'bus', 'sightseeing', 'shore_excursion',
    'adventure', 'sporting', 'cruise',
    'escorted', 'guided', 'rail', 'extreme'
    )
2019-02-26 22:04:48,824 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:04:48,824 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TYPE HOTEL_FEATURE AS ENUM
  (
    'cleanliness', 'security', 'wi-fi', 'breakfast', 'parking', 'air_conditioning',
    'food_delivery', 'pool', 'conference_hall', 'safe'
    )
2019-02-26 22:04:48,824 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:04:48,824 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "user"
(
  id       SERIAL,
  login    VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255)        NOT NULL,
  PRIMARY KEY (id)
)
2019-02-26 22:04:48,845 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:04:48,845 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "hotel"
(
  id        SERIAL,
  name      VARCHAR(255)   NOT NULL,
  stars     SMALLINT       NOT NULL,
  website   VARCHAR(255)   NOT NULL,
  latitude  DECIMAL(8, 6)  NOT NULL,
  longitude DECIMAL(8, 6)  NOT NULL,
  feature   HOTEL_FEATURE NOT NULL,
  PRIMARY KEY (id)
)
2019-02-26 22:04:48,859 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:04:48,859 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "country"
(
  id   SERIAL,
  name VARCHAR(255),
  PRIMARY KEY (id)
)
2019-02-26 22:04:48,867 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:04:48,867 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "tour"
(
  id          SERIAL,
  photo       VARCHAR(255),
  date        DATE           NOT NULL,
  duration    INT            NOT NULL,
  description TEXT           NOT NULL,
  cost        DECIMAL(19, 3) NOT NULL,
  tour_type   TOUR_TYPE      NOT NULL,
  hotel_id    INT            NOT NULL,
  country_id  INT            NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (hotel_id) REFERENCES "hotel" (id),
  FOREIGN KEY (country_id) REFERENCES "country" (id)
)
2019-02-26 22:04:48,883 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:04:48,883 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "usertour"
(
  user_id INT UNIQUE NOT NULL,
  tour_id INT UNIQUE NOT NULL,
  PRIMARY KEY (user_id, tour_id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-26 22:04:48,910 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:04:48,910 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "review"
(
  id      SERIAL,
  date    DATE NOT NULL,
  text    TEXT NOT NULL,
  user_id INT  NOT NULL,
  tour_id INT  NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-26 22:04:48,925 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:04:48,925 DEBUG [main] org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version 1 - init schema
2019-02-26 22:04:48,929 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
2019-02-26 22:04:48,939 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version 1.1 - init data
2019-02-26 22:04:48,940 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user1', 'user1')
2019-02-26 22:04:48,942 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:04:48,942 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user2', 'user2')
2019-02-26 22:04:48,942 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:04:48,942 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user3', 'user3')
2019-02-26 22:04:48,943 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:04:48,943 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user4', 'user4')
2019-02-26 22:04:48,943 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:04:48,943 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "country" (name)
VALUES ('testCountry')
2019-02-26 22:04:48,944 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:04:48,944 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test1', 4, 'test1', 1, 1, 'security')
2019-02-26 22:04:48,945 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:04:48,945 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test2', 4, 'test2', 1, 1, 'security')
2019-02-26 22:04:48,946 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:04:48,946 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test3', 4, 'test3', 1, 1, 'security')
2019-02-26 22:04:48,946 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:04:48,946 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test4', 4, 'test4', 1, 1, 'security')
2019-02-26 22:04:48,947 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:04:48,947 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test1.jpg', '12-12-2012', 12, 'description1', 505, 'guided', 1, 1)
2019-02-26 22:04:48,948 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:04:48,948 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test2.jpg', '12-12-2012', 12, 'description2', 505, 'guided', 2, 1)
2019-02-26 22:04:48,949 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:04:48,949 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test3.jpg', '12-12-2012', 12, 'description3', 505, 'guided', 3, 1)
2019-02-26 22:04:48,949 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:04:48,949 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test4.jpg', '12-12-2012', 12, 'description4', 505, 'guided', 4, 1)
2019-02-26 22:04:48,950 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:04:48,950 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-10-2012', 'Some words1', 1,1)
2019-02-26 22:04:48,951 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:04:48,952 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-11-2012', 'Some words2', 1,1)
2019-02-26 22:04:48,952 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:04:48,952 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-12-2012', 'Some words3', 1,1)
2019-02-26 22:04:48,953 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:04:48,953 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-12-2012', 'Some words4', 1,1)
2019-02-26 22:04:48,953 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:04:48,953 DEBUG [main] org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version 1.1 - init data
2019-02-26 22:04:48,955 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
2019-02-26 22:04:48,958 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Successfully applied 2 migrations to schema "public" (execution time 00:00.176s)
2019-02-26 22:04:48,959 DEBUG [main] org.flywaydb.core.Flyway - Memory usage: 13 of 126M
2019-02-26 22:04:51,487 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-26 22:04:53,483 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-26 22:04:55,974 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-26 22:05:36,128 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-26 22:05:46,279 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-26 22:05:46,286 INFO  [main] org.flywaydb.core.internal.license.VersionPrinter - Flyway Community Edition 5.2.4 by Boxfuse
2019-02-26 22:05:46,359 INFO  [main] org.flywaydb.core.internal.database.DatabaseFactory - Database: jdbc:postgresql://localhost:56004/template1 (PostgreSQL 10.6)
2019-02-26 22:05:46,359 DEBUG [main] org.flywaydb.core.internal.database.DatabaseFactory - Driver  : PostgreSQL JDBC Driver 42.2.5
2019-02-26 22:05:46,366 DEBUG [main] org.flywaydb.core.Flyway - DDL Transactions Supported: true
2019-02-26 22:05:46,372 DEBUG [main] org.flywaydb.core.Flyway - Schema: public
2019-02-26 22:05:46,377 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2019-02-26 22:05:46,377 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader jdk.internal.loader.ClassLoaders$AppClassLoader@6ed3ef1 ...
2019-02-26 22:05:46,377 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning URL: file:/C:/Users/valik/IdeaProjects/java-lab-task-1/target/classes/db/migration
2019-02-26 22:05:46,378 DEBUG [main] org.flywaydb.core.internal.util.FeatureDetector - JBoss VFS v2 available: false
2019-02-26 22:05:46,380 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: C:\Users\valik\IdeaProjects\java-lab-task-1\target\classes\
2019-02-26 22:05:46,380 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning for resources in path: C:\Users\valik\IdeaProjects\java-lab-task-1\target\classes\db\migration (db/migration)
2019-02-26 22:05:46,381 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: db/migration/V1_1__init_data.sql
2019-02-26 22:05:46,381 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: db/migration/V1__init_schema.sql
2019-02-26 22:05:46,381 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2019-02-26 22:05:46,385 DEBUG [main] org.flywaydb.core.internal.callback.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
2019-02-26 22:05:46,392 DEBUG [main] org.flywaydb.core.internal.util.FeatureDetector - Spring Jdbc available: true
2019-02-26 22:05:46,425 DEBUG [main] org.flywaydb.core.internal.command.DbValidate - Validating migrations ...
2019-02-26 22:05:46,430 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing V1_1__init_data.sql ...
2019-02-26 22:05:46,438 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 1: INSERT INTO "user" (login, password)
VALUES ('user1', 'user1')
2019-02-26 22:05:46,439 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 3: INSERT INTO "user" (login, password)
VALUES ('user2', 'user2')
2019-02-26 22:05:46,439 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 5: INSERT INTO "user" (login, password)
VALUES ('user3', 'user3')
2019-02-26 22:05:46,439 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 7: INSERT INTO "user" (login, password)
VALUES ('user4', 'user4')
2019-02-26 22:05:46,439 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 10: INSERT INTO "country" (name)
VALUES ('testCountry')
2019-02-26 22:05:46,440 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 13: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test1', 4, 'test1', 1, 1, 'security')
2019-02-26 22:05:46,440 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 15: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test2', 4, 'test2', 1, 1, 'security')
2019-02-26 22:05:46,440 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 17: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test3', 4, 'test3', 1, 1, 'security')
2019-02-26 22:05:46,441 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 19: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test4', 4, 'test4', 1, 1, 'security')
2019-02-26 22:05:46,441 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 22: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test1.jpg', '12-12-2012', 12, 'description1', 505, 'guided', 1, 1)
2019-02-26 22:05:46,441 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 24: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test2.jpg', '12-12-2012', 12, 'description2', 505, 'guided', 2, 1)
2019-02-26 22:05:46,442 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 26: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test3.jpg', '12-12-2012', 12, 'description3', 505, 'guided', 3, 1)
2019-02-26 22:05:46,442 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 28: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test4.jpg', '12-12-2012', 12, 'description4', 505, 'guided', 4, 1)
2019-02-26 22:05:46,442 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 31: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-10-2012', 'Some words1', 1,1)
2019-02-26 22:05:46,443 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 32: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-11-2012', 'Some words2', 1,1)
2019-02-26 22:05:46,443 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 33: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-12-2012', 'Some words3', 1,1)
2019-02-26 22:05:46,443 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 34: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-12-2012', 'Some words4', 1,1)
2019-02-26 22:05:46,445 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing V1__init_schema.sql ...
2019-02-26 22:05:46,450 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 1: CREATE TYPE TOUR_TYPE AS ENUM
  (
    'bus', 'sightseeing', 'shore_excursion',
    'adventure', 'sporting', 'cruise',
    'escorted', 'guided', 'rail', 'extreme'
    )
2019-02-26 22:05:46,451 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 8: CREATE TYPE HOTEL_FEATURE AS ENUM
  (
    'cleanliness', 'security', 'wi-fi', 'breakfast', 'parking', 'air_conditioning',
    'food_delivery', 'pool', 'conference_hall', 'safe'
    )
2019-02-26 22:05:46,452 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 16: CREATE TABLE IF NOT EXISTS "user"
(
  id       SERIAL,
  login    VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255)        NOT NULL,
  PRIMARY KEY (id)
)
2019-02-26 22:05:46,453 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 24: CREATE TABLE IF NOT EXISTS "hotel"
(
  id        SERIAL,
  name      VARCHAR(255)   NOT NULL,
  stars     SMALLINT       NOT NULL,
  website   VARCHAR(255)   NOT NULL,
  latitude  DECIMAL(8, 6)  NOT NULL,
  longitude DECIMAL(8, 6)  NOT NULL,
  feature   HOTEL_FEATURE NOT NULL,
  PRIMARY KEY (id)
)
2019-02-26 22:05:46,453 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 36: CREATE TABLE IF NOT EXISTS "country"
(
  id   SERIAL,
  name VARCHAR(255),
  PRIMARY KEY (id)
)
2019-02-26 22:05:46,454 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 43: CREATE TABLE IF NOT EXISTS "tour"
(
  id          SERIAL,
  photo       VARCHAR(255),
  date        DATE           NOT NULL,
  duration    INT            NOT NULL,
  description TEXT           NOT NULL,
  cost        DECIMAL(19, 3) NOT NULL,
  tour_type   TOUR_TYPE      NOT NULL,
  hotel_id    INT            NOT NULL,
  country_id  INT            NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (hotel_id) REFERENCES "hotel" (id),
  FOREIGN KEY (country_id) REFERENCES "country" (id)
)
2019-02-26 22:05:46,455 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 59: CREATE TABLE IF NOT EXISTS "usertour"
(
  user_id INT UNIQUE NOT NULL,
  tour_id INT UNIQUE NOT NULL,
  PRIMARY KEY (user_id, tour_id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-26 22:05:46,455 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 68: CREATE TABLE IF NOT EXISTS "review"
(
  id      SERIAL,
  date    DATE NOT NULL,
  text    TEXT NOT NULL,
  user_id INT  NOT NULL,
  tour_id INT  NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-26 22:05:46,457 DEBUG [main] org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1_1__init_data.sql (filename: V1_1__init_data.sql)
2019-02-26 22:05:46,457 DEBUG [main] org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__init_schema.sql (filename: V1__init_schema.sql)
2019-02-26 22:05:46,463 INFO  [main] org.flywaydb.core.internal.command.DbValidate - Successfully validated 2 migrations (execution time 00:00.037s)
2019-02-26 22:05:46,466 DEBUG [main] org.flywaydb.core.internal.command.DbSchemas - Schema "public" already exists. Skipping schema creation.
2019-02-26 22:05:46,476 INFO  [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Creating Schema History table: "public"."flyway_schema_history"
2019-02-26 22:05:46,478 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing createMetaDataTable.sql ...
2019-02-26 22:05:46,480 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 17: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2019-02-26 22:05:46,480 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 29: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2019-02-26 22:05:46,481 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 31: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2019-02-26 22:05:46,481 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2019-02-26 22:05:46,495 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:05:46,495 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2019-02-26 22:05:46,502 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:05:46,502 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2019-02-26 22:05:46,508 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:05:46,509 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Created Schema History table: "public"."flyway_schema_history"
2019-02-26 22:05:46,516 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Current version of schema "public": << Empty Schema >>
2019-02-26 22:05:46,517 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version 1 - init schema
2019-02-26 22:05:46,518 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TYPE TOUR_TYPE AS ENUM
  (
    'bus', 'sightseeing', 'shore_excursion',
    'adventure', 'sporting', 'cruise',
    'escorted', 'guided', 'rail', 'extreme'
    )
2019-02-26 22:05:46,520 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:05:46,520 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TYPE HOTEL_FEATURE AS ENUM
  (
    'cleanliness', 'security', 'wi-fi', 'breakfast', 'parking', 'air_conditioning',
    'food_delivery', 'pool', 'conference_hall', 'safe'
    )
2019-02-26 22:05:46,521 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:05:46,521 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "user"
(
  id       SERIAL,
  login    VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255)        NOT NULL,
  PRIMARY KEY (id)
)
2019-02-26 22:05:46,541 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:05:46,541 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "hotel"
(
  id        SERIAL,
  name      VARCHAR(255)   NOT NULL,
  stars     SMALLINT       NOT NULL,
  website   VARCHAR(255)   NOT NULL,
  latitude  DECIMAL(8, 6)  NOT NULL,
  longitude DECIMAL(8, 6)  NOT NULL,
  feature   HOTEL_FEATURE NOT NULL,
  PRIMARY KEY (id)
)
2019-02-26 22:05:46,554 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:05:46,554 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "country"
(
  id   SERIAL,
  name VARCHAR(255),
  PRIMARY KEY (id)
)
2019-02-26 22:05:46,562 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:05:46,562 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "tour"
(
  id          SERIAL,
  photo       VARCHAR(255),
  date        DATE           NOT NULL,
  duration    INT            NOT NULL,
  description TEXT           NOT NULL,
  cost        DECIMAL(19, 3) NOT NULL,
  tour_type   TOUR_TYPE      NOT NULL,
  hotel_id    INT            NOT NULL,
  country_id  INT            NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (hotel_id) REFERENCES "hotel" (id),
  FOREIGN KEY (country_id) REFERENCES "country" (id)
)
2019-02-26 22:05:46,578 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:05:46,578 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "usertour"
(
  user_id INT UNIQUE NOT NULL,
  tour_id INT UNIQUE NOT NULL,
  PRIMARY KEY (user_id, tour_id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-26 22:05:46,596 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:05:46,596 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "review"
(
  id      SERIAL,
  date    DATE NOT NULL,
  text    TEXT NOT NULL,
  user_id INT  NOT NULL,
  tour_id INT  NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-26 22:05:46,609 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:05:46,609 DEBUG [main] org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version 1 - init schema
2019-02-26 22:05:46,613 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
2019-02-26 22:05:46,622 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version 1.1 - init data
2019-02-26 22:05:46,624 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user1', 'user1')
2019-02-26 22:05:46,625 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:05:46,625 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user2', 'user2')
2019-02-26 22:05:46,626 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:05:46,626 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user3', 'user3')
2019-02-26 22:05:46,626 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:05:46,626 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user4', 'user4')
2019-02-26 22:05:46,626 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:05:46,626 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "country" (name)
VALUES ('testCountry')
2019-02-26 22:05:46,627 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:05:46,627 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test1', 4, 'test1', 1, 1, 'security')
2019-02-26 22:05:46,629 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:05:46,629 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test2', 4, 'test2', 1, 1, 'security')
2019-02-26 22:05:46,629 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:05:46,630 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test3', 4, 'test3', 1, 1, 'security')
2019-02-26 22:05:46,630 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:05:46,630 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test4', 4, 'test4', 1, 1, 'security')
2019-02-26 22:05:46,630 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:05:46,630 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test1.jpg', '12-12-2012', 12, 'description1', 505, 'guided', 1, 1)
2019-02-26 22:05:46,636 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:05:46,637 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test2.jpg', '12-12-2012', 12, 'description2', 505, 'guided', 2, 1)
2019-02-26 22:05:46,637 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:05:46,638 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test3.jpg', '12-12-2012', 12, 'description3', 505, 'guided', 3, 1)
2019-02-26 22:05:46,639 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:05:46,639 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test4.jpg', '12-12-2012', 12, 'description4', 505, 'guided', 4, 1)
2019-02-26 22:05:46,639 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:05:46,639 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-10-2012', 'Some words1', 1,1)
2019-02-26 22:05:46,641 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:05:46,641 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-11-2012', 'Some words2', 1,1)
2019-02-26 22:05:46,641 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:05:46,642 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-12-2012', 'Some words3', 1,1)
2019-02-26 22:05:46,642 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:05:46,642 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-12-2012', 'Some words4', 1,1)
2019-02-26 22:05:46,643 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:05:46,643 DEBUG [main] org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version 1.1 - init data
2019-02-26 22:05:46,645 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
2019-02-26 22:05:46,647 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Successfully applied 2 migrations to schema "public" (execution time 00:00.172s)
2019-02-26 22:05:46,649 DEBUG [main] org.flywaydb.core.Flyway - Memory usage: 14 of 126M
2019-02-26 22:05:49,068 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-26 22:05:51,702 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-26 22:05:53,421 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-26 22:06:31,161 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-26 22:06:40,242 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-26 22:06:40,248 INFO  [main] org.flywaydb.core.internal.license.VersionPrinter - Flyway Community Edition 5.2.4 by Boxfuse
2019-02-26 22:06:40,316 INFO  [main] org.flywaydb.core.internal.database.DatabaseFactory - Database: jdbc:postgresql://localhost:56104/template1 (PostgreSQL 10.6)
2019-02-26 22:06:40,316 DEBUG [main] org.flywaydb.core.internal.database.DatabaseFactory - Driver  : PostgreSQL JDBC Driver 42.2.5
2019-02-26 22:06:40,321 DEBUG [main] org.flywaydb.core.Flyway - DDL Transactions Supported: true
2019-02-26 22:06:40,326 DEBUG [main] org.flywaydb.core.Flyway - Schema: public
2019-02-26 22:06:40,330 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2019-02-26 22:06:40,330 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader jdk.internal.loader.ClassLoaders$AppClassLoader@14514713 ...
2019-02-26 22:06:40,331 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning URL: file:/C:/Users/valik/IdeaProjects/java-lab-task-1/target/classes/db/migration
2019-02-26 22:06:40,331 DEBUG [main] org.flywaydb.core.internal.util.FeatureDetector - JBoss VFS v2 available: false
2019-02-26 22:06:40,333 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: C:\Users\valik\IdeaProjects\java-lab-task-1\target\classes\
2019-02-26 22:06:40,333 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.FileSystemClassPathLocationScanner - Scanning for resources in path: C:\Users\valik\IdeaProjects\java-lab-task-1\target\classes\db\migration (db/migration)
2019-02-26 22:06:40,334 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: db/migration/V1_1__init_data.sql
2019-02-26 22:06:40,334 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Found resource: db/migration/V1__init_schema.sql
2019-02-26 22:06:40,334 DEBUG [main] org.flywaydb.core.internal.scanner.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2019-02-26 22:06:40,337 DEBUG [main] org.flywaydb.core.internal.callback.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
2019-02-26 22:06:40,342 DEBUG [main] org.flywaydb.core.internal.util.FeatureDetector - Spring Jdbc available: true
2019-02-26 22:06:40,353 DEBUG [main] org.flywaydb.core.internal.command.DbValidate - Validating migrations ...
2019-02-26 22:06:40,358 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing V1_1__init_data.sql ...
2019-02-26 22:06:40,362 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 1: INSERT INTO "user" (login, password)
VALUES ('user1', 'user1')
2019-02-26 22:06:40,362 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 3: INSERT INTO "user" (login, password)
VALUES ('user2', 'user2')
2019-02-26 22:06:40,363 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 5: INSERT INTO "user" (login, password)
VALUES ('user3', 'user3')
2019-02-26 22:06:40,363 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 7: INSERT INTO "user" (login, password)
VALUES ('user4', 'user4')
2019-02-26 22:06:40,363 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 10: INSERT INTO "country" (name)
VALUES ('testCountry')
2019-02-26 22:06:40,364 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 13: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test1', 4, 'test1', 1, 1, 'security')
2019-02-26 22:06:40,364 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 15: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test2', 4, 'test2', 1, 1, 'security')
2019-02-26 22:06:40,364 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 17: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test3', 4, 'test3', 1, 1, 'security')
2019-02-26 22:06:40,364 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 19: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test4', 4, 'test4', 1, 1, 'security')
2019-02-26 22:06:40,365 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 22: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test1.jpg', '12-12-2012', 12, 'description1', 505, 'guided', 1, 1)
2019-02-26 22:06:40,365 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 24: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test2.jpg', '12-12-2012', 12, 'description2', 505, 'guided', 2, 1)
2019-02-26 22:06:40,366 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 26: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test3.jpg', '12-12-2012', 12, 'description3', 505, 'guided', 3, 1)
2019-02-26 22:06:40,366 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 28: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test4.jpg', '12-12-2012', 12, 'description4', 505, 'guided', 4, 1)
2019-02-26 22:06:40,366 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 31: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-10-2012', 'Some words1', 1,1)
2019-02-26 22:06:40,366 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 32: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-11-2012', 'Some words2', 1,1)
2019-02-26 22:06:40,367 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 33: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-12-2012', 'Some words3', 1,1)
2019-02-26 22:06:40,367 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 34: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-12-2012', 'Some words4', 1,1)
2019-02-26 22:06:40,369 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing V1__init_schema.sql ...
2019-02-26 22:06:40,370 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 1: CREATE TYPE TOUR_TYPE AS ENUM
  (
    'bus', 'sightseeing', 'shore_excursion',
    'adventure', 'sporting', 'cruise',
    'escorted', 'guided', 'rail', 'extreme'
    )
2019-02-26 22:06:40,370 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 8: CREATE TYPE HOTEL_FEATURE AS ENUM
  (
    'cleanliness', 'security', 'wi-fi', 'breakfast', 'parking', 'air_conditioning',
    'food_delivery', 'pool', 'conference_hall', 'safe'
    )
2019-02-26 22:06:40,371 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 16: CREATE TABLE IF NOT EXISTS "user"
(
  id       SERIAL,
  login    VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255)        NOT NULL,
  PRIMARY KEY (id)
)
2019-02-26 22:06:40,372 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 24: CREATE TABLE IF NOT EXISTS "hotel"
(
  id        SERIAL,
  name      VARCHAR(255)   NOT NULL,
  stars     SMALLINT       NOT NULL,
  website   VARCHAR(255)   NOT NULL,
  latitude  DECIMAL(8, 6)  NOT NULL,
  longitude DECIMAL(8, 6)  NOT NULL,
  feature   HOTEL_FEATURE NOT NULL,
  PRIMARY KEY (id)
)
2019-02-26 22:06:40,372 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 36: CREATE TABLE IF NOT EXISTS "country"
(
  id   SERIAL,
  name VARCHAR(255),
  PRIMARY KEY (id)
)
2019-02-26 22:06:40,373 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 43: CREATE TABLE IF NOT EXISTS "tour"
(
  id          SERIAL,
  photo       VARCHAR(255),
  date        DATE           NOT NULL,
  duration    INT            NOT NULL,
  description TEXT           NOT NULL,
  cost        DECIMAL(19, 3) NOT NULL,
  tour_type   TOUR_TYPE      NOT NULL,
  hotel_id    INT            NOT NULL,
  country_id  INT            NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (hotel_id) REFERENCES "hotel" (id),
  FOREIGN KEY (country_id) REFERENCES "country" (id)
)
2019-02-26 22:06:40,374 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 59: CREATE TABLE IF NOT EXISTS "usertour"
(
  user_id INT UNIQUE NOT NULL,
  tour_id INT UNIQUE NOT NULL,
  PRIMARY KEY (user_id, tour_id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-26 22:06:40,374 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 68: CREATE TABLE IF NOT EXISTS "review"
(
  id      SERIAL,
  date    DATE NOT NULL,
  text    TEXT NOT NULL,
  user_id INT  NOT NULL,
  tour_id INT  NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-26 22:06:40,376 DEBUG [main] org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1_1__init_data.sql (filename: V1_1__init_data.sql)
2019-02-26 22:06:40,376 DEBUG [main] org.flywaydb.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__init_schema.sql (filename: V1__init_schema.sql)
2019-02-26 22:06:40,382 INFO  [main] org.flywaydb.core.internal.command.DbValidate - Successfully validated 2 migrations (execution time 00:00.027s)
2019-02-26 22:06:40,384 DEBUG [main] org.flywaydb.core.internal.command.DbSchemas - Schema "public" already exists. Skipping schema creation.
2019-02-26 22:06:40,393 INFO  [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Creating Schema History table: "public"."flyway_schema_history"
2019-02-26 22:06:40,396 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Parsing createMetaDataTable.sql ...
2019-02-26 22:06:40,397 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 17: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2019-02-26 22:06:40,398 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 29: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2019-02-26 22:06:40,398 DEBUG [main] org.flywaydb.core.internal.sqlscript.SqlScript - Found statement at line 31: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2019-02-26 22:06:40,398 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2019-02-26 22:06:40,410 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:06:40,410 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2019-02-26 22:06:40,417 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:06:40,417 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2019-02-26 22:06:40,423 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:06:40,424 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Created Schema History table: "public"."flyway_schema_history"
2019-02-26 22:06:40,429 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Current version of schema "public": << Empty Schema >>
2019-02-26 22:06:40,430 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version 1 - init schema
2019-02-26 22:06:40,431 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TYPE TOUR_TYPE AS ENUM
  (
    'bus', 'sightseeing', 'shore_excursion',
    'adventure', 'sporting', 'cruise',
    'escorted', 'guided', 'rail', 'extreme'
    )
2019-02-26 22:06:40,433 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:06:40,433 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TYPE HOTEL_FEATURE AS ENUM
  (
    'cleanliness', 'security', 'wi-fi', 'breakfast', 'parking', 'air_conditioning',
    'food_delivery', 'pool', 'conference_hall', 'safe'
    )
2019-02-26 22:06:40,434 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:06:40,434 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "user"
(
  id       SERIAL,
  login    VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255)        NOT NULL,
  PRIMARY KEY (id)
)
2019-02-26 22:06:40,453 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:06:40,453 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "hotel"
(
  id        SERIAL,
  name      VARCHAR(255)   NOT NULL,
  stars     SMALLINT       NOT NULL,
  website   VARCHAR(255)   NOT NULL,
  latitude  DECIMAL(8, 6)  NOT NULL,
  longitude DECIMAL(8, 6)  NOT NULL,
  feature   HOTEL_FEATURE NOT NULL,
  PRIMARY KEY (id)
)
2019-02-26 22:06:40,468 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:06:40,468 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "country"
(
  id   SERIAL,
  name VARCHAR(255),
  PRIMARY KEY (id)
)
2019-02-26 22:06:40,476 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:06:40,476 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "tour"
(
  id          SERIAL,
  photo       VARCHAR(255),
  date        DATE           NOT NULL,
  duration    INT            NOT NULL,
  description TEXT           NOT NULL,
  cost        DECIMAL(19, 3) NOT NULL,
  tour_type   TOUR_TYPE      NOT NULL,
  hotel_id    INT            NOT NULL,
  country_id  INT            NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (hotel_id) REFERENCES "hotel" (id),
  FOREIGN KEY (country_id) REFERENCES "country" (id)
)
2019-02-26 22:06:40,490 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:06:40,491 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "usertour"
(
  user_id INT UNIQUE NOT NULL,
  tour_id INT UNIQUE NOT NULL,
  PRIMARY KEY (user_id, tour_id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-26 22:06:40,508 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:06:40,508 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE IF NOT EXISTS "review"
(
  id      SERIAL,
  date    DATE NOT NULL,
  text    TEXT NOT NULL,
  user_id INT  NOT NULL,
  tour_id INT  NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (user_id) REFERENCES "user" (id),
  FOREIGN KEY (tour_id) REFERENCES "tour" (id)
)
2019-02-26 22:06:40,521 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 0
2019-02-26 22:06:40,522 DEBUG [main] org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version 1 - init schema
2019-02-26 22:06:40,526 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
2019-02-26 22:06:40,535 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Migrating schema "public" to version 1.1 - init data
2019-02-26 22:06:40,537 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user1', 'user1')
2019-02-26 22:06:40,538 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:06:40,538 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user2', 'user2')
2019-02-26 22:06:40,538 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:06:40,538 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user3', 'user3')
2019-02-26 22:06:40,539 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:06:40,539 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "user" (login, password)
VALUES ('user4', 'user4')
2019-02-26 22:06:40,539 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:06:40,539 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "country" (name)
VALUES ('testCountry')
2019-02-26 22:06:40,540 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:06:40,540 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test1', 4, 'test1', 1, 1, 'security')
2019-02-26 22:06:40,541 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:06:40,541 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test2', 4, 'test2', 1, 1, 'security')
2019-02-26 22:06:40,541 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:06:40,541 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test3', 4, 'test3', 1, 1, 'security')
2019-02-26 22:06:40,542 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:06:40,542 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "hotel" (name, stars, website, latitude, longitude, feature)
VALUES ('test4', 4, 'test4', 1, 1, 'security')
2019-02-26 22:06:40,542 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:06:40,542 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test1.jpg', '12-12-2012', 12, 'description1', 505, 'guided', 1, 1)
2019-02-26 22:06:40,543 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:06:40,543 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test2.jpg', '12-12-2012', 12, 'description2', 505, 'guided', 2, 1)
2019-02-26 22:06:40,544 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:06:40,544 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test3.jpg', '12-12-2012', 12, 'description3', 505, 'guided', 3, 1)
2019-02-26 22:06:40,545 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:06:40,545 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "tour" (photo, date, duration, description, cost, tour_type, hotel_id, country_id)
VALUES ('test4.jpg', '12-12-2012', 12, 'description4', 505, 'guided', 4, 1)
2019-02-26 22:06:40,545 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:06:40,545 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-10-2012', 'Some words1', 1,1)
2019-02-26 22:06:40,546 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:06:40,546 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-11-2012', 'Some words2', 1,1)
2019-02-26 22:06:40,547 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:06:40,547 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-12-2012', 'Some words3', 1,1)
2019-02-26 22:06:40,547 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:06:40,548 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Executing SQL: INSERT INTO "review" (date, text, user_id, tour_id) VALUES ('12-12-2012', 'Some words4', 1,1)
2019-02-26 22:06:40,548 DEBUG [main] org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor - Update Count: 1
2019-02-26 22:06:40,548 DEBUG [main] org.flywaydb.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version 1.1 - init data
2019-02-26 22:06:40,550 DEBUG [main] org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
2019-02-26 22:06:40,553 INFO  [main] org.flywaydb.core.internal.command.DbMigrate - Successfully applied 2 migrations to schema "public" (execution time 00:00.161s)
2019-02-26 22:06:40,554 DEBUG [main] org.flywaydb.core.Flyway - Memory usage: 13 of 126M
2019-02-26 22:06:42,862 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-26 22:06:44,759 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
2019-02-26 22:06:46,226 WARN  [main] org.flywaydb.core.Flyway - Direct configuration of the Flyway object has been deprecated and will be removed in Flyway 6.0. Use Flyway.configure() instead.
